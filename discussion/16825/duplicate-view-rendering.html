---
layout: default
title: 'Duplicate view rendering - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Duplicate view rendering</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a></span>
            <time itemprop="dateCreated" datetime="2017-08-27T03:15:12-07:00">Aug '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-08-27T03:15:12-07:00">Aug '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Aug '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>433</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a></span>
                <span class="karma">9.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C16825" href="#C16825">
        <time class="action-date">Aug '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,</p>
<p>I am using multiple viewsDirs and I need to confirm, that actual template targeting in Phalcon works as intended.</p>
<p>I have 2 view dirs:</p>
<ol>
<li>.../skins/my_skin/views</li>
<li>.../frontend/views/</li>
</ol>
<p>I would expect, as in other frameworks, that if I have template block/footer.volt under both directories, it will check for first existing template under views dirs and render it.</p>
<p>But current implementation in Phalcon works much different, it checks every time all directories and renders all templates found. So the most priority directory is the last one and not the first one.</p>
<p>This is causing some performance overhead and <strong>it is causing problem when you want to render some partial</strong>, because it is <strong>rendered multiple times</strong>.</p>
<p>This for loop is causing the unexpected behavior</p>
<p><a href="https://github.com/phalcon/cphalcon/blob/master/phalcon/mvc/view.zep#L665">https://github.com/phalcon/cphalcon/blob/master/phalcon/mvc/view.zep#L665</a></p>
<p>Is this functionality intended?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-de633c7961695a1a9a35ed36-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-de633c7961695a1a9a35ed36-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="50555" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '17</span>
              </span><br/><a name="C50555" href="#C50555">
                <time itemprop="dateCreated" datetime="2017-08-27T05:55:04-07:00" class="action-date">Aug '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://github.com/phalcon/cphalcon/commit/e9968fe0460036d74d67d4bea35a76479b1d5777">https://github.com/phalcon/cphalcon/commit/e9968fe0460036d74d67d4bea35a76479b1d5777</a></p>
<p>i have the same problem.</p>
<p>i have a fork with that commit reverted. I keep forgetting adding a PR with tests so we can remove this commit from master branch</p>
<p>//edit: I wrote to Serghei to take a closer look when he can, so we can fix that issue properly, not like me</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="50555" data-cf-modified-de633c7961695a1a9a35ed36-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="50555" data-cf-modified-de633c7961695a1a9a35ed36-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a>        </span>
        <br>

        <span class="karma">9.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C50679" href="#C50679">
                <time itemprop="dateCreated" datetime="2017-08-29T13:32:24-07:00" class="action-date">Aug '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I am using customized View, which solves this duplication, but future fix will be very nice. Thak<a href="https://forum.phalcon.io/user/0/Izo"> @Izo</a> for bug confirmation.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="50679" data-cf-modified-de633c7961695a1a9a35ed36-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="50679" data-cf-modified-de633c7961695a1a9a35ed36-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="16825" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>