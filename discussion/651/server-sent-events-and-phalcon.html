---
layout: default
title: 'Server sent events and phalcon - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Server sent events and phalcon</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a></span>
            <time itemprop="dateCreated" datetime="2013-07-26T00:12:45-07:00">Jul '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-07-26T00:12:45-07:00">Jul '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1511</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">2</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/48537ea6460838b67043b973f132cabd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a></span>
                <span class="karma">36.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C651" href="#C651">
        <time class="action-date">Jul '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hello!</p>
<p>I have a question about using SSE (Server Sent Events) with Phalcon framework.</p>
<ol>
<li>As we know, in most cases, for use SSE we need to start &quot;Event loop&quot; using server with such ability (Node.js, for example).</li>
<li>My system are deployed with apache and nginx (with php and Phalcon).</li>
</ol>
<p>Question is: How to use Phalcon abilities and SSE technology?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2667" href="#C2667">
                <time itemprop="dateCreated" datetime="2013-07-26T08:17:32-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Phalcon is a web framework for PHP while node.js is a network framework. You can create an event loop in PHP using any of these extensions:</p>
<p><a href="http://php.net/manual/en/intro.ev.php">http://php.net/manual/en/intro.ev.php</a>
<a href="http://www.php.net/manual/en/book.libevent.php">http://www.php.net/manual/en/book.libevent.php</a></p>
<p>However you need to simulate the request/response environment for each incoming connection. Note that PHP wasn't designed to work efficiently in these environments.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2667" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2667" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/48537ea6460838b67043b973f132cabd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a>        </span>
        <br>

        <span class="karma">36.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2680" href="#C2680">
                <time itemprop="dateCreated" datetime="2013-07-26T10:23:15-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for the reply!</p>
<p>Yes, I can create an event loop in PHP with libev, but some folks talk that it will be much slower than event loop in Node.js (or something else), because PHP was designed to work in the request-response paradigm, and so on...</p>
<p>So I decided to create an event loop in Node.js to request data from &quot;Phalcon-servers&quot; (php+apache/nginx) with request.js library (<a href="https://github.com/mikeal/request">https://github.com/mikeal/request</a>) . </p>
<p>So, the question is: How do you think what is preferable*:</p>
<ol>
<li>PHP+Phalcon+libev </li>
<li>PHP+libev+curl-&gt;Phalcon </li>
<li>Node.js+request.js-&gt;Phalcon?</li>
</ol>
<p>*preferable, for me, means faster and scalable :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2680" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2680" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2687" href="#C2687">
                <time itemprop="dateCreated" datetime="2013-07-26T11:46:07-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Both PHP and Node.js are faster and scalable. I wouldn't use PHP for event loops, using the wrong tool for the job always lead to disappointments.</p>
<p>Node.js+request.js -&gt; PHP/Phalcon can be a good option, however the http request can become soon or later a bottleneck in your architecture. I would try to use only node if PHP is not doing something that node.js can't.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2687" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2687" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/48537ea6460838b67043b973f132cabd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a>        </span>
        <br>

        <span class="karma">36.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2714" href="#C2714">
                <time itemprop="dateCreated" datetime="2013-07-27T03:33:53-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you!</p>
<p>I'll try to use &quot;clean&quot; node.js, but it will be more-more complicated for maintaining.  It seems that main feature in PHP/Phalcon that we will need to realize in node.js is user access control...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2714" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2714" data-cf-modified-b62fc7bcd0a15caf2921c76f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="651" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>