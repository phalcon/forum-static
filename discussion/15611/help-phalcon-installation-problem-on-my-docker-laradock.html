---
layout: default
title: 'Help: phalcon installation problem on my docker / laradock - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Help: phalcon installation problem on my docker / laradock</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/9171/a-h-abid" class="user-moderator-N"><span itemprop="name">Ahmedul Haque Abid</span></a></span>
            <time itemprop="dateCreated" datetime="2017-02-28T03:07:08-07:00">Feb '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-02-28T03:07:08-07:00">Feb '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Feb '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>1309</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/9028ea757fd61ff9d150a675612ef69f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/9171/a-h-abid" class="user-moderator-N"><span itemprop="name">Ahmedul Haque Abid</span></a></span>
                <span class="karma">1.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C15611" href="#C15611">
        <time class="action-date">Feb '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hi, I'm trying to install phalcon thru my custom laradock php-fpm dockerfile, but it is not working as expected.</p>
<p>In the docker file I have this line:</p>
<pre><code>ARG PHALCONPHP=false
RUN if [ ${PHALCONPHP} = true ]; then \
    # Install the phalcon-php extension
    curl -s "https://packagecloud.io/install/repositories/phalcon/stable/script.deb.sh" | bash &amp;&amp; \
    apt-get install -y php7.0-phalcon \
;fi</code></pre>
<p>When running that line, the error it shows:</p>
<pre><code>Step 31/38 : RUN if [ ${PHALCONPHP} = true ]; then     curl -s "https://packagecloud.io/install/repositories/phalcon/stable/script.deb.sh" | bash &amp;&amp;     apt-get install -y php7.0-phalcon ;fi
 ---&gt; Running in 55b92ec5e780
Detected operating system as debian/8.
Checking for curl...
Detected curl...
Running apt-get update... done.
Installing debian-archive-keyring which is needed for installing
apt-transport-https on many Debian systems.
Installing apt-transport-https... done.
Installing /etc/apt/sources.list.d/phalcon_stable.list...done.
Importing packagecloud gpg key... done.
Running apt-get update... done.

The repository is setup! You can now install packages.
Reading package lists...
Building dependency tree...
Reading state information...
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 php7.0-phalcon : Depends: phpapi-20151012 but it is not installable
E: Unable to correct problems, you have held broken packages.
ERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c if [ ${PHALCONPHP} = true ]; then     curl -s "https://packagecloud.io/install/repositories/phalcon/stable/script.deb.sh" | bash &amp;&amp;     apt-get install -y php7.0-phalcon ;fi' returned a non-zero code: 100</code></pre>
<p>I searched, googled, but couldn't find any good answers. Would need your help.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-16ac5d621d128940e11c5266-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-16ac5d621d128940e11c5266-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C46247" href="#C46247">
                <time itemprop="dateCreated" datetime="2017-02-28T18:05:55-07:00" class="action-date">Feb '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It appears that your container has the wrong version of PHP for Phalcon. </p>
<p>If you are using this laradok file  <code>https://hub.docker.com/r/laradock/php-fpm/~/dockerfile/</code> then you have php 5.6. From the messages you are pulling phalcon for php7</p>
<p>Check this: <a href="https://packagecloud.io/phalcon/stable">https://packagecloud.io/phalcon/stable</a> and modify your commands specifically this one <code>apt-get install -y php7.0-phalcon</code> or you can switch your container to one that uses php7</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="46247" data-cf-modified-16ac5d621d128940e11c5266-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="46247" data-cf-modified-16ac5d621d128940e11c5266-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9028ea757fd61ff9d150a675612ef69f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9171/a-h-abid" class="user-moderator-N"><span itemprop="name">Ahmedul Haque Abid</span></a>        </span>
        <br>

        <span class="karma">1.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C46255" href="#C46255">
                <time itemprop="dateCreated" datetime="2017-03-01T01:07:02-07:00" class="action-date">Mar '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for the reply.</p>
<p>Well I'm using php 7.0. Using <a href="https://hub.docker.com/r/laradock/php-fpm/builds/bdzzanzpdqblxfydrwnsrjr/">laradock/php-fpm:7.0--1.3</a>. And I still get that error message above. I uploaded my custom <a href="https://gist.github.com/a-h-abid/e8b8b65a7235cf28e44eceebd6296425">Dockerfile-70 for php-fpm</a> in gist, used to build my php container. In my docker-compose.yml I targeted this file.</p>
<p>I'm using the multiple project approach of laradock, where you can define multiple application. I want it this way for simplicity reason, else I would've used other docker images that are available. Most of them all used same commands, so I'm wondering it is not working here.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="46255" data-cf-modified-16ac5d621d128940e11c5266-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="46255" data-cf-modified-16ac5d621d128940e11c5266-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="15611" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>