---
layout: default
title: 'MyApp\Controllers\Admin\UsersController handler class cannot be loaded - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">MyApp\Controllers\Admin\UsersController handler class cannot be loaded</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3021/xaero7" class="user-moderator-N"><span itemprop="name">xaero</span></a></span>
            <time itemprop="dateCreated" datetime="2015-10-22T06:51:57-07:00">Oct '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-10-22T06:51:57-07:00">Oct '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>692</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/f3183e109ec4c5c93d7deab887f7b8e1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3021/xaero7" class="user-moderator-N"><span itemprop="name">xaero</span></a></span>
                <span class="karma">31.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C9075" href="#C9075">
        <time class="action-date">Oct '15</time>
    </a>
</div>
<div class="post-content"><div><p>I've been working on the MVC example from the official repository <code>mvc/simple-subcontrollers</code> for sometimes, It's from <a href="https://github.com/phalcon/mvc/tree/master/simple-subcontrollers"><a href="https://github.com/phalcon/mvc/tree/master/simple-subcontrollers">https://github.com/phalcon/mvc/tree/master/simple-subcontrollers</a></a></p>
<p>My environment: ubuntu 14.04, apache2 php5.5 phalcon2.0.8</p>
<p>Dir Structure:</p>
<pre><code>/wwwroot/
    app
    public</code></pre>
<p>It's just <strong>the same structure</strong> of the offical repository of <code>mvc/simple-subcontrollers</code></p>
<p>The configure of apache2</p>
<pre><code>Alias /abcd "/var/wwwroot/public"
&lt;Directory "/var/wwwroot/public"&gt;
                Options FollowSymLinks
               AllowOverride All
               Order allow,deny
                Allow from all
&lt;/Directory&gt;</code></pre>
<p>The <code>.htaccess</code> file under <strong>public</strong></p>
<pre><code>AddDefaultCharset UTF-8

&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On
    RewriteBase /abcd/
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php?_url=/$1 [QSA,L]
&lt;/IfModule&gt;</code></pre>
<p>And I didn't modify any code of it except some of <strong>baseUri</strong> to &quot;<code>/abcd/</code>&quot;</p>
<p>When I visit the page: <code>http://localhost/abcd/users</code>, It works well!</p>
<p>But when I try to visit the admin page: <code>http://localhost/abcd/admin/users</code>, It just says:</p>
<p><code>MyApp\Controllers\Admin\UsersController handler class cannot be loaded</code></p>
<p>How to correct it?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="24831" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '15</span>
              </span><br/><a name="C24831" href="#C24831">
                <time itemprop="dateCreated" datetime="2015-10-22T07:13:34-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>well do you have this controller properly defined ?</p>
<p>Since this is working, your apache config seems to be fine. </p>
<p>Now this error is triggered by Router. So Can you post your router and I will try explain a bit</p>
<p>edit: </p>
<p>sorry i didnt notice you are using those examples.</p>
<p>can you change the &quot;Admin&quot; to &quot;admin&quot; in routers and controller namespaces</p>
<p>btw i tried some of those examples and it didn't work for me aswell. I use this one, cuz it seems to be only 1 working well ( only few fatal errors on startup but it's jsut changing a function name, and adding a param inside a function )</p>
<p><a href="https://github.com/michaelkrone/generator-phalcon">https://github.com/michaelkrone/generator-phalcon</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24831" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24831" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f3183e109ec4c5c93d7deab887f7b8e1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3021/xaero7" class="user-moderator-N"><span itemprop="name">xaero</span></a>        </span>
        <br>

        <span class="karma">31.3k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C24831"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Izo                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="24873" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '15</span>
              </span><br/><a name="C24873" href="#C24873">
                <time itemprop="dateCreated" datetime="2015-10-22T19:47:28-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Many Thanks!</p>
<p>Change the <code>Admin</code> to <code>admin</code> in routers and controller namespaces can work!</p>
<p>OR change the <code>admin</code> dir to <code>Admin</code> also can work!</p>
<p>....Is it a bug of Phalcon 2.0.8?</p>
<p>and BTW, if I create the IndexController under the <code>controllers</code> dir and the <code>controllers/Admin</code> dir</p>
<ol>
<li>
<p><code>http://localhost/abcd/</code> can work,</p>
</li>
<li>
<p><code>http://localhost/abcd/admin</code> can't work, says: MyApp\Controllers\AdminController handler class cannot be loaded</p>
</li>
<li><code>http://localhost/abcd/admin/</code> can work, but it seem to be the same to <code>http://localhost/abcd/</code></li>
</ol>
<p>4 .<code>http://localhost/abcd/admin/index</code> can work, It's the real backend.</p>
<p>why? The <code>3</code> is not the same to the <code>4</code>?</p>
<blockquote>
<p>well do you have this controller properly defined ?</p>
<p>Since this is working, your apache config seems to be fine. </p>
<p>Now this error is triggered by Router. So Can you post your router and I will try explain a bit</p>
<p>edit: </p>
<p>sorry i didnt notice you are using those examples.</p>
<p>can you change the &quot;Admin&quot; to &quot;admin&quot; in routers and controller namespaces</p>
<p>btw i tried some of those examples and it didn't work for me aswell. I use this one, cuz it seems to be only 1 working well ( only few fatal errors on startup but it's jsut changing a function name, and adding a param inside a function )</p>
<p><a href="https://github.com/michaelkrone/generator-phalcon">https://github.com/michaelkrone/generator-phalcon</a></p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24873" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24873" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C24889" href="#C24889">
                <time itemprop="dateCreated" datetime="2015-10-22T23:22:53-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>because of this in your router :</p>
<pre><code class="language-php">$router-&gt;add('/:controller', array(
    'namespace' =&gt; 'MyApp\Controllers',
    'controller' =&gt; 1
));</code></pre>
<p>it means that if you have 1 parameter after <code>abcd</code> will look for that controller, so basiccaly if you want this <code>http://localhost/abcd/admin</code> to work you have to have AdminController inside controllers folder.</p>
<p>I for example set my default controller and action to be index. </p>
<p>Take a look at this documentation:</p>
<p><a href="https://docs.phalcon.io/en/latest/reference/routing.html#setting-default-paths">https://docs.phalcon.io/en/latest/reference/routing.html#setting-default-paths</a></p>
<p>You have to understand the routes, its very important. It's not hard, it will just take you few days and tests in order for you to get use to the logic. I tihink it took me a week until i start modifing the content inside a ready application.</p>
<p>Cheers</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24889" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24889" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f3183e109ec4c5c93d7deab887f7b8e1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3021/xaero7" class="user-moderator-N"><span itemprop="name">xaero</span></a>        </span>
        <br>

        <span class="karma">31.3k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C24889"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Izo                    </a>
                </div><div class="posts-buttons" align="right"><a name="C24963" href="#C24963">
                <time itemprop="dateCreated" datetime="2015-10-23T20:09:58-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you very much! It's really the key point</p>
<blockquote>
<p>because of this in your router :</p>
<pre><code class="language-php">$router-&gt;add('/:controller', array(
  'namespace' =&gt; 'MyApp\Controllers',
  'controller' =&gt; 1
));</code></pre>
<p>it means that if you have 1 parameter after <code>abcd</code> will look for that controller, so basiccaly if you want this <code>http://localhost/abcd/admin</code> to work you have to have AdminController inside controllers folder.</p>
<p>I for example set my default controller and action to be index. </p>
<p>Take a look at this documentation:</p>
<p><a href="https://docs.phalcon.io/en/latest/reference/routing.html#setting-default-paths">https://docs.phalcon.io/en/latest/reference/routing.html#setting-default-paths</a></p>
<p>You have to understand the routes, its very important. It's not hard, it will just take you few days and tests in order for you to get use to the logic. I tihink it took me a week until i start modifing the content inside a ready application.</p>
<p>Cheers</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24963" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24963" data-cf-modified-1a82aa704e51bb17e39dd39f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="9075" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>