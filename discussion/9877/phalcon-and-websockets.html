---
layout: default
title: 'Phalcon and websockets - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Phalcon and websockets</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/5735/joyider" class="user-moderator-N"><span itemprop="name">André Karlsson</span></a></span>
            <time itemprop="dateCreated" datetime="2015-12-16T05:52:06-07:00">Dec '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-12-16T05:52:06-07:00">Dec '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1659</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/dfea412df9792aa3d31281290dd07b7e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/5735/joyider" class="user-moderator-N"><span itemprop="name">André Karlsson</span></a></span>
                <span class="karma">8.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C9877" href="#C9877">
        <time class="action-date">Dec '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hi</p>
<p>Since there is no real websocket implementation in phalcon I'm trying to use a very simple php websocket library that i wrote some time ago. But since i'm new to phalcon I find it hard to know how to correctly make the sockets available in phalcon using the correct methods.</p>
<p>I've been looking at the webird project, but that is more of a spin off framework of phalcon, it does use Ratchet (socket.io) but it is such a big implementation using sevral sub libraries (react).</p>
<p>My question is, how to register my classes (websocketCOnnect, websocket and websocketHelper (extends websocket) ) to the phalcon project using the supplied phalcon methodoligy. </p>
<p>I guess I can use a dispacher to register the service and use eventsManager to manage data and actions. But I don't know if this is the correct way to do it. Even if it is the correct way, beeing new to phalcon I'm not sure how to implement it. Is there any similar projects using some kind of streams(?) that i can take a look at, just to see how they are implemented the phalcon way? :)</p>
<p>Regards André</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-c69f32aac94c0de87812bacd-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-c69f32aac94c0de87812bacd-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="27805" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '15</span>
              </span><br/><a name="C27805" href="#C27805">
                <time itemprop="dateCreated" datetime="2015-12-16T09:01:58-07:00" class="action-date">Dec '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Why you even want to use websockets in php ? Its the worst thing you can do to be honest. Php is not for such a thing, use javascript(node). You can register them just by using loader, and then use them however you like.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="27805" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="27805" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dfea412df9792aa3d31281290dd07b7e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5735/joyider" class="user-moderator-N"><span itemprop="name">André Karlsson</span></a>        </span>
        <br>

        <span class="karma">8.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C27809" href="#C27809">
                <time itemprop="dateCreated" datetime="2015-12-16T12:20:51-07:00" class="action-date">Dec '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi and thanks for your answer.</p>
<p>I wouldn't go as far as saying its the worst withng :), bur you are right, for most chat/board systems nodejs is a great choice. But for the current project i need a websocket server that that accepts UDP connections, and as far as i know javascript can not do that.</p>
<p>Also i like to keep things clean and I wouldn't personally mix different frameworks unless it is really necessary.  :)</p>
<p>Loading the classes might be the trick. Any idea, how do broadcast the recieved message to the MVCs in the proper way?</p>
<p>Cheers
André</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="27809" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="27809" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="27815" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '15</span>
              </span><br/><a name="C27815" href="#C27815">
                <time itemprop="dateCreated" datetime="2015-12-16T13:44:47-07:00" class="action-date">Dec '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think you would need cli phalcon application, phalcon works on HTTP and router. You would need to write some adapter ono php side which would take websocket message, create phalcon application and then somehow parse this message to some phalcon route and then you get resonse from phalcon and return broadcast this response to all clients/whatever.</p>
<p>Its just simpler to use node for all websocket communication and call php cli for all application logic if you still wanna use php.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="27815" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="27815" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dfea412df9792aa3d31281290dd07b7e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5735/joyider" class="user-moderator-N"><span itemprop="name">André Karlsson</span></a>        </span>
        <br>

        <span class="karma">8.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C27823" href="#C27823">
                <time itemprop="dateCreated" datetime="2015-12-17T00:47:31-07:00" class="action-date">Dec '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you<a href="https://forum.phalcon.io/user/0/Jurigag"> @Jurigag</a>. </p>
<p>The phalcon cli would accually work as I would like to. I'm going to try implementeing that.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="27823" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="27823" data-cf-modified-c69f32aac94c0de87812bacd-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="9877" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>