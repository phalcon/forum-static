---
layout: default
title: 'How to use Phalcon PHP to create web service - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/22/micro">Micro</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to use Phalcon PHP to create web service</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1315/piavgh" class="user-moderator-N"><span itemprop="name">Hoang Trinh Huy</span></a></span>
            <time itemprop="dateCreated" datetime="2014-04-06T02:26:05-07:00">Apr '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-04-06T02:26:05-07:00">Apr '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>4291</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/a264a2e7f596f906f9470244e231f1ed?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1315/piavgh" class="user-moderator-N"><span itemprop="name">Hoang Trinh Huy</span></a></span>
                <span class="karma">18.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1999" href="#C1999">
        <time class="action-date">Apr '14</time>
    </a>
</div>
<div class="post-content"><div><p>I have to create a simple android app that has login function with php and mysql. I followed this tutorial <a href="http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/">http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/</a> and everything is fine.</p>
<p>But problem is the PHP part of this tutorial use plain PHP. Now I want to use PhalconPHP to do that job (because we use Phalcon to create our web client, so I want to use the same technology).</p>
<p>I don't know what is the project structure for a web service with Phalcon, is it similar to MVC web client? And if I want the string query like &quot;<a href="http://example.com/api/index?username=test&amp;password=test">http://example.com/api/index?username=test&amp;password=test</a>&quot; what I have to do with Phalcon?</p>
<p>Thank you very much</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5bbb425f8e19108846052385446c371c?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1036/sn0opr" class="user-moderator-N"><span itemprop="name">sn0opr</span></a>        </span>
        <br>

        <span class="karma">22.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="6866" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '14</span>
              </span><br/><a name="C6866" href="#C6866">
                <time itemprop="dateCreated" datetime="2014-04-06T05:38:10-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>you have to make a REST API that returns json data for every request from your android application.</p>
<p>follow this tutorial from Phalcon docs: <a href="http://docs.phalcon.io/en/latest/reference/tutorial-rest.html">http://docs.phalcon.io/en/latest/reference/tutorial-rest.html</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6866" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6866" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a264a2e7f596f906f9470244e231f1ed?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1315/piavgh" class="user-moderator-N"><span itemprop="name">Hoang Trinh Huy</span></a>        </span>
        <br>

        <span class="karma">18.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6869" href="#C6869">
                <time itemprop="dateCreated" datetime="2014-04-06T06:23:25-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I've read that tutorial, but it still hard for me to understand. Do I need a controller or just a index.php?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6869" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6869" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5bbb425f8e19108846052385446c371c?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1036/sn0opr" class="user-moderator-N"><span itemprop="name">sn0opr</span></a>        </span>
        <br>

        <span class="karma">22.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6874" href="#C6874">
                <time itemprop="dateCreated" datetime="2014-04-06T08:12:17-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You can make it like the tutorial in the index (if you don't have much functionnalities) or make it in the MVC way without using views here is an example that I did for my app .</p>
<p>Let's say that you have a controller for users that contains actions like (login, signup, register session...):</p>
<pre><code class="language-php">class UsersController extends \Phalcon\Mvc\Controller{

  //make your content type for response as a json data in the initialize() function
  public function initialize(){

    $this-&gt;response-&gt;setContentType('application/json; charset=utf-8');
    $this-&gt;view-&gt;disable();
  }

  loginAction(){

    //some operactions to do ....

    //set the response data in array
    $jsonResult = array(
    'data' =&gt;  //some data that u want to send to the app as a response
    )

    //We set our response json content
    $this-&gt;response-&gt;setJsonContent($jsonResult);

    //and finally we return the response object so It will be the result for the client automatically.
    return $this-&gt;response:
}</code></pre>
<p>As you can see there is no need for views.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6874" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6874" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/65cc66b2174ca0e8408258408af274c2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1371/david-duncan" class="user-moderator-N"><span itemprop="name">David Duncan</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6948" href="#C6948">
                <time itemprop="dateCreated" datetime="2014-04-07T18:13:53-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>I don't know what is the project structure for a web service with Phalcon, is it similar to MVC web client?</p>
</blockquote>
<p>Check out <a href="https://github.com/cmoore4/phalcon-rest"><a href="https://github.com/cmoore4/phalcon-rest">https://github.com/cmoore4/phalcon-rest</a> </a> as a starting point.</p>
<blockquote>
<p>And if I want the string query like &quot;<a href="http://example.com/api/index?username=test&amp;password=test">http://example.com/api/index?username=test&amp;password=test</a>&quot; what I have to do with Phalcon?</p>
</blockquote>
<p>You need to access the request object. From inside a controller that would look like:</p>
<pre><code class="language-php">public function indexAction()
{

    $username = $this-&gt;di-&gt;getShared('request')-&gt;get('username');
    $password = $this-&gt;di-&gt;getShared('request')-&gt;get('password');
}</code></pre>
<p><a href="http://phalcon-php-framework-documentation.readthedocs.org/en/latest/api/Phalcon_Http_Request.html">http://phalcon-php-framework-documentation.readthedocs.org/en/latest/api/Phalcon_Http_Request.html</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6948" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6948" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a264a2e7f596f906f9470244e231f1ed?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1315/piavgh" class="user-moderator-N"><span itemprop="name">Hoang Trinh Huy</span></a>        </span>
        <br>

        <span class="karma">18.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7069" href="#C7069">
                <time itemprop="dateCreated" datetime="2014-04-09T19:57:58-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>sn0opr : OK, but what my index.php need to be? I need to handle the POST request which has a &quot;tag&quot; (to show what action : login, register, forgot pass,...), &quot;username&quot;, &quot;password&quot;,....</p>
<p>Thank you!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7069" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7069" data-cf-modified-29a184b05ee47cfea10c1e6b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1999" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>