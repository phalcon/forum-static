---
layout: default
title: 'Multimodule + Auth / ACL - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/17/acl">Acl</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Multimodule + Auth / ACL</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/10249/PhalconBociek" class="user-moderator-N"><span itemprop="name">PhalconBociek</span></a></span>
            <time itemprop="dateCreated" datetime="2017-10-10T03:33:12-07:00">Oct '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-10-10T03:33:12-07:00">Oct '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">6</span>
                </td>
                <td>
                    <label>Views</label><br>626</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/a03940b83d862fbde098aa489deac341?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/10249/PhalconBociek" class="user-moderator-N"><span itemprop="name">PhalconBociek</span></a></span>
                <span class="karma">758</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17079" href="#C17079">
        <time class="action-date">Oct '17</time>
    </a>
</div>
<div class="post-content"><div><p>HI.
I generated multimodule aplication: </p>
<ul>
<li>Frontend</li>
<li>Backend </li>
</ul>
<p>Working good. </p>
<p>But I tired install ACL from INVO (demo) aplication and it seems thats are 2 different versions. </p>
<p>Has someone demo or instruction how to install Plugin ACL in multimodule structrue.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51435" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51435" href="#C51435">
                <time itemprop="dateCreated" datetime="2017-10-10T05:20:49-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I don't about invo. But my resources are just defined as <code>ModuleName:ControllerName</code>, and action is access. Works pretty much fine.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51435" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51435" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a03940b83d862fbde098aa489deac341?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10249/PhalconBociek" class="user-moderator-N"><span itemprop="name">PhalconBociek</span></a>        </span>
        <br>

        <span class="karma">758</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51451" href="#C51451">
                <time itemprop="dateCreated" datetime="2017-10-11T05:26:13-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi.
I have installed  the SecurityPlugin already.
The class is loaded good, BUT the event beforeDispatch doesn't work. </p>
<p>Don't call  Plugin. </p>
<p>Below screen my code where  i set the dispatcher and EventListener: </p>
<p></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51451" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51451" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51453" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51453" href="#C51453">
                <time itemprop="dateCreated" datetime="2017-10-11T05:36:35-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>First beacause you have two services definition, delete one of them. Well beforeDispatch doesn't work beacause you attached plugin to beforeExecuteRoute.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51453" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51453" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a03940b83d862fbde098aa489deac341?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10249/PhalconBociek" class="user-moderator-N"><span itemprop="name">PhalconBociek</span></a>        </span>
        <br>

        <span class="karma">758</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51459" href="#C51459">
                <time itemprop="dateCreated" datetime="2017-10-11T06:28:02-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi.
Thanks. </p>
<p>Which of file i have to delete? NotFoundPlugin? </p>
<p>This code is from: Invo  Demo Security Plugin: </p>
<p>$eventsManager-&gt;attach('dispatch:beforeExecuteRoute', new SecurityPlugin);</p>
<p>So i think is good connected to beforeExecuteRoute' . </p>
<p>In the demo in single module, working good.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51459" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51459" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51461" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51461" href="#C51461">
                <time itemprop="dateCreated" datetime="2017-10-11T06:55:47-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I didn't wrote about any file deleting. You have TWO SERVICES DECLEARTION, you are setting two times dispatcher, it's kind of stupid. You are asking why <strong>beforeDispatch</strong> event doesn't work. So i wrote it doesn't work beacause you attached it to <strong>beforeExecuteRoute</strong>. Not sure what else question you have.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51461" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51461" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a03940b83d862fbde098aa489deac341?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10249/PhalconBociek" class="user-moderator-N"><span itemprop="name">PhalconBociek</span></a>        </span>
        <br>

        <span class="karma">758</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51493" href="#C51493">
                <time itemprop="dateCreated" datetime="2017-10-12T02:51:24-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi.
Dispatcher beforeExecuteRoute  is from invo there working fine.
I copied  to my multimodule application and does'nt work... added namespace, aliases to class name etc... </p>
<p>But all the time any dispatcher it doesn't work. </p>
<p>Look please for my code. There  is die() function  in SecurityPlugin in beforeDispatch function ,and this not call ... why ,, ,i don't know.
Class is loaded fine. </p>
<p></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51493" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51493" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51495" href="#C51495">
                <time itemprop="dateCreated" datetime="2017-10-12T03:51:58-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes beacause you attached SecurityPlugin to event <strong>beforeExecuteRoute</strong>, and you added die() to <strong>beforeDispatch</strong> which is not fired in this case beacause you added plugin only to <strong>beforeExecuteRoute</strong></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51495" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51495" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a03940b83d862fbde098aa489deac341?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10249/PhalconBociek" class="user-moderator-N"><span itemprop="name">PhalconBociek</span></a>        </span>
        <br>

        <span class="karma">758</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51503" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51503" href="#C51503">
                <time itemprop="dateCreated" datetime="2017-10-12T04:49:26-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><strong>beforeExecuteRoute, </strong>
Triggered before executing the controller/action method. At this point the dispatcher has been initialized the controller and know if the action exist.</p>
<p>I added die() to check the application call my Service. But application doesn't stop it .  Any dispatcher not working in Phalcon in multimodules.
In controller no problem, but as registered dispatcher  not ...</p>
<p>But. in invo working normaly.... before action is calling and  die() is working and stoped my application in called method.
This is normal....  </p>
<p>Here any dispatch doesn't work.... maby i don't understad something.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51503" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51503" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51507" href="#C51507">
                <time itemprop="dateCreated" datetime="2017-10-12T07:24:32-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Do you understand what i wrote? You added security plugin ONLY TO beforeExecuteRoute, you added yoru die in beforeDispatch method. Since you added security plugin only to one event then that's why method beforeDispatch is not executed at all.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51507" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51507" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dd618785ba8dfbdf6373caf740156acc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10267/slawek-company" class="user-moderator-N"><span itemprop="name">slawek-company</span></a>        </span>
        <br>

        <span class="karma">837</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51519" href="#C51519">
                <time itemprop="dateCreated" datetime="2017-10-13T00:52:42-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks Wojciech. </p>
<p>I had not oryginal invo code.</p>
<p>[SOLVED]
$eventsManager-&gt;attach('dispatch:beforeDispatch', new SecurityPlugin);<br />
instead
$eventsManager-&gt;attach('dispatch:beforeExecuteRoute', new SecurityPlugin);</p>
<p>Sory for confusion.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51519" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51519" data-cf-modified-fbfa8ca1f90bc1e31c38ca9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17079" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>