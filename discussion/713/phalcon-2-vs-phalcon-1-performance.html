---
layout: default
title: 'Phalcon 2 vs Phalcon 1 performance - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/20/internals">Internals</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Phalcon 2 vs Phalcon 1 performance</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/153/Swader" class="user-moderator-N"><span itemprop="name">Bruno Škvorc</span></a></span>
            <time itemprop="dateCreated" datetime="2013-08-05T16:06:48-07:00">Aug '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-08-05T16:06:48-07:00">Aug '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2893</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">5</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/09949aa8833070a401ecda79b539aca4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/153/Swader" class="user-moderator-N"><span itemprop="name">Bruno Škvorc</span></a></span>
                <span class="karma">25.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C713" href="#C713">
        <time class="action-date">Aug '13</time>
    </a>
</div>
<div class="post-content"><div><p>So regarding Zephir - since Phalcon 2 will mostly be written in it, will there be a performance hit when comparing Phalcon 1 and Phalcon 2, since the careful optimizations possible in C won't be possible in Zephir, or do you intend to normalize this and make them perform equally well, if not better?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-61a555e800eb3decea085dd4-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-61a555e800eb3decea085dd4-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">5</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/401d7f7f94108405cf7b22ed342c3226?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/110/kazzkiq" class="user-moderator-N"><span itemprop="name">Claudio Holanda</span></a>        </span>
        <br>

        <span class="karma">58.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2867" href="#C2867">
                <time itemprop="dateCreated" datetime="2013-08-06T05:40:10-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think that until Phalcon 2 be released (at least a beta) there will not be real possibility to accurately compare the performance difference between both versions. But as the team said in the blog post,  in the long run the framework may become faster (they claim that some parts of the extension will still be written in C for performance purposes, and &quot;Zephir will support call and use C-functions if necessary&quot;).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2867" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2867" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2874" href="#C2874">
                <time itemprop="dateCreated" datetime="2013-08-06T09:05:15-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The plan is to keep performance as is or even make it better. That has always been the goal</p>
<p>Zephir will parse its code (the code generated by the developer) and in term &quot;translate&quot; it into low lever C instructions and compile it. In effect it will generate the same C code that Phalcon currently uses so performance will not be impacted. (that is assuming that the source code - the code that Zephir will use - has not changed).</p>
<p>Some parts of Phalcon 2 will be written in C since Zephir will not be able to help and if we develop those parts in Zephir we will lose performance.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2874" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2874" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2876" href="#C2876">
                <time itemprop="dateCreated" datetime="2013-08-06T09:34:40-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Currently, despite being a C-extension there are a lot of dynamic features we have to deal with. When 0.x/1.x was designed, one of the highlights in the framework's design we had in mind was the possibility of being loosely coupled and allow users to do things like override any method, intercept method execution, add additional methods that read/update internal properties, etc. </p>
<p>Basically, the framework is ready to naturally accept any kind of external action from the PHP side, this makes Phalcon look like a pure PHP framework, reducing the impact that a C-framework could result in developers who are used to only PHP frameworks. All this ease and flexibility has a performance cost in 0.x/1.x. The truth is that we do not always want or need to extend phalcon's classes, hack or replace their internal properties or completely/partially replace them with our own classes.</p>
<p>So, Zephir will give the opportunity to produce more low-level code if a developer decide he/she wants to sacrifice flexibility (or doesn't need it at all) by getting more performance. The 1.x codebase is in fact, very high level because it tends to make everyone happy implementing all these features I mentioned above.</p>
<p>Another important topic is the fact that most of the current codebase is written with the intention of allow PHP developers to understand the code, readable code for a PHP developer is far from what can be done in C, Zephir gives us the opportunity to produce code less readable (in C) but more efficient in its execution.</p>
<p>The following parts of Phalcon will remain in C since their performance is better:</p>
<ul>
<li>Volt parser</li>
<li>Annotations parser</li>
<li>PHQL parser/cache</li>
<li>Phalcon\Escaper</li>
<li>Phalcon\Kernel</li>
<li>Cssmin/Jsmin</li>
<li>Some parts of Phalcon\Db that deal with PDO structures</li>
</ul></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2876" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2876" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/09949aa8833070a401ecda79b539aca4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/153/Swader" class="user-moderator-N"><span itemprop="name">Bruno Škvorc</span></a>        </span>
        <br>

        <span class="karma">25.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2878" href="#C2878">
                <time itemprop="dateCreated" datetime="2013-08-06T11:08:01-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Good stuff, thanks</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2878" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2878" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d0d38bb2fe6ddd4995064a1a9d911328?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/656/brandonlamb" class="user-moderator-N"><span itemprop="name">Brandon Lamb</span></a>        </span>
        <br>

        <span class="karma">2.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C3967" href="#C3967">
                <time itemprop="dateCreated" datetime="2013-10-22T20:24:47-07:00" class="action-date">Oct '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Just piping in my $0.02, in about two hours today or so I was able to install zephir on my ubuntu box and start hacking some code into a namespace (migrating a hal-based api library) with some working stuff. So far it has been pretty easy (granted, fairly simple classes so far) to translate some php classes into zephir code.</p>
<p>For library type code I totally see how kickass this could be, Im pretty stoked to be able to hack a bit and have things available as a php extension.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="3967" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="3967" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/09949aa8833070a401ecda79b539aca4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/153/Swader" class="user-moderator-N"><span itemprop="name">Bruno Škvorc</span></a>        </span>
        <br>

        <span class="karma">25.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C3970" href="#C3970">
                <time itemprop="dateCreated" datetime="2013-10-23T02:02:06-07:00" class="action-date">Oct '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Would you consider writing it into a tutorial and getting published on Sitepoint's PHP channel? I'd really like to push Phalcon and zephir out a bit more. Get in touch at <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="622010170c0d4c1109140d100122110b1607120d0b0c164c010d0f">[email&#160;protected]</a> if interested</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="3970" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="3970" data-cf-modified-61a555e800eb3decea085dd4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="713" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>