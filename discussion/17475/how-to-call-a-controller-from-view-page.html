---
layout: default
title: 'How to call a controller from view page ? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to call a controller from view page ?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/10563/sugumar101" class="user-moderator-N"><span itemprop="name">sugumar101</span></a></span>
            <time itemprop="dateCreated" datetime="2017-12-19T22:33:08-07:00">Dec '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-12-19T22:33:08-07:00">Dec '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>1311</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/c901057c9c1d1b989dad8ba3231229d5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/10563/sugumar101" class="user-moderator-N"><span itemprop="name">sugumar101</span></a></span>
                <span class="karma">1.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17475" href="#C17475">
        <time class="action-date">Dec '17</time>
    </a>
</div>
<div class="post-content"><div><p>hi,</p>
<p>I have included a section as view file , which was called from different controllers. So I have to create a new  function for each controller.  Is there any way to call a function in the controller from view file ??</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-ce845aba36158614458dd1d6-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-ce845aba36158614458dd1d6-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bacd6b9b9d4793d7b9e6daf8de127530?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3216/jturbide" class="user-moderator-N"><span itemprop="name">Julien Turbide</span></a>        </span>
        <br>

        <span class="karma">3.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C52963" href="#C52963">
                <time itemprop="dateCreated" datetime="2017-12-19T23:04:24-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><ul>
<li>Yes, you can put your function as static and call it from everywhere.</li>
<li>You can make a view helper.</li>
<li>You can also add your function into a view variable.</li>
<li>Or you can add your function into the default depency injector (DI) and just call it with $this from your view.</li>
</ul></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52963" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52963" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C52971" href="#C52971">
                <time itemprop="dateCreated" datetime="2017-12-20T01:13:27-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Well to be honest you shouldn't really call any controller logic from view.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52971" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52971" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="52977" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '17</span>
              </span><br/><a name="C52977" href="#C52977">
                <time itemprop="dateCreated" datetime="2017-12-20T01:44:35-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Basically<a href="https://forum.phalcon.io/user/0/Wojciech"> @Wojciech</a> answered your question. It is againsts mvc :)</p>
<p>To keep your code <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> you have to make a function which can be reused in controllers, views etc. Just like<a href="https://forum.phalcon.io/user/0/Julien"> @Julien</a> Turbide suggested.</p>
<p>Here is a simple example so you can understand better:</p>
<pre><code>// Services File
$di-&gt;setShared('view', function() use ($di) {
    $view = new \Phalcon\Mvc\View();
    ...
    $view-&gt;registerEngines([
        '.phtml' =&gt; function($view, $di) {
            $volt = new \Phalcon\Mvc\View\Engine\Volt($view, $di);
            $options = [
                'compiledPath' =&gt; $di-&gt;getConfig()-&gt;site-&gt;path-&gt;cache . 'volt/frontend/',
                'compiledExtension' =&gt; '.php',
                'compileAlways' =&gt; $di-&gt;getConfig()-&gt;debug,
            ];
            $volt-&gt;setOptions($options);

            // Extended functions
            $compiler-&gt;addFilter('prettyDate', function($resolvedArgs, $exprArgs){
                return 'Helpers\Volt::prettyDate(' . $resolvedArgs . ')';
            });
            $compiler-&gt;addFilter('asPrice', function($resolvedArgs, $exprArgs){
                return 'Helpers\Volt::asPriceString(' . $resolvedArgs . ')';
            });
            $compiler-&gt;addFunction('url', function($resolvedArgs, $exprArgs){
                return 'url(' . $resolvedArgs . ')';
            }); 
            $compiler-&gt;addFunction('strpos', 'strpos');
            $compiler-&gt;addFunction('json_decode', 'json_decode');
            $compiler-&gt;addFunction('in_array', 'in_array');
            return $volt;
        }
    ]);
    return $view;
});</code></pre>
<p><strong>Usage:</strong></p>
<p><code>addFilter()</code> registers a filter, which &quot;modifies&quot; the value of a variable. Example usage:</p>
<p><code>{% raw %}{{{% endraw %} item.price|asPriceString {% raw %}}}{% endraw %}</code> in my case this will transform a decimal into user friendly string.</p>
<p><code>19.99</code> will become <code>19.99 лв.</code> or <code>19.99 BGN</code> depending on website language version</p>
<p><code>addFunction()</code> registers a fnction, which can accept one or more parameters. Example usage:</p>
<p><code>{% raw %}{{{% endraw %} url(['for': 'custom-route-name']) {% raw %}}}{% endraw %}</code> in my case this function is extending Volt url helper function because most of my projects have multiple applications and languages. My modified version for example automatically adds Language and Application to the route name to save me some time and to not make my templates ugly :)</p>
<p>As you noticed, Volt does not support all PHP functions. If you happen to need some php function you can add it to volt like this:</p>
<p><code>$compiler-&gt;addFunction('strpos', 'strpos');</code></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52977" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52977" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c901057c9c1d1b989dad8ba3231229d5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10563/sugumar101" class="user-moderator-N"><span itemprop="name">sugumar101</span></a>        </span>
        <br>

        <span class="karma">1.5k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C52971"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C52985" href="#C52985">
                <time itemprop="dateCreated" datetime="2017-12-20T02:38:30-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Well to be honest you shouldn't really call any controller logic from view.</p>
</blockquote>
<p>for example :
I wants to call the method in the header (Header comes to all page but I am loading different controller for different pages), So I wants to call the method from the common controller . If I am not, I have to call the method in every controller in viewAction.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52985" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52985" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c901057c9c1d1b989dad8ba3231229d5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10563/sugumar101" class="user-moderator-N"><span itemprop="name">sugumar101</span></a>        </span>
        <br>

        <span class="karma">1.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C52987" href="#C52987">
                <time itemprop="dateCreated" datetime="2017-12-20T02:57:15-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks ,</p>
<p>I loaded the method from the controllerBase.</p>
<p>Its working fine.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52987" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52987" data-cf-modified-ce845aba36158614458dd1d6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17475" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>