---
layout: default
title: '\Phalcon\Tag::form adds unwanted slash - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">\Phalcon\Tag::form adds unwanted slash</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/190/p0rsche" class="user-moderator-N"><span itemprop="name">Vladimir Gerasimov</span></a></span>
            <time itemprop="dateCreated" datetime="2013-07-15T21:19:01-07:00">Jul '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-07-15T21:19:01-07:00">Jul '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>923</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/437d7679f948c9c468e93390a05e6aab?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/190/p0rsche" class="user-moderator-N"><span itemprop="name">Vladimir Gerasimov</span></a></span>
                <span class="karma">18.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C592" href="#C592">
        <time class="action-date">Jul '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hi all, here is the problem</p>
<pre><code class="language-php">&lt;?= Tag::form(array(
                        "my/url",
                        'method'=&gt;'post',
                        'id'=&gt;'some-form'
                    )) ?&gt;</code></pre>
<pre><code class="language-php">&lt;?= Tag::form(array(
                        $this-&gt;url-&gt;get('my/url'),
                        'method'=&gt;'post',
                        'id'=&gt;'some-form'
                    )) ?&gt;</code></pre>
<p>this code always adds slash as first character. I've tried to remove url at all or use $this-&gt;url-&gt;get() to generate url - and it still adds slash to the start of the string.</p>
<pre><code class="language-html">&lt;form action="/my/url" id="some-form" method="post"&gt;</code></pre>
<p>Also, the following code</p>
<pre><code class="language-php">&lt;?= Tag::form(array(
                        "",
                        'method'=&gt;'post',
                        'id'=&gt;'some-form'
                    )) ?&gt;</code></pre>
<p>also generates html like </p>
<pre><code class="language-html">&lt;form action="/" id="some-form" method="post"&gt;</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b4b8160fad763019bb200ba1380b9f34?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/317/smolak" class="user-moderator-N"><span itemprop="name">Jacek</span></a>        </span>
        <br>

        <span class="karma">2.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2458" href="#C2458">
                <time itemprop="dateCreated" datetime="2013-07-15T23:28:43-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Try setting an absolute url, not empty or relative.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2458" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2458" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/437d7679f948c9c468e93390a05e6aab?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/190/p0rsche" class="user-moderator-N"><span itemprop="name">Vladimir Gerasimov</span></a>        </span>
        <br>

        <span class="karma">18.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2463" href="#C2463">
                <time itemprop="dateCreated" datetime="2013-07-16T01:27:09-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi Jacek, do you mean setBaseUri (which is already set in my config/di)? If so, it doesn't help/work :) Btw, phalcon 1.1.0</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2463" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2463" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b4b8160fad763019bb200ba1380b9f34?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/317/smolak" class="user-moderator-N"><span itemprop="name">Jacek</span></a>        </span>
        <br>

        <span class="karma">2.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2478" href="#C2478">
                <time itemprop="dateCreated" datetime="2013-07-17T03:13:56-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, this is evidently frameworks fault. What I mean is that user should have greater control over what is happening, and not so much framework dependent - in this situation.
For instance, one would need a form that posts to other page, on other domain, and boomer, you can't (well, you can hardcode the tag, but then you loose control of the form in oo manner).</p>
<p>How I would see it: Phalcon needs something like a url helper, to generate url's similar to how Zend is doing now, where you define route's elements and then url is created according to arguments passed.
Tag::form and Tag::linkTo should not generate default path like they do now, based on baseUrl. If you pass an empty string, then that is what should be returned. If you need absolute url - there you have it, etc. And when you want route specific link, you use url helper.</p>
<pre><code class="language-php">&lt;?php
echo Tag::form(array(
    $this-&gt;url(/** arguments **/),
    'method'=&gt;'post',
    'id'=&gt;'some-form'
));
?&gt;</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2478" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2478" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2499" href="#C2499">
                <time itemprop="dateCreated" datetime="2013-07-17T14:46:04-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Set the BaseUri to an empty string:</p>
<pre><code class="language-php">$url-&gt;setBaseUri("");</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2499" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2499" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/437d7679f948c9c468e93390a05e6aab?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/190/p0rsche" class="user-moderator-N"><span itemprop="name">Vladimir Gerasimov</span></a>        </span>
        <br>

        <span class="karma">18.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2506" href="#C2506">
                <time itemprop="dateCreated" datetime="2013-07-17T22:21:06-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What if my phalcon website is not located under www root?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2506" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2506" data-cf-modified-b4eeb9104c852888c21e9b3a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="592" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>