---
layout: default
title: 'Controller Code generated doesn&#039;t seem ok - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/12/developer-tools">Developer Tools</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Controller Code generated doesn&#039;t seem ok</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1578/amsharma9" class="user-moderator-N"><span itemprop="name">Amal</span></a></span>
            <time itemprop="dateCreated" datetime="2015-04-07T07:28:58-07:00">Apr '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-04-07T07:28:58-07:00">Apr '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>439</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/d70ff987c7a6303491da1f538eac35e0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1578/amsharma9" class="user-moderator-N"><span itemprop="name">Amal</span></a></span>
                <span class="karma">16.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C6327" href="#C6327">
        <time class="action-date">Apr '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,</p>
<p>I used the Developer Tools latest version to generate Controller code for a class. It doesn't seem to be ok and doesn't work properly. I would like to understand the logic. Here is the default starting code generated of <code>create</code> action of a class.</p>
<pre><code class="language-php">    public function createAction()
    {

        if (!$this-&gt;request-&gt;isPost()) {
            return $this-&gt;dispatcher-&gt;forward(array(
                "controller" =&gt; "ro_relorder_t",
                "action" =&gt; "index"
            ));
        }

        $ro_relorder_t = new RoRelorderT();
        ...</code></pre>
<p>This takes me to index page every time I try to <strong>create</strong> a new record. I have a <code>create.volt</code> (equivalent of <code>new</code>). With above code in place it never executes. The same code exists in <code>edit</code> action also. The code in <strong>Vokuro</strong> example with forms is different. That seems to work fine after customization.</p>
<pre><code class="language-php">    public function createAction()
    {
        if ($this-&gt;request-&gt;isPost()) {

            $ro_relorder_t = new RoRelorderT();
            ...</code></pre>
<p>Can't I use the code generated by Developer Tools directly.</p>
<p>Regards,
Amal</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-9bcd0597abb48558f9400b8b-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-9bcd0597abb48558f9400b8b-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/75296831c33eb668045916530552233f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2706/dominickinyanjui" class="user-moderator-N"><span itemprop="name">Dominic Kinyanjui</span></a>        </span>
        <br>

        <span class="karma">31.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="17185" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '15</span>
              </span><br/><a name="C17185" href="#C17185">
                <time itemprop="dateCreated" datetime="2015-04-10T01:52:12-07:00" class="action-date">Apr '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code>public function createAction()
{

  // comment the following three lines if you have already registered the di component
      $di = new Phalcon\DI();
      $dispatcher = new Phalcon\Mvc\Dispatcher();
      $dispatcher-&gt;setDI($di);

      if (!$this-&gt;request-&gt;isPost()) {

          $this-&gt;dispatcher-&gt;forward(array('controller' =&gt; 'ro_relorder_t', 'action' =&gt; 'index'));

          // if the above live don't work try to comment and uncomment the following line

          // $this-&gt;response-&gt;redirect('ro_relorder_t');

      }else{
          $ro_relorder_t = new RoRelorderT();
      }

    }</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="17185" data-cf-modified-9bcd0597abb48558f9400b8b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="17185" data-cf-modified-9bcd0597abb48558f9400b8b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d70ff987c7a6303491da1f538eac35e0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1578/amsharma9" class="user-moderator-N"><span itemprop="name">Amal</span></a>        </span>
        <br>

        <span class="karma">16.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C17309" href="#C17309">
                <time itemprop="dateCreated" datetime="2015-04-15T07:18:57-07:00" class="action-date">Apr '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/Dominic">@Dominic</a>,</p>
<p>My question was incorrectly phrased, I edited it to correct it.
The code you wrote is very similar to what the Developer Tools generate. There could be in issue with my understanding. Shouldn't we execute code from <code>createAction</code> if it is NOT <code>Post</code> action. In other words, is it that if we are not in <code>Post</code> processing we should redirect to index and instantiate the <strong>Form</strong> (record entry screen) in the index page. I thought I should instantiate the <strong>Form</strong> in <code>createAction</code>.</p>
<p>Amal</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="17309" data-cf-modified-9bcd0597abb48558f9400b8b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="17309" data-cf-modified-9bcd0597abb48558f9400b8b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="6327" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>