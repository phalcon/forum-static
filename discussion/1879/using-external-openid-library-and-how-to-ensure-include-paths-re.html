---
layout: default
title: 'Using external OpenID library, and how to ensure include paths resolve correctly. - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Using external OpenID library, and how to ensure include paths resolve correctly.</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1316/joearcher" class="user-moderator-N"><span itemprop="name">Joe Archer</span></a></span>
            <time itemprop="dateCreated" datetime="2014-03-23T03:27:50-07:00">Mar '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-03-23T03:27:50-07:00">Mar '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">5</span>
                </td>
                <td>
                    <label>Views</label><br>1583</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/08e85ea943193de2cef0285cb50c4cba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1316/joearcher" class="user-moderator-N"><span itemprop="name">Joe Archer</span></a></span>
                <span class="karma">1.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1879" href="#C1879">
        <time class="action-date">Mar '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi, experienced developer, but phalcon newbie here. I'm building an OpenID auth system (log in with google/facebook/twitter etc) though this question is not specific to that scenario. </p>
<p>When I want to use an external library, for example Google's php-api-client library, I can't seem to work out how to successfully register this with my application. </p>
<p>I have used Phalcon\Loader to register my 'libraries' folder, but when I call a class that exists in that folder which relies upon other classes in sub folders, it cannot locate the files in the sub folders and complains about paths with a &quot;failed to open stream: No such file or directory in...&quot; </p>
<p>Am I missing something? Should I be registering all of the sub folders in 'libraries'? Am I going to have to edit all of the &quot;require_once&quot; statements in every google library file? </p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-5dad9b13e03c937979cdc2df-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-5dad9b13e03c937979cdc2df-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6470" href="#C6470">
                <time itemprop="dateCreated" datetime="2014-03-23T06:55:36-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi,<br />
You can use composer for autoloading class than Phalcon Loader if you want<br />
In your bootstrap file</p>
<pre><code class="language-php">//$loader = new \Phalcon\Loader();
include __DIR__ . "/../app/vendor/autoload.php";</code></pre>
<p>in your app/composer.json use
<a href="https://packagist.org/packages/nyholm/google-api-php-client">https://packagist.org/packages/nyholm/google-api-php-client</a></p>
<pre><code class="language-php">{
    "require": {
        "php": "&gt;=5.3.6",
        "phalcon/incubator": "1.3.0.*@dev",
        "nyholm/google-api-php-client": "dev-master"
    },
    "autoload": {
        "classmap": ["models/","controllers/","plugins/","forms/"],
        "files": ["library/lib.php"],
        "psr-0" : {
        }
    }
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6470" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6470" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/64a31ffa601d7121d20d9c6eb49b7812?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1322/BhSimon" class="user-moderator-N"><span itemprop="name">Simon Paterson</span></a>        </span>
        <br>

        <span class="karma">1.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6498" href="#C6498">
                <time itemprop="dateCreated" datetime="2014-03-24T05:55:06-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Did you work this out?</p>
<p>I noticed in the Git source tree that some of the files in the 'Google' folder were requiring files which were also linked to the 'Google' folder. If you were to run those files you would be requesting 'Google\Google...'. The 'Client.php' file is one example. I'm not sure if this happens when you clone it, but this is the way is appears on GitHub.</p>
<p>Have you tried interacting with the library outside of Phalcon? Does it work as expected? If so, please ignore these observations.</p>
<p>I am interested in how you go making this work as I, too, have a need to use that library.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6498" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6498" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/08e85ea943193de2cef0285cb50c4cba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1316/joearcher" class="user-moderator-N"><span itemprop="name">Joe Archer</span></a>        </span>
        <br>

        <span class="karma">1.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="6499" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '14</span>
              </span><br/><a name="C6499" href="#C6499">
                <time itemprop="dateCreated" datetime="2014-03-24T06:00:28-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I've actually just finished the implementation, I ended up using <a href="http://hybridauth.sourceforge.net/">HybridAuth</a> instead of Google's library. It offers OAuth functionality for numerous providers rather an just Google. I also ended up putting a  <code>set_include_path()</code> in my bootstrap file which made loading the classes easier.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6499" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6499" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6a53d9264e5982c48bf21da20e29ce4a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1628/dextrality" class="user-moderator-N"><span itemprop="name">dextrality</span></a>        </span>
        <br>

        <span class="karma">17.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C9052" href="#C9052">
                <time itemprop="dateCreated" datetime="2014-07-01T07:36:12-07:00" class="action-date">Jul '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Joearcher, is there some way I can contact you?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="9052" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="9052" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/08e85ea943193de2cef0285cb50c4cba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1316/joearcher" class="user-moderator-N"><span itemprop="name">Joe Archer</span></a>        </span>
        <br>

        <span class="karma">1.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C9053" href="#C9053">
                <time itemprop="dateCreated" datetime="2014-07-01T07:48:40-07:00" class="action-date">Jul '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Can you not just post your question here?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="9053" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="9053" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6a53d9264e5982c48bf21da20e29ce4a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1628/dextrality" class="user-moderator-N"><span itemprop="name">dextrality</span></a>        </span>
        <br>

        <span class="karma">17.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="9054" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '14</span>
              </span><br/><a name="C9054" href="#C9054">
                <time itemprop="dateCreated" datetime="2014-07-01T08:22:38-07:00" class="action-date">Jul '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sure, but your last post was on 14.03. so I thought you are rarely here :)
I wanted to ask you if you could post your implementation of HybridAuth in Phalcon on Github?
I'm having troubles implementing it.
Could you please upload/post your controller, bootrstrap and hybridauth folder?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="9054" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="9054" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/08e85ea943193de2cef0285cb50c4cba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1316/joearcher" class="user-moderator-N"><span itemprop="name">Joe Archer</span></a>        </span>
        <br>

        <span class="karma">1.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C9056" href="#C9056">
                <time itemprop="dateCreated" datetime="2014-07-01T08:47:42-07:00" class="action-date">Jul '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Possibly. It was implemented for a client so I will have to remove any project specific code. I will try to do this.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="9056" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="9056" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6a53d9264e5982c48bf21da20e29ce4a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1628/dextrality" class="user-moderator-N"><span itemprop="name">dextrality</span></a>        </span>
        <br>

        <span class="karma">17.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="9057" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '14</span>
              </span><br/><a name="C9057" href="#C9057">
                <time itemprop="dateCreated" datetime="2014-07-01T08:51:29-07:00" class="action-date">Jul '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks . Means to me a lot since the only phalcon related topic about hybridauth is this one.</p>
<p>Also, you dont have to bother with a example that would work out of the box,
login controller, bootrstrap and hybridauth config are enough :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="9057" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="9057" data-cf-modified-5dad9b13e03c937979cdc2df-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1879" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>