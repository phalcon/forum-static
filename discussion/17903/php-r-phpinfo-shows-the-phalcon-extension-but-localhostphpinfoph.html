---
layout: default
title: 'php -r &#039;phpinfo();&#039;  shows the phalcon extension,  but localhost/phpinfo.php don&#039;t... - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">php -r &#039;phpinfo();&#039;  shows the phalcon extension,  but localhost/phpinfo.php don&#039;t...</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/4933/m8958" class="user-moderator-N"><span itemprop="name">m8958</span></a></span>
            <time itemprop="dateCreated" datetime="2018-03-09T12:50:14-07:00">Mar '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-03-09T12:50:14-07:00">Mar '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Mar '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>1741</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/5de86a29e40658530512a1285329d3ec?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/4933/m8958" class="user-moderator-N"><span itemprop="name">m8958</span></a></span>
                <span class="karma">2.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17903" href="#C17903">
        <time class="action-date">Mar '18</time>
    </a>
</div>
<div class="post-content"><div><p>I apologise if it's trivial, but the phalcon.so 3.3.2 extension is shown as present in a command line phpinfo(), but is absent in the web phpinfo().. ?!?
WHY ?</p>
<p>Any project perfectly created with phalcon tools 3.2.12 does not run in the apache server which complains with &quot;I don't found Phalcon\Loader, Phalcon\Config&quot; and so on.. Worst, the extensions is absent in a web phpinfo()</p>
<p>The site is created as a simple project with phalcon tools version 3.2.12, this one :
<em>phalcon tools </em>: PHP Version: 7.0.25-0ubuntu0.16.04.1 | PHP SAPI: cli | PHP Bin: /usr/bin/php7.0 |
PHP Extension Dir: /usr/lib/php/20151012 |  PHP Bin Dir: /usr/bin |   Loaded PHP config: /etc/php/7.0/cli/php.ini |
Versions: |  Phalcon DevTools Version: 3.2.12 |  Phalcon Version: 3.3.2 |  AdminLTE Version: 2.3.6</p>
<p>The apache server has an extension &quot;phalcon.so&quot; build by cloning the last github, build the .install.sh file etc.
To verify the presence of the extension, a command line
php -r 'phpinfo();'
or
php -r 'print_r(get_loaded_extensions());'</p>
<p>shows THE EXTENSION PRESENT as this :</p>
<h2>phalcon</h2>
<p>Web framework delivered as a C-extension for PHP
phalcon =&gt; enabled
Author =&gt; Phalcon Team and contributors
Version =&gt; 3.3.2
Build Date =&gt; Mar  9 2018 20:00:07
Powered by Zephir =&gt; Version 0.10.7-2917ebe8ae
etc..</p>
<p>but if I use the same phpinfo() in a webssite
&lt;?php
phpinfo()</p>
<p>the extension disapears..
and I agree with this last verdict..</p>
<p>any idea, Phalconists ? </p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-90ea8418cbe277c7ef693557-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-90ea8418cbe277c7ef693557-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54297" href="#C54297">
                <time itemprop="dateCreated" datetime="2018-03-10T09:01:12-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>same is for me, i have a specific php installtion just for cli, and a seperated one for my nxing.</p>
<p>So when you type php in console, you are not executing the same php executable your web server does.</p>
<p>or your webserver loads a different php.ini :-)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54297" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54297" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5de86a29e40658530512a1285329d3ec?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4933/m8958" class="user-moderator-N"><span itemprop="name">m8958</span></a>        </span>
        <br>

        <span class="karma">2.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54301" href="#C54301">
                <time itemprop="dateCreated" datetime="2018-03-10T10:42:36-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>how could it been that php-cli and php7.0 not be the same version? they have been installed in the same time, or.. not?</p>
<p>Someone who still has installed in his machine a php5.6.x and a phalcon.so 2.0.x, can say if it's a big bug or not :
could you please do a 'php -info'(or the more complicated in my question) and phpinfo() in the server ? Do the answers match ?</p>
<p>Is not a server bug also because you are talking about nginx and mine is apache.</p>
<p><strong>unfortunately, I think it's a bug in the 3.xx extension phalcon.so itself</strong></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54301" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54301" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54303" href="#C54303">
                <time itemprop="dateCreated" datetime="2018-03-11T08:09:09-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>nope, its your configuration.</p>
<p>its hard to explain .. read careful;ly my comment and check how you setupo php fpm to understand the idea</p>
<p>Hope that helps</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54303" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54303" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5de86a29e40658530512a1285329d3ec?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4933/m8958" class="user-moderator-N"><span itemprop="name">m8958</span></a>        </span>
        <br>

        <span class="karma">2.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54305" href="#C54305">
                <time itemprop="dateCreated" datetime="2018-03-11T12:23:23-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I installed 5 php's from &quot;ondrej&quot;(andrew?) ppa :
/etc/php:
total 40
drwxr-xr-x   7 root root  4096 Mar 10 23:36 .
drwxr-xr-x   3 root root  4096 Mar 10 23:31 <strong>5.6</strong>
drwxr-xr-x   3 root root  4096 Mar 10 23:31 <strong>7.1</strong>
drwxr-xr-x   5 root root  4096 Mar 10 22:44 <strong>7.2</strong> &lt;= this one is THE DEFAULT, pointed by /etc/alternatives
drwxr-xr-x   5 root root  4096 Jun 28  2017 <strong>7.0</strong>
drwxr-xr-x   5 root root  4096 May 31  2016 <strong>5.5</strong></p>
<p>then recompiled the github cphalcon, which, infortunatelly.. wants the 7.0 as default.
and even if I re-chose 7.0 as default, apache2 web refuses, and the cli command accepts it.. etc. etc. and it loops</p>
<p>too many php's.. too many cphalcons and the baby with so many midwives around him, died..
Sincerly, tomorow i'll continue with my laravel. Primum vivaere, deinde philosophare
Let's break the thread as &quot;impossible to install in ubuntu 16.04-LTS and apache till some stabilisation in versioning&quot;</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54305" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54305" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54307" href="#C54307">
                <time itemprop="dateCreated" datetime="2018-03-11T15:18:04-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>yea that ondej repo for php7 should be deleted, people should never install it. It only messes everything up.
good luck with Laravel</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54307" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54307" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54348" href="#C54348">
                <time itemprop="dateCreated" datetime="2018-03-15T14:59:11-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>PHP on the command line and PHP in a web server have 2 different config files.  It sounds like you've added it to the command line file, but not Apache.  In Debian (and likely Ubuntu), the Command Line file is at /etc/php/7.0/cli/php.ini and the Apache config file is at /etc/php/7.0/apache2/php.ini</p>
<p>Looking at phpinfo() online, right near the top will be line &quot;Loaded Configuration File&quot;.  That's the one you need to modify to include the Phalcon SO.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54348" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54348" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5de86a29e40658530512a1285329d3ec?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4933/m8958" class="user-moderator-N"><span itemprop="name">m8958</span></a>        </span>
        <br>

        <span class="karma">2.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C54388" href="#C54388">
                <time itemprop="dateCreated" datetime="2018-03-16T10:38:33-07:00" class="action-date">Mar '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I FOUND THE BUG..</p>
<ul>
<li>thanks to <strong>Izo</strong> and with apologizes to <strong>&quot;ondrej&quot;</strong>, I removed absolutelly all the 5-6 versions of php. And installed the one qualified in the phalcon doc, the 7.0</li>
<li><strong>Dylan</strong>, you were right, there are 3 or 4 applications comming with the php install. The tree under <strong>/etc/php/7.0</strong> contains the <strong>php</strong> as language, the <strong>php-cli</strong> as a command line application, the <strong>php-ftm</strong> as a adhoc php web server and an other one, etc..
As you said, each one has also a phalcon.ini file containing the line <strong>extension=phalcon.so</strong>. For shure in each php.ini of each one of those applications is an include of the phalcon.ini file which sends to an abstract extension &quot;phalcon.so&quot;. And as sure as that, is the build script of cphalcon which installed that mecanism
The &quot;extension_dir&quot; in the php-cli application was right. But not in the others. <strong>I explain</strong> : to found where exactly &quot;phalcon.so&quot; is, there is a parameter &quot;extension_dir&quot; which serves as base of the full path.  Then to match this fullpath, you must move/copy the module to the right directory, test it, recompile it re-move-copy it, make errors, etc.
THE SOLUTION, TO ALL THIS THREAD IS TRIVIAL :</li>
</ul>
<p><strong>EVEN IN PRESENCE OF SUCH an &quot;extension_dir&quot; parameter, FORGET IT, and use a full path to point your cphalcon module</strong>
example : </p>
<p><strong>extension = /home/michaela/cphalcon/build/php7/64bits/modules/phalcon.so</strong> </p>
<p>of coarse is to root to decide where to put it</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="54388" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="54388" data-cf-modified-90ea8418cbe277c7ef693557-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17903" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>