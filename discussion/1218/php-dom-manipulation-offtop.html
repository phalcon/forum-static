---
layout: default
title: 'PHP DOM Manipulation (offtop) - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/4/offtopic">Offtopic</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">PHP DOM Manipulation (offtop)</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a></span>
            <time itemprop="dateCreated" datetime="2013-11-21T03:31:39-07:00">Nov '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-11-21T03:31:39-07:00">Nov '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1549</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/48537ea6460838b67043b973f132cabd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a></span>
                <span class="karma">36.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1218" href="#C1218">
        <time class="action-date">Nov '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hello.</p>
<p>I have an idea to use clean HTML-template in MVC in the following way:</p>
<ol>
<li>Designer generates HTML-template.</li>
<li>On the server-side, Back-developer gets this HTML-template and fills it by data.
The point: I don't want include ANY logic in the Hypertext Markup (so templates-engines is not variant). It's just like AJAX-development, but on the server-side.</li>
</ol>
<p>I know that there is phpQuery and simpleHtmlDom, but it seems they have serious problems with speed.</p>
<p>Does somebody know any good instrument for PHP DOM manipulation?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-994769fc6cb637f120a3e2a4-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-994769fc6cb637f120a3e2a4-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4368" href="#C4368">
                <time itemprop="dateCreated" datetime="2013-11-21T04:54:31-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No kidding?? PHP is good at printing out data to the client. DOM manipulation is always resource and time consuming. May I ask you what is the reason for it?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4368" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4368" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/48537ea6460838b67043b973f132cabd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a>        </span>
        <br>

        <span class="karma">36.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4371" href="#C4371">
                <time itemprop="dateCreated" datetime="2013-11-21T06:19:23-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm not kidding.
I have team: designers, developers and so on. I want totally isolate they works. </p>
<p>We have fully workable AJAX-based web-system, that works by the earlier described principle: JS-script gets JSON-data and HTML-markup, then fills HTML-markup with the necessary data. But now we need to create JS-independent system, so I want that principle &quot;get data and markup then combine them&quot; worked on server-side.</p>
<p>When I searching for the existing examples, I found the article: <a href="https://www.workingsoftware.com.au/page/Your_templating_engine_sucks_and_everything_you_have_ever_written_is_spaghetti_code_yes_you">https://www.workingsoftware.com.au/page/Your_templating_engine_sucks_and_everything_you_have_ever_written_is_spaghetti_code_yes_you</a>
So, I'm know that I'm not alone :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4371" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4371" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4378" href="#C4378">
                <time itemprop="dateCreated" datetime="2013-11-21T16:57:30-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Are you referring to your experience with Node.JS? If so, then PHP principles of work are slightly different. These two libraries you mentioned are the most popular. If you need speed you can either deal with plain DOM document or XHTML / XSLT. Alternative route is to make backend prepare and send data and then you use AngularJS or other JavaScript frontend library to render the page on the client.</p>
<p><strong>OFFTOPIC</strong></p>
<p>Several disadvantages I can list here are DOM manipulation in PHP is not perfect and building all the routines and behaviors can actually take more time and resources than simply printing HTML code with PHP. Support and further changes e.g., redesign may become harder. DOM manipulation uses more server resources and slower. Also it adds another layer between logic and presentation which is the &quot;presentation logic&quot;. You would need to cache pages for speed and it will bring more problems to consider and overcome. </p>
<p>Seriously I don't see any advantage to prefer this:</p>
<pre><code class="language-php">&lt;form&gt;
    &lt;dl class="error" id="whatevsError"&gt;
        &lt;dt&gt;You have to do something about this&lt;/dt&gt;
        &lt;dd&gt;The reason we ask you do do this is so that we can laugh all the way to the bank&lt;/dd&gt;
    &lt;/dl&gt;
    &lt;dl&gt;
        &lt;dt&gt;&lt;label for="whatevs"&gt;Whatevs:&lt;/label&lt;/dt&gt;
        &lt;dd&gt;&lt;input type="text" name="whatevs" id="whatevs" /&gt;&lt;/dd&gt;
    &lt;/dl&gt;
&lt;/form&gt;

To render this using PHP you might do something this:

$dom = $this-&gt;loadDocument($my_template);

if(!checkFormError('whatevs'))
    $dom-&gt;getElementById('whatevsError')-&gt;parentNode-&gt;removeChild($dom-&gt;getElementById('whatevsError'));</code></pre>
<p>over this:</p>
<pre><code class="language-php">&lt;form&gt;
    &lt;?php if(!checkFormError('whatevs')) { ?&gt;
    &lt;dl class="error" id="whatevsError"&gt;
        &lt;dt&gt;You have to do something about this&lt;/dt&gt;
        &lt;dd&gt;The reason we ask you do do this is so that we can laugh all the way to the bank&lt;/dd&gt;
    &lt;/dl&gt;
    &lt;?php } ?&gt;
    &lt;dl&gt;
        &lt;dt&gt;&lt;label for="whatevs"&gt;Whatevs:&lt;/label&lt;/dt&gt;
        &lt;dd&gt;&lt;input type="text" name="whatevs" id="whatevs" /&gt;&lt;/dd&gt;
    &lt;/dl&gt;
&lt;/form&gt;</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4378" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4378" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/48537ea6460838b67043b973f132cabd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/23/aavolkoff" class="user-moderator-N"><span itemprop="name">aavolkoff</span></a>        </span>
        <br>

        <span class="karma">36.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4381" href="#C4381">
                <time itemprop="dateCreated" datetime="2013-11-21T23:06:40-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for the answer!</p>
<p>As I mentioned above, I just want use the same experience as in the &quot;Ajax-compiling-pages&quot;, but in the &quot;Server-side-compiling-pages&quot;. No, I don't use Node.JS in the front-page-rendering, I use it in the API.</p>
<p>Yes, I understand that work with DOM on the server-side will be slowly than work in ordinary page rendering style. But my best advantage is the reducing time and money on designers and developers interaction. Another advantage is more readable code and so on.</p>
<p>I found QueryPath library for my purposes, but it's adds from 50% till 100% time to the script execution. Now I'm really must take decision what to use: &quot;spaghetti code&quot; or &quot;DOM manipulation&quot;....</p>
<p>P.S. Your example is quite simple, IRL things may become much harder such as: case-trees, tonns of the loops and decision-making on every-attribute of the DOM-element.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4381" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4381" data-cf-modified-994769fc6cb637f120a3e2a4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1218" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>