---
layout: default
title: 'Do I have to place the same main view in multiple places when using a sub-controller? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Do I have to place the same main view in multiple places when using a sub-controller?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a></span>
            <time itemprop="dateCreated" datetime="2019-09-04T22:26:48-07:00">Sep '19</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2019-09-04T22:26:48-07:00">Sep '19</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '20</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">6</span>
                </td>
                <td>
                    <label>Views</label><br>246</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/fb176191a7a770b41147882f0100a4e9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a></span>
                <span class="karma">4.2k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C19989" href="#C19989">
        <time class="action-date">Sep '19</time>
    </a>
</div>
<div class="post-content"><div><p>I am using a sub-controller structure.</p>
<p>[simple-subcontrollers]<a href="https://github.com/phalcon/mvc/tree/master/simple-subcontrollers">https://github.com/phalcon/mvc/tree/master/simple-subcontrollers</a>)</p>
<p>In the above sample, the view directory is changed in app/constrollers/admin/ControllerBase.php as follows.</p>
<pre><code>class ControllerBase extends Controller
{

    public function afterExecuteRoute()
    {
        $this-&gt;view-&gt;setViewsDir($this-&gt;view-&gt;getViewsDir() . 'admin/');
    }
}</code></pre>
<p>However, with this method, I think it is necessary to have main-view( the overall layout as HTML ), partials, and layouts in each views directory.
Because it was written in the document as follows.</p>
<pre><code>public setMainView (mixed $viewPath)
Sets default view name. Must be a file without extension in the views directory</code></pre>
<p>I think this is too inefficient, but isn't it common?
(By the way, I want to use multiple sub-contollers.)</p>
<p>It may be possible to solve by changing the names of all the controllers, but it seems that it is not a good management to arrange all the different functions in the same hierarchy, and at least the top controller of the divided controller is I think index is appropriate.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-93950833ee61e1efaefef0cc-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-93950833ee61e1efaefef0cc-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10998/diplopito" class="user-moderator-N"><span itemprop="name">diplopito</span></a>        </span>
        <br>

        <span class="karma">502</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="60871" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '19</span>
              </span><br/><a name="C60871" href="#C60871">
                <time itemprop="dateCreated" datetime="2019-09-05T00:06:13-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You don't have to. The choice of the developer in this case makes sense since he wants a specific view in the admin pages. If you check the <a href="https://github.com/phalcon/mvc/blob/master/simple-subcontrollers/app/controllers/ControllerBase.php"><code>ControllerBase.php</code> one level higher</a>, you'll find that there is no <code>afterExecuteRoute()</code> method declared.  You can also pick any view from your sub-controllers as well, or just let them flow automatically to their own view.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60871" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60871" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/fb176191a7a770b41147882f0100a4e9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a>        </span>
        <br>

        <span class="karma">4.2k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60871"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        diplopito                    </a>
                </div><div class="posts-buttons" align="right"><a name="C60881" href="#C60881">
                <time itemprop="dateCreated" datetime="2019-09-05T03:32:40-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for your reply.</p>
<blockquote>
<p>You can also pick any view from your sub-controllers as well, or just let them flow automatically to their own view.</p>
</blockquote>
<p>How can I do that?  ( especially “automatically” )
I am thinking about the following structure. (Of course change is possible)</p>
<pre><code>app/
    controllers/
        IndexController.php
        SearchController.php
        admin/
            IndexController.php
            UsersController.php
    views/
        index/     (for IndexController)
            index.volt
            ...
        search/     (for SearchController)
            index.volt
            ...
        admin/
            index/     (for admin/IndexController)
                index.volt
                ...
            users/     (for admin/UsersController)
                index.volt
                ...
        layouts/
            index.volt     (for IndexController)
            search.volt     (for SearchController)
            admin/
                index.volt     (for admin/IndexController)
                users.volt     (for admin/UsersController)
        partials/
            menu.volt     (for both)
            ...
        html5.volt     (for both)</code></pre>
<p>It seems that Phalcon cannot find admin/index.volt unless the controller under admin is explicitly specified with setViewsDir().</p>
<p>And if you set it with setViewsDir(), it will not find html5.volt. </p>
<p>This is correct because the default mainView (= html5.volt) is not under the view/admin.</p>
<p>I haven't tried layouts and partials yet, but I really want to use them.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60881" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60881" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10998/diplopito" class="user-moderator-N"><span itemprop="name">diplopito</span></a>        </span>
        <br>

        <span class="karma">502</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="60883" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '19</span>
              </span><br/><a name="C60883" href="#C60883">
                <time itemprop="dateCreated" datetime="2019-09-05T03:55:53-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>That's the default behaviour. I like to <code>pick</code> a view to display an error message in case needed, i.e:</p>
<pre><code class="language-php">class ControllerBase extends Controller
{
    public function beforeExecuteRoute()
    {        
        if (! $this-&gt;user-&gt;isAuthenticated()) {
            $this-&gt;view-&gt;setvar("Msg", "Your session has expired. Please login again.");
            $this-&gt;view-&gt;pick("index/error");
            return false;
        }
    }
}</code></pre>
<p>And in <code>index/error</code> just print <code>Msg</code>. If the user is authenticated, the views flow will continue as usual. And, of course, within the indexController, you can keep picking other views, if there is an error pick the error page and send the appropriate message or just let it display its own view. The <a href="https://docs.phalcon.io/3.4/en/views">Views</a> doc explains the flow very well, you might find more possibilities for your project.</p>
<p>This example is similar to the one that started your question: this function is ideal for <code>admin</code> sub-controller. For the other ones, you can pick views based on other rules. Ideally, to take advantage of the automated flow of Phalcon, keep in mind that views mirror the controllers (it's MVC after all).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60883" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60883" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/fb176191a7a770b41147882f0100a4e9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a>        </span>
        <br>

        <span class="karma">4.2k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60883"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        diplopito                    </a>
                </div><div class="posts-buttons" align="right"><a name="C60885" href="#C60885">
                <time itemprop="dateCreated" datetime="2019-09-05T09:25:41-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I want to forward to the login page instead of displaying an error page when an authentication error occurs, but  Controller:beforeExecuteRoute() did not work.
Probably because I don't understand how to use beforeExecuteRoute(), but attaching the authentication check to the dispatch:beforeExecuteRoute event worked well, so I decided to use it.</p>
<p>And I thought your suggestion to use pick() was good, so I wrote in controller:initialize(), create a path for action view from controller namespace and action name, and pass to pick().</p>
<p>It was very helpful.
Thank you very much.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60885" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60885" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10998/diplopito" class="user-moderator-N"><span itemprop="name">diplopito</span></a>        </span>
        <br>

        <span class="karma">502</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60887" href="#C60887">
                <time itemprop="dateCreated" datetime="2019-09-05T11:35:43-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Glad that it helped. In <a href="https://docs.phalcon.io/4.0/en/routing">Routing</a> doc you'll find more info about <code>beforeExecuteRoute</code>. It's strongest point, as in the example that started your question, is that it covers all the controllers extended from it, so you don't have to add the authentication request in each one of them.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60887" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60887" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/fb176191a7a770b41147882f0100a4e9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a>        </span>
        <br>

        <span class="karma">4.2k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60887"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        diplopito                    </a>
                </div><div class="posts-buttons" align="right"><a name="C60889" href="#C60889">
                <time itemprop="dateCreated" datetime="2019-09-05T19:30:12-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It is a little difficult to understand events and dispatch loops, but it is powerful and useful.
However, my usage this time also overrides the default behavior with the same value, so I think there should be a smarter way.</p>
<p>If possible, I would like router to automatically determine subdirectories from the relation between the controller's namespace and directory registered with Phalcon\Loader::registerNamespaces() and REQUEST_URI.
And it should be reflected when deciding the directory to search for view and controller-layout, tag-helper link and form generation.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60889" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60889" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10998/diplopito" class="user-moderator-N"><span itemprop="name">diplopito</span></a>        </span>
        <br>

        <span class="karma">502</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60891" href="#C60891">
                <time itemprop="dateCreated" datetime="2019-09-05T19:49:10-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>That's exactly how controllers and actions work in Phalcon. If I understand you well, you might not need too many sub-controllers, but a good grouping in your router. Follow this guide, it will save you time : <a href="https://docs.phalcon.io/3.4/en/application">https://docs.phalcon.io/3.4/en/application</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60891" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60891" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/fb176191a7a770b41147882f0100a4e9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a>        </span>
        <br>

        <span class="karma">4.2k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60891"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        diplopito                    </a>
                </div><div class="posts-buttons" align="right"><a name="C60893" href="#C60893">
                <time itemprop="dateCreated" datetime="2019-09-05T21:21:07-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Does your suggestion of &quot;grouping&quot; mean dividing into modules?
I tried a little, but since the mutual cooperation is deep in this project, I adopted sub-controller.</p>
<p>Actually, I was expecting the previous &quot;automatically determine subdirectory ...&quot;, but it was a pity that it was not implemented.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60893" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60893" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b6dd256c8ddcc6907fc4db2d0ccfb5f2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10998/diplopito" class="user-moderator-N"><span itemprop="name">diplopito</span></a>        </span>
        <br>

        <span class="karma">502</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60895" href="#C60895">
                <time itemprop="dateCreated" datetime="2019-09-06T00:58:31-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>With the router in Phalcon the sky is the limit. Take this example :</p>
<pre><code class="language-php">
$router-&gt;add(
    '/admin/:controller/a/:action/:params',
    [
        'controller' =&gt; 1,
        'action'     =&gt; 2,
        'params'     =&gt; 3,
    ]
);
</code></pre>
<p>You can go as deep as you want. By grouping I refer to use multiple <code>actions</code> in a controller rather than spreading them in sub-controllers. And if many devs are involved, it might be of help the multi-module approach, makes it easier to delegate tasks. The example is taken from the routing doc, you'll find many more possibilities in it.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60895" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60895" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60899" href="#C60899">
                <time itemprop="dateCreated" datetime="2019-09-09T08:20:18-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm using sub-controllers in my latest project.</p>
<p>For every sub-controller namespace, I have a new Base controller.  <code>Base::afterExecuteRoute()</code> I re-define with <code>$this-&gt;view-&gt;setViewsDir()</code>.  The <code>partials</code> directory stays the same, but the base view directory changes.</p>
<p>Also, if your question has been answered, can you click the &quot;Accept Answer&quot; button on the answering reply?  Then others can know the problem has been solved.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60899" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60899" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/fb176191a7a770b41147882f0100a4e9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/12769/s-ohnishi" class="user-moderator-N"><span itemprop="name">s-ohnishi</span></a>        </span>
        <br>

        <span class="karma">4.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60901" href="#C60901">
                <time itemprop="dateCreated" datetime="2019-09-10T04:52:29-07:00" class="action-date">Sep '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm sorry, I was late.</p>
<p>To dipropito.
I don't like having many controllers in the same hierarchy without being classified, so I'm sorry, but I don't use the proposed method.
For that reason, I think there is no way to register multiple namespaces.
I'm very happy if the directory is resolved according to PSR with just the basic namespace and directory registration, and I hope Phalcon will do so.
I am grateful for your suggestion.</p>
<p>To Anderson.
I think my management will fail, so I want to avoid it, creating multiple files with almost the same content.
If I use BaeController, which inherited from CommonBaseController, I might be able to avoid failure, but I think it will be more complicated and increase the number of files.
So I would like to configure multiple sub-controllers with as few (one is optimal) files as possible.
Thank you.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60901" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60901" data-cf-modified-93950833ee61e1efaefef0cc-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="19989" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>