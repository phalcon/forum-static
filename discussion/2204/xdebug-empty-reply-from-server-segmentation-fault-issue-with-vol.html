---
layout: default
title: 'Xdebug: empty reply from server / segmentation fault (issue with Volt anonymous functions) - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/27/external-tools">External Tools</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Xdebug: empty reply from server / segmentation fault (issue with Volt anonymous functions)</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a></span>
            <time itemprop="dateCreated" datetime="2014-04-30T02:55:43-07:00">Apr '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-04-30T02:55:43-07:00">Apr '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>2131</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/5e765e30b2def171a913a5501de37faa?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a></span>
                <span class="karma">8.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2204" href="#C2204">
        <time class="action-date">Apr '14</time>
    </a>
</div>
<div class="post-content"><div><p>I'm trying to get started with Xdebug (2.2.4/2.2.5) but my Phalcon app seems to refuse working properly with it.
I get an empty reply from the server (using Curl: <code>curl: (52) Empty reply from server</code>)</p>
<p>( -- edit: Apache logs notice  <code>child pid xxxx exit signal Segmentation fault (11)</code> in error log )</p>
<p>It do get content / a response when I request a file directly (not handled by Phalcon), or when I request an URL that doesn't exist (non-existing controller - I do get a Phalcon exception then, which I also can catch with dispatch:beforeException, and then e.g. forward the dispatcher to an error controller / 404 page.)</p>
<p>For what it's worth; I'm running CentOS 6.5 as a VirtualBox guest. Apache 2.2/mod_php5. Tested with Phalcon 1.2.6(-safe) and 1.3.1</p>
<p>Does anyone have a clue? Thanks!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-c19a4469fc295f4abe725e2a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-c19a4469fc295f4abe725e2a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5e765e30b2def171a913a5501de37faa?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a>        </span>
        <br>

        <span class="karma">8.1k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="7558" data-toggle="modal" data-target="#historyModal">
                edited <span>May '14</span>
              </span><br/><a name="C7558" href="#C7558">
                <time itemprop="dateCreated" datetime="2014-05-01T03:19:35-07:00" class="action-date">May '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ok, found it - the problem seems to be triggerd when calling a custom Volt function (from a view) that's registered as an anonymous function.
In that case Phalcon won't even compile the view tpl.</p>
<p>Of course the question now is if Phalcon is doing something 'funky', or it is simply a bug in Xdebug?</p>
<p>Edit: it seems this has already been reported: <a href="https://github.com/phalcon/cphalcon/issues/2269">https://github.com/phalcon/cphalcon/issues/2269</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7558" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7558" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/15c836c2cdd6f72e2fcf9a230632768d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1177/cvsguimaraes" class="user-moderator-N"><span itemprop="name">Carlos Guimaraes</span></a>        </span>
        <br>

        <span class="karma">8.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7562" href="#C7562">
                <time itemprop="dateCreated" datetime="2014-05-01T10:01:42-07:00" class="action-date">May '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yeah, it's not working with anonymous functions. Meanwhile everyone with this issue can implement custom methods and refer to them by string just like you do for adding native PHP functions to Volt.</p>
<pre><code>&lt;?php
namespace Services;

use Phalcon\Mvc\View\Engine\Volt as PhVolt;

class Volt extends PhVolt
{ 
    function __construct($view, $dependencyInjector = NULL)
    {
        parent::__construct($view, $dependencyInjector);

        $this-&gt;setOptions([
            'compileAlways'     =&gt; true,
            'compiledPath'      =&gt; VOLT_COMPILE_DIR,
            'compiledSeparator' =&gt; '--'
            ]);

        $this-&gt;getCompiler()-&gt;addFunction('public_dump', 'Services\Volt::publicDump');
    }

    public static function publicDump($object)
    {
        return print_r(get_object_vars($object), true);
    }
    ...</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7562" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7562" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5e765e30b2def171a913a5501de37faa?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a>        </span>
        <br>

        <span class="karma">8.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7565" href="#C7565">
                <time itemprop="dateCreated" datetime="2014-05-01T11:51:06-07:00" class="action-date">May '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for your feedback!
Yes, I could do that. (And then hoping for some smooth sailing from then on of course... ;-))</p>
<p>Do you have any idea if this is a bug in Xdebug somehow, or is it Phalcon related?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7565" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7565" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/15c836c2cdd6f72e2fcf9a230632768d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1177/cvsguimaraes" class="user-moderator-N"><span itemprop="name">Carlos Guimaraes</span></a>        </span>
        <br>

        <span class="karma">8.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7566" href="#C7566">
                <time itemprop="dateCreated" datetime="2014-05-01T15:43:41-07:00" class="action-date">May '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I believe it isn't XDebug related, since I've experienced this issue before starting to work with XDebug.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7566" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7566" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5e765e30b2def171a913a5501de37faa?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a>        </span>
        <br>

        <span class="karma">8.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="8360" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '14</span>
              </span><br/><a name="C8360" href="#C8360">
                <time itemprop="dateCreated" datetime="2014-06-03T13:21:43-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I ran into other issues with Xdebug enabled, I believe having to do with the Paginator.</p>
<p>It just seems Phalcon with Xdebug is somewhat of a no-go?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8360" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8360" data-cf-modified-c19a4469fc295f4abe725e2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2204" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>