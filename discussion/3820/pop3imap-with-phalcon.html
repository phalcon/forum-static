---
layout: default
title: 'POP3/IMAP with Phalcon. - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">POP3/IMAP with Phalcon.</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/889/zyxep" class="user-moderator-N"><span itemprop="name">zyxep</span></a></span>
            <time itemprop="dateCreated" datetime="2014-10-30T13:57:28-07:00">Oct '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-10-30T13:57:28-07:00">Oct '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">5</span>
                </td>
                <td>
                    <label>Views</label><br>1341</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7ffb0f8e96c882de47c169a83d9dfa7f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/889/zyxep" class="user-moderator-N"><span itemprop="name">zyxep</span></a></span>
                <span class="karma">21.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C3820" href="#C3820">
        <time class="action-date">Oct '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi.</p>
<p>I have this picture host with a friend and for each picture can the user click on a button and submit a form for abuse of the picture.
This will add it to a MySQL database.</p>
<p>My plan is to make it look and function like a chat, because the end user will enter a email where they can reply on, kinda like a professional ticket system.</p>
<p>My backend will look like <a href="https://cl.ly/image/2C251Z2W3E19">https://cl.ly/image/2C251Z2W3E19</a></p>
<p>I guess i need to make a script that runs every XX min in cron to check for new emails and add them to the mysql table.</p>
<p>But does this exist in phalcon or do i need to use clean php with imap? <a href="https://php.net/manual/en/book.imap.php">https://php.net/manual/en/book.imap.php</a></p>
<p>And how should it be design architecture wise.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-b8e296a55bafe2303bf61a46-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-b8e296a55bafe2303bf61a46-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/50e9f6dcf8a453b4958e26aeb9a43bbc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1996/a-weinand" class="user-moderator-N"><span itemprop="name">a-weinand</span></a>        </span>
        <br>

        <span class="karma">2.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C12696" href="#C12696">
                <time itemprop="dateCreated" datetime="2014-10-30T14:34:38-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Maybe this might help: <a href="https://github.com/phalcon/incubator/tree/master/Library/Phalcon/Mailer">https://github.com/phalcon/incubator/tree/master/Library/Phalcon/Mailer</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12696" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12696" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7ffb0f8e96c882de47c169a83d9dfa7f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/889/zyxep" class="user-moderator-N"><span itemprop="name">zyxep</span></a>        </span>
        <br>

        <span class="karma">21.1k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C12696"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/50e9f6dcf8a453b4958e26aeb9a43bbc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        a-weinand                    </a>
                </div><div class="posts-buttons" align="right"><a name="C12697" href="#C12697">
                <time itemprop="dateCreated" datetime="2014-10-30T14:35:53-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for reply.
That is only SMTP (sending mail), not fetching :) i have already seen it .</p>
<blockquote>
<p>Maybe this might help: <a href="https://github.com/phalcon/incubator/tree/master/Library/Phalcon/Mailer">https://github.com/phalcon/incubator/tree/master/Library/Phalcon/Mailer</a></p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12697" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12697" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/50e9f6dcf8a453b4958e26aeb9a43bbc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1996/a-weinand" class="user-moderator-N"><span itemprop="name">a-weinand</span></a>        </span>
        <br>

        <span class="karma">2.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C12698" href="#C12698">
                <time itemprop="dateCreated" datetime="2014-10-30T14:43:51-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Oh sorry, you're totally right, I didn't pay enough attention.</p>
<p>But maybe this might help^^: <a href="https://www.wynia.org/wordpress/2007/02/alternate-imap-solution-for-php-pear-net_imap">https://www.wynia.org/wordpress/2007/02/alternate-imap-solution-for-php-pear-net_imap</a></p>
<p>It's no phalcon extension, but at least you wouldn't have to use &quot;clean&quot; php</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12698" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12698" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7ffb0f8e96c882de47c169a83d9dfa7f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/889/zyxep" class="user-moderator-N"><span itemprop="name">zyxep</span></a>        </span>
        <br>

        <span class="karma">21.1k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C12698"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/50e9f6dcf8a453b4958e26aeb9a43bbc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        a-weinand                    </a>
                </div><div class="posts-buttons" align="right"><a name="C12701" href="#C12701">
                <time itemprop="dateCreated" datetime="2014-10-30T14:59:11-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks, but i think i would go for something newer than 2007.</p>
<p>I use gmail for this.</p>
<blockquote>
<p>Oh sorry, you're totally right, I didn't pay enough attention.</p>
<p>But maybe this might help^^: <a href="https://www.wynia.org/wordpress/2007/02/alternate-imap-solution-for-php-pear-net_imap">https://www.wynia.org/wordpress/2007/02/alternate-imap-solution-for-php-pear-net_imap</a></p>
<p>It's no phalcon extension, but at least you wouldn't have to use &quot;clean&quot; php</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12701" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12701" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a7ed97bfadc634b405f24f7c565ad095?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1370/stecman" class="user-moderator-N"><span itemprop="name">Stephen Holdaway</span></a>        </span>
        <br>

        <span class="karma">245</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="12702" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '14</span>
              </span><br/><a name="C12702" href="#C12702">
                <time itemprop="dateCreated" datetime="2014-10-30T15:30:53-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>I guess i need to make a script that runs every XX min in cron to check for new emails and add them to the mysql table.</p>
</blockquote>
<p>I'd opt for a daemon over a cron job if you can. Aside from picking up new email quicker (eg. using IMAP IDLE), a dameon avoids the possibility of a large amount of email piling up between 'check email' jobs which would slow down the ingress of email into your database and could lead to cron jobs overlapping in severe cases.</p>
<blockquote>
<p>But does this exist in phalcon or do i need to use [vanilla] php with imap?</p>
</blockquote>
<p>Phalcon doesn't have any built-in IMAP/POP functionality, but a quick search turned up a few PHP libraries like <a href="https://github.com/tedious/Fetch">Fetch</a> that fit your requirements. PHP's IMAP/POP libraries are a bit fidly if you're not familiar with the protocol, so using a library with a nice abstraction will probably help you keep your code maintainable.</p>
<blockquote>
<p>how should it be design architecture wise.</p>
</blockquote>
<p>Here's one possiblity (pretty much reflects what you've said you plan to do). If the system is getting a lot of message traffic, you could push outgoing messages to a queue and have them processed by another daemon in the background, instead of sending emails directly from the front-end.</p>
<p><img src="https://i.imgur.com/tp6AgLa.png" alt="Diagram" /></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12702" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12702" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7ffb0f8e96c882de47c169a83d9dfa7f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/889/zyxep" class="user-moderator-N"><span itemprop="name">zyxep</span></a>        </span>
        <br>

        <span class="karma">21.1k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C12702"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/a7ed97bfadc634b405f24f7c565ad095?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Stephen Holdaway                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="12704" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '14</span>
              </span><br/><a name="C12704" href="#C12704">
                <time itemprop="dateCreated" datetime="2014-10-30T16:01:59-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for good input, i can use that to something.</p>
<p>Can you maybe give some examples for daemons i totally understand that and would 100% use that instead of a cronjob.</p>
<p>And what do you think of these SQL tables i have at the moment.</p>
<pre><code class="language-SQL">CREATE TABLE IF NOT EXISTS `abuse` (
`id` int(11) NOT NULL,
  `pId` int(11) NOT NULL,
  `name` varchar(255) COLLATE utf8_bin NOT NULL,
  `email` varchar(255) COLLATE utf8_bin NOT NULL,
  `message` longtext COLLATE utf8_bin NOT NULL,
  `category` varchar(255) COLLATE utf8_bin DEFAULT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ip` varchar(15) COLLATE utf8_bin NOT NULL,
  `status` varchar(50) COLLATE utf8_bin DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

CREATE TABLE IF NOT EXISTS `abuseCategories` (
`id` int(11) NOT NULL,
  `name` varchar(255) COLLATE utf8_bin NOT NULL
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

INSERT INTO `abuseCategories` (`id`, `name`) VALUES
(1, 'Defekt billede'),
(2, 'Misbrug');

CREATE TABLE IF NOT EXISTS `abuseResponse` (
`id` int(11) NOT NULL,
  `aId` int(11) NOT NULL,
  `pId` int(11) NOT NULL,
  `message` longtext COLLATE utf8_bin NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `username` varchar(50) COLLATE utf8_bin NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

ALTER TABLE `abuse`
 ADD PRIMARY KEY (`id`), ADD KEY `status` (`status`), ADD KEY `category` (`category`), ADD KEY `pId` (`pId`);

ALTER TABLE `abuseCategories`
 ADD PRIMARY KEY (`id`), ADD KEY `name` (`name`);

ALTER TABLE `abuseResponse`
 ADD PRIMARY KEY (`id`), ADD KEY `aId` (`aId`), ADD KEY `pId` (`pId`);

ALTER TABLE `abuse`
MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `abuseCategories`
MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=3;

ALTER TABLE `abuseResponse`
MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `abuse`
ADD CONSTRAINT `abuse_ibfk_1` FOREIGN KEY (`category`) REFERENCES `abuseCategories` (`name`) ON DELETE SET NULL ON UPDATE CASCADE,
ADD CONSTRAINT `abuse_ibfk_2` FOREIGN KEY (`pId`) REFERENCES `pictures` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE,
ADD CONSTRAINT `abuse_ibfk_3` FOREIGN KEY (`status`) REFERENCES `statuses` (`name`) ON DELETE SET NULL ON UPDATE CASCADE;

ALTER TABLE `abuseResponse`
ADD CONSTRAINT `abuseResponse_ibfk_1` FOREIGN KEY (`aId`) REFERENCES `abuse` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE,
ADD CONSTRAINT `abuseResponse_ibfk_2` FOREIGN KEY (`pId`) REFERENCES `pictures` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;</code></pre>
<p>Don't mind my native language as content on categories :)</p>
<blockquote>
<blockquote>
<p>I guess i need to make a script that runs every XX min in cron to check for new emails and add them to the mysql table.</p>
</blockquote>
<p>I'd opt for a daemon over a cron job if you can. Aside from picking up new email quicker (eg. using IMAP IDLE), a dameon avoids the possibility of a large amount of email piling up between 'check email' jobs which would slow down the ingress of email into your database and could lead to cron jobs overlapping in severe cases.</p>
<blockquote>
<p>But does this exist in phalcon or do i need to use [vanilla] php with imap?</p>
</blockquote>
<p>Phalcon doesn't have any built-in IMAP/POP functionality, but a quick search turned up a few PHP libraries like <a href="https://github.com/tedious/Fetch">Fetch</a> that fit your requirements. PHP's IMAP/POP libraries are a bit fidly if you're not familiar with the protocol, so using a library with a nice abstraction will probably help you keep your code maintainable.</p>
<blockquote>
<p>how should it be design architecture wise.</p>
</blockquote>
<p>Here's one possiblity (pretty much reflects what you've said you plan to do). If the system is getting a lot of message traffic, you could push outgoing messages to a queue and have them processed by another daemon in the background, instead of sending emails directly from the front-end.</p>
<p><img src="https://i.imgur.com/tp6AgLa.png" alt="Diagram" /></p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12704" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12704" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a7ed97bfadc634b405f24f7c565ad095?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1370/stecman" class="user-moderator-N"><span itemprop="name">Stephen Holdaway</span></a>        </span>
        <br>

        <span class="karma">245</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="12706" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '14</span>
              </span><br/><a name="C12706" href="#C12706">
                <time itemprop="dateCreated" datetime="2014-10-30T16:34:28-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Can you maybe give some examples for daemons</p>
</blockquote>
<p>Essentially a daemon is just a long running script. You can generally let another program (like Ubuntu's <code>upstart</code> [<a href="https://newcome.wordpress.com/2012/02/26/running-programs-as-linux-daemons-using-upstart/">tutorial</a>]) handle the running in the background part, and just focus on writing a command line program that continues doing its job until you terminate it:</p>
<pre><code class="language-php">&lt;?php

while (true) {
    $newMessages = waitForNewMessages();

    if ($newMessages) {
        processMessages($newMessages);
    }
}</code></pre>
<p>You can use the <a href="https://docs.phalcon.io/en/latest/reference/cli.html">CLI components in Phalcon</a> or something like the <a href="https://symfony.com/doc/current/components/console/introduction.html">Symfony Console component</a> to wrap your program and provide autoloading, option parsing, etc.</p>
<blockquote>
<p>what do you think of these SQL tables i have at the moment</p>
</blockquote>
<p>What you have looks adequete to provide data to the web interface, though you'll probably need to consider a way to build the emails you're sending from the system - particularly the replies to incoming messages as email clients require certain headers to trigger threaded views (ie. count an email as a reply to one the user sent), and there are email conventions that the recipient might expect to see. Have a look at <a href="https://en.wikipedia.org/wiki/Message-ID">email message IDs</a>, or do some research into the details of email replies (there are some useful examples in the <a href="https://tools.ietf.org/html/rfc5322#appendix-A.2">Internet Message Format RFC appendices</a>).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12706" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12706" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e008d7c8aa0c868f618211c399d1e927?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2111/praswicaksono" class="user-moderator-N"><span itemprop="name">Prasetyo</span></a>        </span>
        <br>

        <span class="karma">7.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C12713" href="#C12713">
                <time itemprop="dateCreated" datetime="2014-10-30T23:52:19-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>you can use this library for fetching email <a href="https://github.com/tedious/Fetch">https://github.com/tedious/Fetch</a></p>
<p>and use task runner like <a href="https://github.com/Codegyre/Robo">https://github.com/Codegyre/Robo</a> to manage your background task</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="12713" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="12713" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7ffb0f8e96c882de47c169a83d9dfa7f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/889/zyxep" class="user-moderator-N"><span itemprop="name">zyxep</span></a>        </span>
        <br>

        <span class="karma">21.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13034" href="#C13034">
                <time itemprop="dateCreated" datetime="2014-11-11T15:41:44-07:00" class="action-date">Nov '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for response.</p>
<p>My friend told me a much better way to handle my &quot;problem&quot;.
Instead of having pop/imap to handle it.</p>
<p>Will I just add a reply system so in the email they get there will be a link to the ticket and then they can reply there. :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13034" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13034" data-cf-modified-b8e296a55bafe2303bf61a46-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="3820" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>