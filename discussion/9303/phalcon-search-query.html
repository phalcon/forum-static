---
layout: default
title: 'Phalcon search query - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Phalcon search query</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a></span>
            <time itemprop="dateCreated" datetime="2015-11-04T04:09:58-07:00">Nov '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-11-04T04:09:58-07:00">Nov '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">10</span>
                </td>
                <td>
                    <label>Views</label><br>1178</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a></span>
                <span class="karma">23.6k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C9303" href="#C9303">
        <time class="action-date">Nov '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,</p>
<p>I have to make query that search over 3 tables in my DB. Il make a example:</p>
<p>I get request via URL from my front-end search form something like this:</p>
<p>/cars/search/{condition}/{type}/{location}</p>
<p>DB name:</p>
<ul>
<li>cars</li>
</ul>
<p>DB tables: </p>
<ul>
<li>cars</li>
<li>cars_types</li>
<li>cars_locations</li>
</ul>
<p>Now, if i get request something like this:
<strong>/cars/search/new/BMW/NewYork</strong>
Result is:
Give me all cars wich are in new condition, type is BMW, from location New York.</p>
<p>But, if i get request something like this:
<strong>/cars/search/all/all/NewYork</strong></p>
<p>Results must be:
Give me cars with any conditions, any types from specific location = NewYork.</p>
<p>How to make this &quot;<strong>all</strong>&quot; parameter default (so when i recive all in parameter, that must meen give me all from that table), and what is the best way to retrive this data..</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-4799453e321d39b468231fe6-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-4799453e321d39b468231fe6-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25759" href="#C25759">
                <time itemprop="dateCreated" datetime="2015-11-04T04:49:07-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">if ($param !=='all'){
//add where
}</code></pre>
<p>show us the current code you got</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25759" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25759" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25761" href="#C25761">
                <time itemprop="dateCreated" datetime="2015-11-04T05:22:23-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In my routes.php</p>
<pre><code class="language-php">$router-&gt;addGet("/cars/search/{condition}/{type}/{location}", array(
    'module' =&gt; 'cars',
    'controller' =&gt; 'cars',
    'action' =&gt; 'search',
    ))</code></pre>
<p>in my carsController.php</p>
<pre><code class="language-php">public function searchAction()
    {
        // Get "condition" parameter
        $condition = $this-&gt;dispatcher-&gt;getParam("condition");

        // Get "type" parameter
        $type = $this-&gt;dispatcher-&gt;getParam("type");

        // Get "location" parameter
        $location = $this-&gt;dispatcher-&gt;getParam("location");

//part where query come ... </code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25761" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25761" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25765" href="#C25765">
                <time itemprop="dateCreated" datetime="2015-11-04T05:59:12-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>i still dont see where you assign <code>where</code> params to the sql, or you solved it based on my previous post ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25765" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25765" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c0ce8f5e133750a4dfea4712e533a178?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/15/le51" class="user-moderator-N"><span itemprop="name">le51</span></a>        </span>
        <br>

        <span class="karma">43.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25775" href="#C25775">
                <time itemprop="dateCreated" datetime="2015-11-04T08:30:47-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Why not use simple if/else statement : </p>
<p>if($condition == 'all'){ ....}</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25775" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25775" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25813" href="#C25813">
                <time itemprop="dateCreated" datetime="2015-11-04T23:26:18-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Just use if else and generate proper where string and bind array.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25813" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25813" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25821" href="#C25821">
                <time itemprop="dateCreated" datetime="2015-11-05T01:50:31-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>i made and big sql query where I adding parameters like this... but im holding all this in controller .. I think i should move it to model or processor.</p>
<pre><code class="language-php">// Parameters array
$options = array();

// Adding condition parameter if not all
   if ($condition =='all') {
   } else {
   $sql .= " AND c.condition = :condition:";
   $options['condition'] = $condition;
   }

// Adding type parameter
   if ($type !=='all'){
   $sql .= " AND ct.type = :type:";
   $options['type'] = $type;
   }

// Adding location parameter
   if ($location !=='all'){
   $sql .= " AND cl.location = :location:";
   $options['location'] = $location;
   }</code></pre>
<p>Is it possible to make and ORM way to do this ? since this SQL query is really big ..</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25821" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25821" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25823" href="#C25823">
                <time itemprop="dateCreated" datetime="2015-11-05T02:03:22-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ofc its possible, but it will be same as big :D You can put anywhere you want, im putting it in helper(static function where i pass params and returning array(where and bind)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25823" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25823" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25823"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25827" href="#C25827">
                <time itemprop="dateCreated" datetime="2015-11-05T02:22:21-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Ofc its possible, but it will be same as big :D You can put anywhere you want, im putting it in helper(static function where i pass params and returning array(where and bind)</p>
</blockquote>
<p>Il put it in processor, but I have problems with executing query atm ...  When i var_dump($sql) .. everything works fine, wherever I put &quot;/all/&quot; in my URL ... it removes that parameter from query..
Should i use this and pass my $sql and $options or ?
<a href="https://docs.phalcon.io/en/latest/reference/phql.html#using-raw-sql">https://docs.phalcon.io/en/latest/reference/phql.html#using-raw-sql</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25827" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25827" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25837" href="#C25837">
                <time itemprop="dateCreated" datetime="2015-11-05T03:10:59-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Why you doing raw sql btw ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25837" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25837" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25837"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25841" href="#C25841">
                <time itemprop="dateCreated" datetime="2015-11-05T03:14:55-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Why you doing raw sql btw ?</p>
</blockquote>
<p>I just started with phalcon friend .. do you know bether way to do this whole thing? I cant find any complexed example in ORM Documentation like this one ...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25841" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25841" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25857" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25857" href="#C25857">
                <time itemprop="dateCreated" datetime="2015-11-05T06:00:59-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You can just models find/findFirst static methods or modelsManager ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25857" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25857" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25857"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25865" href="#C25865">
                <time itemprop="dateCreated" datetime="2015-11-05T06:35:24-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>You can just models find/findFirst static methods or modelsManager ?</p>
</blockquote>
<p>Is there any example of that.. I need example of dynamir query-s like mine ... On documentation and ORM, I cant find any complexed query like mine ...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25865" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25865" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25871" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25871" href="#C25871">
                <time itemprop="dateCreated" datetime="2015-11-05T07:11:06-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What you meen by complex query ? I just see normal query where you selecting records where some columns = some values, you can just use:</p>
<p>YourModel::find(array(
'conditions'=&gt;'where query',
'bind'=&gt;bind params
));</p>
<p>If you are searching on foreign keys then its enough.</p>
<p>Or if you want to search in relaed records:</p>
<pre><code class="language-php">$modelsManager-&gt;createBuilder-&gt;
    -&gt;from(array('Cars'=&gt;'Cars Model with Namespace'))
    -&gt;where('where query',bind array)
    -&gt;leftJoin('namespace + model','condition','CarsTypes') # or any other join you want
    -&gt;leftJoin('namespace + model','condition','CarsLocations') # or any other join you want
    -&gt;getQuery()
    -&gt;execute();</code></pre>
<p>$modelsManager is modelsManager which you can get from di.</p>
<p>For me it looking much better.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25871" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25871" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25871"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25883" href="#C25883">
                <time itemprop="dateCreated" datetime="2015-11-05T07:58:33-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>What you meen by complex query ? I just see normal query where you selecting records where some columns = some values, you can just use:</p>
<p>YourModel::find(array(
'conditions'=&gt;'where query',
'bind'=&gt;bind params
));</p>
<p>If you are searching on foreign keys then its enough.</p>
<p>Or if you want to search in relaed records:</p>
<pre><code class="language-php">$modelsManager-&gt;createBuilder-&gt;
  -&gt;from(array('Cars'=&gt;'Cars Model with Namespace'))
  -&gt;where('where query',bind array)
  -&gt;leftJoin('namespace + model','condition','CarsTypes') # or any other join you want
  -&gt;leftJoin('namespace + model','condition','CarsLocations') # or any other join you want
  -&gt;getQuery()
  -&gt;execute();</code></pre>
<p>$modelsManager is modelsManager which you can get from di.</p>
<p>For me it looking much better.</p>
</blockquote>
<p>Yeah friend, but im reciving dynamic parameters... look on my main post.. What will happen when I recive /all/ in parameters ..  he will search in database for it, but what i need is the when he recives parameter /all/ = give me all from that table.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25883" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25883" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25893" href="#C25893">
                <time itemprop="dateCreated" datetime="2015-11-05T10:09:42-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It's not about query is about application logic, just when you have all you don't add this condition.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25893" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25893" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25893"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25897" href="#C25897">
                <time itemprop="dateCreated" datetime="2015-11-05T14:55:52-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>It's not about query is about application logic, just when you have all you don't add this condition.</p>
</blockquote>
<p>Yeah but, how to write that in ORM.. Is there any example of that? Every example that I find in documentation is too simple ..</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25897" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25897" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25903" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25903" href="#C25903">
                <time itemprop="dateCreated" datetime="2015-11-05T16:32:21-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>But ORM is diffrent thing than application logic. You have to write conditions etc. Like above, it has nothing to do with ORM, SQL, QUERYS etc etc. Ofc you can do the same, but its not about Phalcon, Not about ORM, only about SQL. If you can do the same in php better to do in php(in this case at least)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25903" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25903" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C26215" href="#C26215">
                <time itemprop="dateCreated" datetime="2015-11-11T02:49:15-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you, I change some application logic and did it with ORM :D</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="26215" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="26215" data-cf-modified-4799453e321d39b468231fe6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="9303" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>