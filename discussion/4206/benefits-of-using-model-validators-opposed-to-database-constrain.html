---
layout: default
title: 'Benefits of using model validators opposed to database constraints? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Benefits of using model validators opposed to database constraints?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/2338/dirkamiss" class="user-moderator-N"><span itemprop="name">Dustin Maxfield</span></a></span>
            <time itemprop="dateCreated" datetime="2014-12-08T15:15:56-07:00">Dec '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-12-08T15:15:56-07:00">Dec '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>558</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/11ef4d520b57da255d0a5664ced1bb5f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/2338/dirkamiss" class="user-moderator-N"><span itemprop="name">Dustin Maxfield</span></a></span>
                <span class="karma">2.6k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4206" href="#C4206">
        <time class="action-date">Dec '14</time>
    </a>
</div>
<div class="post-content"><div><p>I have a question about model validators.  I'm not sure I see what the benefit is of using the model validators.</p>
<p>For example Phalcon\Mvc\Model\Validator\Uniqueness.  This helps ensure that the data is unique before inserting into the database, right?</p>
<p>But does this provide any extra benefit above and beyond just adding a constraint to the field in the database?  The database is capable of handling this validation via a UNIQUE constraint.  Why does Phalcon need to be aware of these constraints/validations and what extra benefit can it provide?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-47301fba3f634283189d2b44-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-47301fba3f634283189d2b44-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="13994" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '14</span>
              </span><br/><a name="C13994" href="#C13994">
                <time itemprop="dateCreated" datetime="2014-12-08T15:34:29-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In this case, validation woud prevent your database server from being hit.  It may not be an issue for you, bu if you have tons of traffic, or your database is on a separate box than you web server, it could save you some headaches.</p>
<p>Other validations (ie: valid rhone number, email address, etc) can't be done via the database.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13994" data-cf-modified-47301fba3f634283189d2b44-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13994" data-cf-modified-47301fba3f634283189d2b44-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/11ef4d520b57da255d0a5664ced1bb5f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2338/dirkamiss" class="user-moderator-N"><span itemprop="name">Dustin Maxfield</span></a>        </span>
        <br>

        <span class="karma">2.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13999" href="#C13999">
                <time itemprop="dateCreated" datetime="2014-12-08T16:17:45-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks Quasipickle.</p>
<p>That actually makes a lot of sense.  The only thing I could think of was maybe it provided better messages when errors occurred.</p>
<p>I have one follow up question.  What do you feel the benefit is of defining relationships inside the database model.  For example the hasMany(), hasOne(), or belongsTo() methods.  This would suggest that Phalcon is able to determine validity of foreign keys.  Can it do this without hitting the database to determine if that foreign key exists?  Or is there a separate benefit to be had by defining these relationships?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13999" data-cf-modified-47301fba3f634283189d2b44-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13999" data-cf-modified-47301fba3f634283189d2b44-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14007" href="#C14007">
                <time itemprop="dateCreated" datetime="2014-12-08T21:20:55-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Adding hasMany() relationships (for example), really lets you use the ORM to its full potential.  I recommend checking the documentation on relationships - they have lots of relevant examples.  I'm not 100% sure what validation Phalcon does with foreign keys - undoubtedly it would return errors if the database said the keys were invalid.  The only way Phalcon <em>wouldn't</em> touch the database for stuff like this is if you've manually defined the schema for the model's respective table.  It's a pain to do during development, but if DB performance is important, it does cut out quite a few queries.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14007" data-cf-modified-47301fba3f634283189d2b44-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14007" data-cf-modified-47301fba3f634283189d2b44-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4206" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>