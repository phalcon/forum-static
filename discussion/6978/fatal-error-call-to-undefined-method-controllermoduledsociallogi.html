---
layout: default
title: 'Fatal error: Call to undefined method ControllerModuleDSocialLogin::render() - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Fatal error: Call to undefined method ControllerModuleDSocialLogin::render()</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3979/neeraj10786" class="user-moderator-N"><span itemprop="name">Neeraj Sharma</span></a></span>
            <time itemprop="dateCreated" datetime="2015-06-04T02:15:13-07:00">Jun '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-06-04T02:15:13-07:00">Jun '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>2795</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/5509621fe2a0dc8ce798ef3e87666dfd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3979/neeraj10786" class="user-moderator-N"><span itemprop="name">Neeraj Sharma</span></a></span>
                <span class="karma">2.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C6978" href="#C6978">
        <time class="action-date">Jun '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hi
i Have installed DsocialLogin Extenstion. when i am clicking on Module.. showing error</p>
<p>Fatal error: Call to undefined method ControllerModuleDSocialLogin::render() in /home/.../admin/controller/module/d_social_login.php on line 247</p>
<p>Opencart Version 2.0.2.0 i am using</p>
<p><strong>CODE</strong></p>
<pre><code class="language-php">&lt;?php
class ControllerModuleDSocialLogin extends Controller {
    public $route  = 'module/d_social_login';
    public $mbooth = 'mbooth_d_social_login.xml';
    public $module = 'd_social_login';
    private $error = array(); 

    public function index() {  
        /*
        *   Multistore
        */
        if(isset($this-&gt;request-&gt;get['store_id'])){ $store_id = $this-&gt;request-&gt;get['store_id']; }else{  $store_id = 0; }
        $this-&gt;document-&gt;addLink('//fonts.googleapis.com/css?family=PT+Sans:400,700,700italic,400italic&amp;subset=latin,cyrillic-ext,latin-ext,cyrillic', "stylesheet");
        $this-&gt;document-&gt;addStyle('view/stylesheet/shopunity/normalize.css');
        $this-&gt;document-&gt;addStyle('view/javascript/shopunity/uniform/css/uniform.default.css');
        $this-&gt;document-&gt;addStyle('view/stylesheet/shopunity/icons.css');
        $this-&gt;document-&gt;addStyle('view/stylesheet/shopunity/shopunity.css');
        $this-&gt;document-&gt;addStyle('view/javascript/shopunity/colorpicker/jquery.colorpicker.css');
        $this-&gt;document-&gt;addScript('view/javascript/shopunity/uniform/jquery.uniform.min.js');      
        $this-&gt;document-&gt;addScript('view/javascript/shopunity/shopunity.js');
        $this-&gt;document-&gt;addScript('view/javascript/shopunity/tooltip/tooltip.js');
        $this-&gt;document-&gt;addScript('view/javascript/shopunity/colorpicker/jquery.colorpicker.js');

        $this-&gt;language-&gt;load($this-&gt;route);

        $this-&gt;document-&gt;setTitle($this-&gt;language-&gt;get('heading_title_main'));

        $this-&gt;load-&gt;model('setting/setting');

        if (($this-&gt;request-&gt;server['REQUEST_METHOD'] == 'POST') &amp;&amp; $this-&gt;validate()) {

            $this-&gt;model_setting_setting-&gt;editSetting($this-&gt;module, $this-&gt;request-&gt;post, $store_id);

            $this-&gt;session-&gt;data['success'] = $this-&gt;language-&gt;get('text_success');

            $this-&gt;redirect($this-&gt;url-&gt;link('extension/module', 'token=' . $this-&gt;session-&gt;data['token'], 'SSL'));
        }

        $this-&gt;data['version'] = $this-&gt;get_version();
        $this-&gt;data['token'] =  $this-&gt;session-&gt;data['token'];
        $this-&gt;data['route'] = $this-&gt;route;
        $this-&gt;data['module_link'] = $this-&gt;url-&gt;link($this-&gt;route, 'token=' . $this-&gt;session-&gt;data['token'], 'SSL');
        $this-&gt;data['heading_title'] = $this-&gt;language-&gt;get('heading_title_main');

        $this-&gt;data['text_settings'] = $this-&gt;language-&gt;get('text_settings');
        $this-&gt;data['text_instructions'] = $this-&gt;language-&gt;get('text_instructions');
        $this-&gt;data['text_enabled'] = $this-&gt;language-&gt;get('text_enabled');
        $this-&gt;data['text_disabled'] = $this-&gt;language-&gt;get('text_disabled');
        $this-&gt;data['text_module'] = $this-&gt;language-&gt;get('text_module');
        $this-&gt;data['text_no_update'] = $this-&gt;language-&gt;get('text_no_update');
        $this-&gt;data['text_new_update'] = $this-&gt;language-&gt;get('text_new_update');
        $this-&gt;data['text_error_update'] = $this-&gt;language-&gt;get('text_error_update');
        $this-&gt;data['text_error_failed'] = $this-&gt;language-&gt;get('text_error_failed');
        $this-&gt;data['text_version_check'] = sprintf($this-&gt;language-&gt;get('text_version_check'), $this-&gt;data['version']);
        $this-&gt;data['button_save_and_stay'] = $this-&gt;language-&gt;get('button_save_and_stay');
        $this-&gt;data['button_version_check'] = $this-&gt;language-&gt;get('button_version_check');
        $this-&gt;data['text_instructions_full'] = $this-&gt;language-&gt;get('text_instructions_full');

        $this-&gt;data['text_enabled'] = $this-&gt;language-&gt;get('text_enabled');
        $this-&gt;data['text_disabled'] = $this-&gt;language-&gt;get('text_disabled');

        $this-&gt;data['text_icons'] = $this-&gt;language-&gt;get('text_icons');
        $this-&gt;data['text_small'] = $this-&gt;language-&gt;get('text_small');
        $this-&gt;data['text_medium'] = $this-&gt;language-&gt;get('text_medium');       
        $this-&gt;data['text_large'] = $this-&gt;language-&gt;get('text_large');
        $this-&gt;data['text_huge'] = $this-&gt;language-&gt;get('text_huge');

        $this-&gt;data['text_content_top'] = $this-&gt;language-&gt;get('text_content_top');
        $this-&gt;data['text_content_bottom'] = $this-&gt;language-&gt;get('text_content_bottom');       
        $this-&gt;data['text_column_left'] = $this-&gt;language-&gt;get('text_column_left');
        $this-&gt;data['text_column_right'] = $this-&gt;language-&gt;get('text_column_right');

        $this-&gt;data['entry_size'] = $this-&gt;language-&gt;get('entry_size');
        $this-&gt;data['entry_layout'] = $this-&gt;language-&gt;get('entry_layout');
        $this-&gt;data['entry_position'] = $this-&gt;language-&gt;get('entry_position');
        $this-&gt;data['entry_status'] = $this-&gt;language-&gt;get('entry_status');
        $this-&gt;data['entry_sort_order'] = $this-&gt;language-&gt;get('entry_sort_order');

        $this-&gt;data['text_return_url'] = $this-&gt;language-&gt;get('text_return_url');
        $this-&gt;data['text_base_url_index'] = $this-&gt;language-&gt;get('text_base_url_index');
        $this-&gt;data['text_customer_group'] = $this-&gt;language-&gt;get('text_customer_group');
        $this-&gt;data['text_app_scope'] = $this-&gt;language-&gt;get('text_app_scope');

        $this-&gt;data['text_facebook'] = $this-&gt;language-&gt;get('text_facebook');
        $this-&gt;data['text_google'] = $this-&gt;language-&gt;get('text_google');
        $this-&gt;data['text_twitter'] = $this-&gt;language-&gt;get('text_twitter');
        $this-&gt;data['text_live'] = $this-&gt;language-&gt;get('text_live');
        $this-&gt;data['text_linkedin'] = $this-&gt;language-&gt;get('text_linkedin');
        $this-&gt;data['text_vkontakte'] = $this-&gt;language-&gt;get('text_vkontakte');
        $this-&gt;data['text_odnoklassniki'] = $this-&gt;language-&gt;get('text_odnoklassniki');
        $this-&gt;data['text_mailru'] = $this-&gt;language-&gt;get('text_mailru');
        $this-&gt;data['text_yandex'] = $this-&gt;language-&gt;get('text_yandex');
        $this-&gt;data['text_instagram'] = $this-&gt;language-&gt;get('text_instagram');
        $this-&gt;data['text_paypal'] = $this-&gt;language-&gt;get('text_paypal');
        $this-&gt;data['text_vimeo'] = $this-&gt;language-&gt;get('text_vimeo');
        $this-&gt;data['text_tumblr'] = $this-&gt;language-&gt;get('text_tumblr');
        $this-&gt;data['text_yahoo'] = $this-&gt;language-&gt;get('text_yahoo');
        $this-&gt;data['text_foursquare'] = $this-&gt;language-&gt;get('text_foursquare');

        $this-&gt;data['text_background_img'] = $this-&gt;language-&gt;get('text_background_img');
        $this-&gt;data['text_background_color'] = $this-&gt;language-&gt;get('text_background_color');
        $this-&gt;data['text_background_color_active'] = $this-&gt;language-&gt;get('text_background_color_active');

        $this-&gt;data['text_fields_sort_order'] = $this-&gt;language-&gt;get('text_fields_sort_order');
        $this-&gt;data['text_firstname'] = $this-&gt;language-&gt;get('text_firstname');
        $this-&gt;data['text_lastname'] = $this-&gt;language-&gt;get('text_lastname');
        $this-&gt;data['text_phone'] = $this-&gt;language-&gt;get('text_phone');
        $this-&gt;data['text_mask'] = $this-&gt;language-&gt;get('text_mask');
        $this-&gt;data['text_address_1'] = $this-&gt;language-&gt;get('text_address_1');
        $this-&gt;data['text_address_2'] = $this-&gt;language-&gt;get('text_address_2');
        $this-&gt;data['text_city'] = $this-&gt;language-&gt;get('text_city');
        $this-&gt;data['text_postcode'] = $this-&gt;language-&gt;get('text_postcode');
        $this-&gt;data['text_country_id'] = $this-&gt;language-&gt;get('text_country_id');
        $this-&gt;data['text_zone_id'] = $this-&gt;language-&gt;get('text_zone_id');
        $this-&gt;data['text_password'] = $this-&gt;language-&gt;get('text_password');
        $this-&gt;data['text_confirm'] = $this-&gt;language-&gt;get('text_confirm');
        $this-&gt;data['text_company'] = $this-&gt;language-&gt;get('text_company');
        $this-&gt;data['text_company_id'] = $this-&gt;language-&gt;get('text_company_id');
        $this-&gt;data['text_tax_id'] = $this-&gt;language-&gt;get('text_tax_id');

        $this-&gt;data['warning_app_settings'] = $this-&gt;language-&gt;get('warning_app_settings');
        $this-&gt;data['warning_app_settings_full'] = $this-&gt;language-&gt;get('warning_app_settings_full');

        $this-&gt;data['text_app_id'] = $this-&gt;language-&gt;get('text_app_id');
        $this-&gt;data['text_app_secret'] = $this-&gt;language-&gt;get('text_app_secret');
        $this-&gt;data['text_app_key'] = $this-&gt;language-&gt;get('text_app_key');
        $this-&gt;data['text_sort_order'] = $this-&gt;language-&gt;get('text_sort_order');

        $this-&gt;data['text_app_settings'] = $this-&gt;language-&gt;get('text_app_settings');

        $this-&gt;data['text_image_manager'] = $this-&gt;language-&gt;get('text_image_manager');
        $this-&gt;data['text_browse'] = $this-&gt;language-&gt;get('text_browse');
        $this-&gt;data['text_clear'] = $this-&gt;language-&gt;get('text_clear');
        $this-&gt;data['button_save'] = $this-&gt;language-&gt;get('button_save');
        $this-&gt;data['button_cancel'] = $this-&gt;language-&gt;get('button_cancel');
        $this-&gt;data['button_add_module'] = $this-&gt;language-&gt;get('button_add_module');
        $this-&gt;data['button_remove'] = $this-&gt;language-&gt;get('button_remove');

        if (isset($this-&gt;error['warning'])) {
            $this-&gt;data['error_warning'] = $this-&gt;error['warning'];
        } else {
            $this-&gt;data['error_warning'] = '';
        }

        $this-&gt;data['breadcrumbs'] = array();

        $this-&gt;data['breadcrumbs'][] = array(
            'text'      =&gt; $this-&gt;language-&gt;get('text_home'),
            'href'      =&gt; $this-&gt;url-&gt;link('common/home', 'token=' . $this-&gt;session-&gt;data['token'], 'SSL'),            
            'separator' =&gt; false
        );

        $this-&gt;data['breadcrumbs'][] = array(
            'text'      =&gt; $this-&gt;language-&gt;get('text_module'),
            'href'      =&gt; $this-&gt;url-&gt;link('extension/module', 'token=' . $this-&gt;session-&gt;data['token'], 'SSL'),
            'separator' =&gt; ' :: '
        );

        $this-&gt;data['breadcrumbs'][] = array(
            'text'      =&gt; $this-&gt;language-&gt;get('heading_title_main'),
            'href'      =&gt; $this-&gt;url-&gt;link($this-&gt;route, 'token=' . $this-&gt;session-&gt;data['token'] . '&amp;store_id='.$store_id, 'SSL'),
            'separator' =&gt; ' :: '
        );

        $this-&gt;data['action'] = $this-&gt;url-&gt;link($this-&gt;route, 'token=' . $this-&gt;session-&gt;data['token'] . '&amp;store_id='.$store_id, 'SSL');

        $this-&gt;data['cancel'] = $this-&gt;url-&gt;link('extension/module', 'token=' . $this-&gt;session-&gt;data['token'], 'SSL');

        $this-&gt;data['modules'] = array();

        if (isset($this-&gt;request-&gt;post['d_social_login_module'])) {
            $this-&gt;data['modules'] = $this-&gt;request-&gt;post['d_social_login_module'];
        } elseif ($this-&gt;model_setting_setting-&gt;getSetting('d_social_login', $store_id)) { 
            $this-&gt;data['modules'] = $this-&gt;model_setting_setting-&gt;getSetting('d_social_login', $store_id);
            $this-&gt;data['modules'] = (isset($this-&gt;data['modules']['d_social_login_module'])) ? $this-&gt;data['modules']['d_social_login_module'] : array();
        }

        if (isset($this-&gt;request-&gt;post['d_social_login_setting'])) {
            $this-&gt;data['setting'] = $this-&gt;request-&gt;post['d_social_login_settings'];
        } elseif ($this-&gt;model_setting_setting-&gt;getSetting('d_social_login', $store_id)) { 
            $this-&gt;data['setting'] = $this-&gt;model_setting_setting-&gt;getSetting('d_social_login', $store_id);
            $this-&gt;data['setting'] = (isset($this-&gt;data['setting']['d_social_login_settings'])) ? $this-&gt;data['setting']['d_social_login_settings'] : array();
        } else {
            $this-&gt;config-&gt;load($this-&gt;get_light_or_full_version());
            $this-&gt;data['setting'] = $this-&gt;config-&gt;get('d_social_login_settings');
        }

        $this-&gt;config-&gt;load($this-&gt;get_light_or_full_version());
        $config = $this-&gt;config-&gt;get('d_social_login_settings'); 
        $this-&gt;data['setting'] = $this-&gt;array_merge_recursive_distinct($config, $this-&gt;data['setting']);

        $this-&gt;load-&gt;model('tool/image');

        if (isset($this-&gt;request-&gt;post['setting']['background_img'])) {
            $this-&gt;data['background_img'] = $this-&gt;request-&gt;post['setting']['background_img'];
        } else {
            $this-&gt;data['background_img'] = $this-&gt;data['setting']['background_img'];           
        }

        if ($this-&gt;data['setting']['background_img']&amp;&amp; file_exists(DIR_IMAGE . $this-&gt;data['setting']['background_img']) &amp;&amp; is_file(DIR_IMAGE . $this-&gt;data['setting']['background_img'])) {
            $this-&gt;data['background_img_thumb'] = $this-&gt;model_tool_image-&gt;resize($this-&gt;data['setting']['background_img'], 100, 100);      
        } else {
            $this-&gt;data['background_img_thumb'] = $this-&gt;model_tool_image-&gt;resize('no_image.jpg', 100, 100);
        }

        $this-&gt;data['no_image'] = $this-&gt;model_tool_image-&gt;resize('no_image.jpg', 100, 100);

        $this-&gt;data['providers'] = $this-&gt;data['setting']['providers'];
        $this-&gt;data['fields'] = $this-&gt;data['setting']['fields'];
        $this-&gt;data['return_urls'] = array('viewed', 'address', 'home', 'account');

        //Get stores
        $this-&gt;data['store_id'] = $store_id;
        $this-&gt;load-&gt;model('setting/store');
        $results = $this-&gt;model_setting_store-&gt;getStores();
        if($results){
            $this-&gt;data['stores'][] = array('store_id' =&gt; 0, 'name' =&gt; $this-&gt;config-&gt;get('config_name'));
            foreach ($results as $result) {
                $this-&gt;data['stores'][] = array(
                    'store_id' =&gt; $result['store_id'],
                    'name' =&gt; $result['name']

                );
            }   
        }

        $this-&gt;load-&gt;model('design/layout');

        $this-&gt;data['layouts'] = $this-&gt;model_design_layout-&gt;getLayouts();

        $this-&gt;template = $this-&gt;route . '.tpl';
        $this-&gt;children = array(
            'common/header',
            'common/footer'
        );

        $this-&gt;load-&gt;model('sale/customer_group');

        $this-&gt;data['customer_groups'] = $this-&gt;model_sale_customer_group-&gt;getCustomerGroups();

        $this-&gt;response-&gt;setOutput($this-&gt;render());
    }

    protected function validate() {
        if (!$this-&gt;user-&gt;hasPermission('modify', 'module/d_social_login')) {
            $this-&gt;error['warning'] = $this-&gt;language-&gt;get('error_permission');
        }

        $this-&gt;install();

        if (!$this-&gt;error) {
            return true;
        } else {
            return false;
        }   
    }

    public function array_merge_recursive_distinct( array &amp;$array1, array &amp;$array2 )
    {
      $merged = $array1;    
      foreach ( $array2 as $key =&gt; &amp;$value )
          {
            if ( is_array ( $value ) &amp;&amp; isset ( $merged [$key] ) &amp;&amp; is_array ( $merged [$key] ) )
            {
              $merged [$key] = $this-&gt;array_merge_recursive_distinct ( $merged [$key], $value );
            }
            else
            {
              $merged [$key] = $value;
            }
          }

      return $merged;
    }

    public function install() {

        $query = $this-&gt;db-&gt;query("SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '".DB_DATABASE."' AND TABLE_NAME = '" . DB_PREFIX . "customer' ORDER BY ORDINAL_POSITION"); 
        $result = $query-&gt;rows; 
        $columns = array();
        foreach($result as $column){
            $columns[] = $column['COLUMN_NAME'];
        }

        if(!in_array('facebook_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD facebook_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('twitter_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD twitter_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('google_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD google_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('linkedin_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD linkedin_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('vkontakte_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD vkontakte_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('odnoklassniki_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD odnoklassniki_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('live_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD live_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('yandex_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD yandex_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('mailru_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD mailru_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('instagram_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD instagram_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('paypal_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD paypal_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('vimeo_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD vimeo_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('tumblr_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD tumblr_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('yahoo_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD yahoo_id VARCHAR( 255 )  NOT NULL");
        }
        if(!in_array('foursquare_id', $columns)){
             $this-&gt;db-&gt;query("ALTER TABLE " . DB_PREFIX . "customer ADD foursquare_id VARCHAR( 255 )  NOT NULL");
        }

          // $this-&gt;load-&gt;model('setting/setting');
          // $file1 = str_replace("admin", "vqmod/xml", DIR_APPLICATION) . "a_vqmod_quickcheckout.xml_"; $file2 = str_replace("admin", "vqmod/xml", DIR_APPLICATION) . "a_vqmod_quickcheckout.xml";
          // if (file_exists($file1)) rename($file1, $file2);
          $this-&gt;version_check(1);

    }

    public function uninstall() {
          // $this-&gt;load-&gt;model('setting/setting');
          // $file1 = str_replace("admin", "vqmod/xml", DIR_APPLICATION) . "a_vqmod_quickcheckout.xml"; $file2 = str_replace("admin", "vqmod/xml", DIR_APPLICATION) . "a_vqmod_quickcheckout.xml_";
          // if (file_exists($file1)) rename($file1, $file2);
          $this-&gt;version_check(0);

    }

    public function check_shopunity(){
        $file1 = DIR_APPLICATION . "mbooth/xml/mbooth_shopunity_admin.xml"; 
        $file2 = DIR_APPLICATION . "mbooth/xml/mbooth_shopunity_admin_patch.xml"; 
        if (file_exists($file1) || file_exists($file2)) { 
            return true;
        } else {
            return false;
        }
    }

    public function get_light_or_full_version(){
        $full = DIR_SYSTEM . "config/d_social_login_settings.php";
        $light = DIR_SYSTEM . "config/d_social_login_light_settings.php"; 
        if (file_exists($full)) { 
            return 'd_social_login_settings';
        } elseif (file_exists($light)) {
            return 'd_social_login_light_settings';
        }else{
            return false;
        }

    }

    public function get_version(){
        $xml = file_get_contents(DIR_APPLICATION . 'mbooth/xml/' . $this-&gt;mbooth);

        $mbooth = new SimpleXMLElement($xml);

        return $mbooth-&gt;version ;
        }

    public function version_check($status = 1){
        $json = array();
        $mbooth = $this-&gt;mbooth;
        $this-&gt;load-&gt;language($this-&gt;route);
        $str = file_get_contents(DIR_APPLICATION . 'mbooth/xml/' . $this-&gt;mbooth);
        $xml = new SimpleXMLElement($str);

        $current_version = $xml-&gt;version ;

        $customer_url = HTTP_SERVER;
        $query = $this-&gt;db-&gt;query("SELECT * FROM `" . DB_PREFIX . "language` WHERE language_id = " . (int)$this-&gt;config-&gt;get('config_language_id') ); 
        $language_code = $query-&gt;row['code'];
        $ip = $this-&gt;request-&gt;server['REMOTE_ADDR'];

        $check_version_url = 'http://opencart.dreamvention.com/update/index.php?mbooth=' . $mbooth . '&amp;store_url=' . $customer_url . '&amp;module_version=' . $current_version . '&amp;language_code=' . $language_code . '&amp;opencart_version=' . VERSION . '&amp;ip='.$ip . '&amp;status=' .$status ;

        $curl = curl_init();
        curl_setopt($curl, CURLOPT_URL, $check_version_url);
        curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
        $return_data = curl_exec($curl);
        $return_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
        curl_close($curl);

      if ($return_code == 200) {
         $data = simplexml_load_string($return_data);

         if ((string) $data-&gt;version == (string) $current_version || (string) $data-&gt;version &lt;= (string) $current_version) {

           $json['success']   = $this-&gt;language-&gt;get('text_no_update');

         } elseif ((string) $data-&gt;version &gt; (string) $current_version) {

            $json['attention']   = $this-&gt;language-&gt;get('text_new_update');

            foreach($data-&gt;updates-&gt;update as $update){

                if((string) $update-&gt;attributes()-&gt;version &gt; (string)$current_version){
                    $version = (string)$update-&gt;attributes()-&gt;version;
                    $json['update'][$version] = (string) $update[0];
                }
            }
         } else {
            $json['error']   = $this-&gt;language-&gt;get('text_error_update');
         }
      } else { 
         $json['error']   =  $this-&gt;language-&gt;get('text_error_failed');
      }
         $json['asdasd']= 'asdasda';
          if (file_exists(DIR_SYSTEM.'library/json.php')) { 
             $this-&gt;load-&gt;library('json');
             $this-&gt;response-&gt;setOutput(Json::encode($json));
          } else {
             $this-&gt;response-&gt;setOutput(json_encode($json));
          }
    }
}</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-f8fde286b9d8ccbf10e84e26-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-f8fde286b9d8ccbf10e84e26-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19091" href="#C19091">
                <time itemprop="dateCreated" datetime="2015-06-06T08:31:53-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The problem is this: $this-&gt;response-&gt;setOutput($this-&gt;render()); it seems you have to implement that method.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19091" data-cf-modified-f8fde286b9d8ccbf10e84e26-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19091" data-cf-modified-f8fde286b9d8ccbf10e84e26-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="6978" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>