---
layout: default
title: 'executeQuery - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">executeQuery</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a></span>
            <time itemprop="dateCreated" datetime="2014-12-14T19:58:13-07:00">Dec '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-12-14T19:58:13-07:00">Dec '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2291</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a></span>
                <span class="karma">6.6k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4251" href="#C4251">
        <time class="action-date">Dec '14</time>
    </a>
</div>
<div class="post-content"><div><p>I would like the following query to give me the following returned format:</p>
<pre><code class="language-php">$results = $app-&gt;modelsManager-&gt;executeQuery('
SELECT
    Apps.id,
    Members.id
FROM
    Apps,
    Members
WHERE
    Apps.member_id=Members.id
');</code></pre>
<pre><code>[0] ['Apps']['id'] = 1

[0]['Members']['id'] = 2

[1] ['Apps']['id'] = 4

[1] ['Members']['id'] = 32

....

[25]['Apps']['id'] = 7

[25]['Members']['id'] = 14

-----------------------------------------

Right now I am getting back:
</code></pre>
<p>[0] ['id'] = 1</p>
<p>[1] ['id'] = 2</p>
<pre><code>

I understand why this is happening just curious if Phalcon has a way to include table names in the result set.

Thanks in advance.</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-0d39663710c0533c926f9f19-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-0d39663710c0533c926f9f19-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a>        </span>
        <br>

        <span class="karma">6.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="14165" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '14</span>
              </span><br/><a name="C14165" href="#C14165">
                <time itemprop="dateCreated" datetime="2014-12-14T20:45:00-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>UPDATE.</p>
<p>The following code does not work for me.  I took this from the Phalcon documentation.</p>
<pre><code class="language-php">$phql = "SELECT Cars.*, Brands.* FROM Cars, Brands WHERE Brands.id = Cars.brands_id";

$rows = $manager-&gt;executeQuery($phql);

foreach ($rows as $row) {
    echo "Car: ", $row-&gt;cars-&gt;name, "\n";
    echo "Brand: ", $row-&gt;brands-&gt;name, "\n";
}</code></pre>
<p>So in my example I tried:</p>
<pre><code class="language-php">foreach($results as $result) {
    echo $result-&gt;members-&gt;id;
}</code></pre>
<p>I get an empty string.  If I print_r ($result) I get the results but just not in an associative array as I am asking for.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14165" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14165" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a>        </span>
        <br>

        <span class="karma">6.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14166" href="#C14166">
                <time itemprop="dateCreated" datetime="2014-12-14T21:00:02-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>UPDATE #2</p>
<p>I believe this has something to do with Phalcon\Mvc\Model\Resultset.  My query is returning Phalcon\Mvc\Model\Resultset\Simple.  I believe I need Phalcon\Mvc\Model\Resultset\Complex.  Not sure how to force this though.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14166" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14166" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a>        </span>
        <br>

        <span class="karma">6.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14167" href="#C14167">
                <time itemprop="dateCreated" datetime="2014-12-14T21:20:24-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>UPDATE #3</p>
<p>This user reported the same issue:
<a href="http://forum.phalcon.io/discussion/902/how-to-get-model-data-in-resultset">http://forum.phalcon.io/discussion/902/how-to-get-model-data-in-resultset</a>-</p>
<p>Unfortunatley he was not able to solve the problem using executeQuery().</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14167" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14167" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/47ba5ffd6fac6b85b170b3030fe54b3b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1150/garethwi" class="user-moderator-N"><span itemprop="name">Gareth Williams</span></a>        </span>
        <br>

        <span class="karma">15.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14193" href="#C14193">
                <time itemprop="dateCreated" datetime="2014-12-16T02:02:41-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think the problem is that both fields are called 'id' and therefore, the value of one is being overwritten with the value of the other.</p>
<p>Try the following:</p>
<pre><code class="language-php">$results = $app-&gt;modelsManager-&gt;executeQuery('
SELECT
    Apps.id AS apps_id,
    Members.id AS members_id
FROM
    Apps,
    Members
WHERE
    Apps.member_id=Members.id
');</code></pre>
<p>With this, you should at least get two columns.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14193" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14193" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a>        </span>
        <br>

        <span class="karma">6.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14204" href="#C14204">
                <time itemprop="dateCreated" datetime="2014-12-16T07:46:17-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes that would work but I am looking for a solution that would create an associative array from the query that includes the models.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14204" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14204" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/47ba5ffd6fac6b85b170b3030fe54b3b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1150/garethwi" class="user-moderator-N"><span itemprop="name">Gareth Williams</span></a>        </span>
        <br>

        <span class="karma">15.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14288" href="#C14288">
                <time itemprop="dateCreated" datetime="2014-12-19T02:51:57-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What, that includes both an Apps model and a Members model?</p>
<p>I don't think thats possible.</p>
<p>If you want all the properties to be together, it might be better to create a view which comprises both tables, and then create a model to access that view.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14288" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14288" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a>        </span>
        <br>

        <span class="karma">6.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14339" href="#C14339">
                <time itemprop="dateCreated" datetime="2014-12-21T21:22:54-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Gareth that seems like such overkill.  Both CakePHP and CodeIgnitor provide this functionality with the returned data.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14339" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14339" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/47ba5ffd6fac6b85b170b3030fe54b3b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1150/garethwi" class="user-moderator-N"><span itemprop="name">Gareth Williams</span></a>        </span>
        <br>

        <span class="karma">15.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14375" href="#C14375">
                <time itemprop="dateCreated" datetime="2014-12-23T15:26:20-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>can you post a cake or ci example with the results, and then I might understand your problem a bit better.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14375" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14375" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3913b7599518f6aa76ab299bfb1f151e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1688/gkelly1981" class="user-moderator-N"><span itemprop="name">gkelly1981</span></a>        </span>
        <br>

        <span class="karma">6.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14376" href="#C14376">
                <time itemprop="dateCreated" datetime="2014-12-23T17:29:52-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In CakePHP if I execute a query as follows:</p>
<pre><code>$results=$this-&gt;query('SELECT Member.id, Member.username, Article.id, Article.name FROM members Member, articles Article WHERE Member.id=Article.member_id');</code></pre>
<p>When I print r the $results variable cake returns the result sets as follows:</p>
<pre><code>[0]
    [Member]
        [id]=&gt;55
        [username]=&gt;"gkelly"
    [Article]
        [id]=&gt;233
        [name]=&gt;"Why PHP programmers are awesome"
[1]
    [Member]
        [id]=&gt;76
        [username]=&gt;"jramsey"
    [Article]
        [id]=&gt;299
        [name]=&gt;"How to use regular expressions"
[2]
    ...</code></pre>
<p>Now if I were to run the same query in Phalcon I get back the following result set:</p>
<pre><code>[0]
    [id]=&gt;233
    [username]=&gt;"gkelly"
    [name]=&gt;"Why PHP programmers are awesome"
[1]
    [id]=&gt;299
    [username]=&gt;"jramsey"
    [name]=&gt;"How to use regular expressions"
[2]
    ...</code></pre>
<p>Notice how the ID gets overwritten with Phalcon?  I understand that I can simply alias one of the fields to overcome this but in my particular application I do not want to do this.  I would like the result set returned as Cake is doing.  Does Phalcon have a way to accomplish this?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14376" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14376" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/47ba5ffd6fac6b85b170b3030fe54b3b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1150/garethwi" class="user-moderator-N"><span itemprop="name">Gareth Williams</span></a>        </span>
        <br>

        <span class="karma">15.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14416" href="#C14416">
                <time itemprop="dateCreated" datetime="2014-12-29T00:27:55-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Phalcon is just returning what you would get in a normal PHP query, i.e., one id being overwritten with the other in an associative array. If you want some sort of structured relationship between records, you might be better off looking at this:</p>
<p><a href="http://docs.phalcon.io/en/latest/reference/models.html#relationships-between-models">http://docs.phalcon.io/en/latest/reference/models.html#relationships-between-models</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14416" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14416" data-cf-modified-0d39663710c0533c926f9f19-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4251" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>