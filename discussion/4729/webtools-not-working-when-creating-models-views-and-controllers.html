---
layout: default
title: 'webtools not working when creating models, views and controllers - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/25/configuration">Configuration</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">webtools not working when creating models, views and controllers</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3193/mdegayon" class="user-moderator-N"><span itemprop="name">mdegayon</span></a></span>
            <time itemprop="dateCreated" datetime="2015-02-13T02:56:26-07:00">Feb '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-02-13T02:56:26-07:00">Feb '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Mar '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2714</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/632e3661d7a733d3a92f194a143d3c23?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3193/mdegayon" class="user-moderator-N"><span itemprop="name">mdegayon</span></a></span>
                <span class="karma">2.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4729" href="#C4729">
        <time class="action-date">Feb '15</time>
    </a>
</div>
<div class="post-content"><div><p>I'm having some problems while trying to get phalcon webtools working.</p>
<p>When using command line devtools I can create controllers and models without problems.</p>
<p>However, things aren't that easy with the webtools.</p>
<p>It correctly shows already created controllers and models:</p>
<ul>
<li>Controllers (<a href="http://i.imgur.com/IRWPaVJ.png">http://i.imgur.com/IRWPaVJ.png</a>)</li>
<li>Models (<a href="http://i.imgur.com/rIbvbg9.png">http://i.imgur.com/rIbvbg9.png</a>)</li>
</ul>
<p>And I can also edit them (<a href="http://i.imgur.com/orJweLl.png">http://i.imgur.com/orJweLl.png</a>).</p>
<p>Apparently, Db connexion is ok, since webtools shows every table in the DB:</p>
<ul>
<li>Models (<a href="http://i.imgur.com/iOkZfyo.png">http://i.imgur.com/iOkZfyo.png</a>)</li>
<li>Scaffolding (<a href="http://i.imgur.com/5ZLRuq5.png">http://i.imgur.com/5ZLRuq5.png</a>)</li>
</ul>
<p>However, when trying to create a controller from the web interface, I got the next error:</p>
<blockquote>
<p>&quot;Please specify a controller directory&quot;</p>
</blockquote>
<p>Same when trying to create a Model from a database table :</p>
<blockquote>
<p>&quot;Database configuration cannot be loaded from your config file&quot;</p>
</blockquote>
<p>Or when trying to generate scaffold :</p>
<blockquote>
<p>&quot;Adapter was not found in the config. Please specify a config variable [database][adapter]&quot;</p>
</blockquote>
<ul>
<li>
<p>My app/config/config.php content:</p>
<pre><code>return new \Phalcon\Config(array(
'database' =&gt; array(
  'adapter'     =&gt; 'Mysql',
  'host'        =&gt; 'localhost',
  'username'    =&gt; 'phalcon',
  'password'    =&gt; 'phalcon',
  'dbname'      =&gt; 'phalcon',
  'charset'     =&gt; 'utf8',
),
'application' =&gt; array(   
    'controllersDir' =&gt; __DIR__ . '/../../app/controllers/',
    'modelsDir'      =&gt; __DIR__ . '/../../app/models/',
    'viewsDir'       =&gt; __DIR__ . '/../../app/views/',
    'pluginsDir'     =&gt; __DIR__ . '/../../app/plugins/',
    'libraryDir'     =&gt; __DIR__ . '/../../app/library/',
    'cacheDir'       =&gt; __DIR__ . '/../../app/cache/',
    'baseUri'        =&gt; '/phalconTest/',
)</code></pre>
<p>));</p>
</li>
<li>
<p>My public/webtools.config.php content:</p>
<pre><code>define('PTOOLS_IP', '192.168.248.135');
define('PTOOLSPATH', 'C:/phalcon-devtools');</code></pre>
</li>
<li>
<p>My public/webtools.php:</p>
<pre><code>use Phalcon\Web\Tools;
require 'webtools.config.php';
require PTOOLSPATH . '/scripts/Phalcon/Web/Tools.php';

Tools::main(PTOOLSPATH, PTOOLS_IP);</code></pre>
</li>
</ul>
<p>Im running <strong>Phalcon 1.3.4 - Windows x86 for PHP 5.4.0 (VC9)</strong></p>
<p>Thanks in advance</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-a3ee92f77214a05b438a76f4-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-a3ee92f77214a05b438a76f4-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9a998e084495cefe223e97ff0bfe2d8b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3050/7thcubic" class="user-moderator-N"><span itemprop="name">7thcubic</span></a>        </span>
        <br>

        <span class="karma">2.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C15886" href="#C15886">
                <time itemprop="dateCreated" datetime="2015-02-13T07:56:38-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>there is a bug with controller creation in dev tools.</p>
<p>i added a fix for it but it hasnt got pulled, needs someone to verify it =d</p>
<p><a href="https://github.com/7thcubic/phalcon-devtools/tree/controller_directory">https://github.com/7thcubic/phalcon-devtools/tree/controller_directory</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15886" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15886" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/632e3661d7a733d3a92f194a143d3c23?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3193/mdegayon" class="user-moderator-N"><span itemprop="name">mdegayon</span></a>        </span>
        <br>

        <span class="karma">2.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="15887" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '15</span>
              </span><br/><a name="C15887" href="#C15887">
                <time itemprop="dateCreated" datetime="2015-02-13T08:01:44-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks, 7thcubic.</p>
<p>Would that also explain the problems I'm having while trying to create Models ? I'll try your fix and give you some feedback. </p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15887" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15887" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9a998e084495cefe223e97ff0bfe2d8b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3050/7thcubic" class="user-moderator-N"><span itemprop="name">7thcubic</span></a>        </span>
        <br>

        <span class="karma">2.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C15889" href="#C15889">
                <time itemprop="dateCreated" datetime="2015-02-13T09:28:42-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>i believe so, for model its also the config path</p>
<p><a href="https://github.com/7thcubic/phalcon-devtools/blob/4d93e3d5a0c9e0300b25aedf87388db256cecf2e/scripts/Phalcon/Builder/Model.php">https://github.com/7thcubic/phalcon-devtools/blob/4d93e3d5a0c9e0300b25aedf87388db256cecf2e/scripts/Phalcon/Builder/Model.php</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15889" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15889" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/632e3661d7a733d3a92f194a143d3c23?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3193/mdegayon" class="user-moderator-N"><span itemprop="name">mdegayon</span></a>        </span>
        <br>

        <span class="karma">2.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16133" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '15</span>
              </span><br/><a name="C16133" href="#C16133">
                <time itemprop="dateCreated" datetime="2015-02-24T02:01:10-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I tried your fix and it didn't work for me. </p>
<p>Now I even have some php extra errors saying Constant PTOOLS_IP and PTOOLSPATH  are already defined.</p>
<p>Some screenshots showing the error messages :</p>
<ul>
<li><strong>Controllers</strong>: <a href="http://i.imgur.com/obp6xfk.png">http://i.imgur.com/obp6xfk.png</a></li>
<li><strong>Models</strong>: <a href="http://i.imgur.com/QzjmgBQ.png">http://i.imgur.com/QzjmgBQ.png</a></li>
<li><strong>Scaffolding</strong>: <a href="http://i.imgur.com/YuNx3Rw.png">http://i.imgur.com/YuNx3Rw.png</a></li>
</ul>
<p>Any ideas ?</p>
<p>Thanks in advance</p>
<p><strong>Edit</strong>:</p>
<p>I modified scripts/Phalcon/Builder/Component.php adding the next line:</p>
<p>$path = '../' . $path;</p>
<p>And now Controller generation works. But I still can't  get Scaffolding and Model generation working. When trying to create a model I get 'Database configuration cannot be loaded from your config file' and it also show two messages telling that both PTOOLS_IP and PTOOLSPATH are already defined.</p>
<p>And for the scaffolding, now it shows two different new error messages: 'Builder doesn't knows where is the models directory' and 'Undefined index: modelsNamespace in C:\phalcon-devtools\scripts\Phalcon\Builder\Scaffold.php'. It also displays the PTOOLS_IP and PTOOLSPATH  errors.  </p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16133" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16133" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9a998e084495cefe223e97ff0bfe2d8b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3050/7thcubic" class="user-moderator-N"><span itemprop="name">7thcubic</span></a>        </span>
        <br>

        <span class="karma">2.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16144" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '15</span>
              </span><br/><a name="C16144" href="#C16144">
                <time itemprop="dateCreated" datetime="2015-02-24T02:46:11-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>you are using webtools??? man i didnt fix that lol</p>
<p>i think it has something to do with </p>
<p><a href="https://github.com/7thcubic/phalcon-devtools/commit/c8c37de04a50fedc13f9abf6631901c87e835cb0">https://github.com/7thcubic/phalcon-devtools/commit/c8c37de04a50fedc13f9abf6631901c87e835cb0</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16144" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16144" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/42b03d7a23790d1fc922ec21deb8eedb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3434/BonnieDoug" class="user-moderator-N"><span itemprop="name">BonnieDoug</span></a>        </span>
        <br>

        <span class="karma">1.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16446" href="#C16446">
                <time itemprop="dateCreated" datetime="2015-03-09T03:25:32-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Also having this same issue.</p>
<p>Scaffold:</p>
<blockquote>
<p>Notice: Constant PTOOLS_IP already defined in C:\Path-to\public\webtools.config.php on line 30
Notice: Constant PTOOLSPATH already defined in C:\Path-to\public\webtools.config.php on line 39</p>
<p>Adapter was not found in the config. Please specify a config variable [database][adapter]</p>
</blockquote>
<p>Models:</p>
<blockquote>
<p>Notice: Constant PTOOLS_IP already defined in C:\Path-to\public\webtools.config.php on line 30</p>
<p>Notice: Constant PTOOLSPATH already defined in C:\Path-to\webtools.config.php on line 39</p>
<p>Notice: Trying to get property of non-object in C:\Path-to\app\library\vendor\phalcon\devtools\scripts\Phalcon\Builder\AllModels.php on line 61</p>
<p>Notice: Trying to get property of non-object in C:\Path-to\app\library\vendor\phalcon\devtools\scripts\Phalcon\Builder\AllModels.php on line 61</p>
<p>Notice: Trying to get property of non-object in C:\Path-to\app\library\vendor\phalcon\devtools\scripts\Phalcon\Builder\AllModels.php on line 82</p>
<p>Notice: Trying to get property of non-object in C:\Path-to\app\library\vendor\phalcon\devtools\scripts\Phalcon\Builder\AllModels.php on line 82
Adapter is not supported</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16446" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16446" data-cf-modified-a3ee92f77214a05b438a76f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4729" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>