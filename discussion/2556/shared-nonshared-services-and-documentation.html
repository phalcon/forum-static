---
layout: default
title: 'Shared/NonShared services and documentation - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/10/di-ioc">DI/IoC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Shared/NonShared services and documentation</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/1803/nicolapetracchi" class="user-moderator-N"><span itemprop="name">Nicola</span></a></span>
            <time itemprop="dateCreated" datetime="2014-06-13T02:00:27-07:00">Jun '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-06-13T02:00:27-07:00">Jun '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>792</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/1ea86e8daf5452b5370c89a958b69c45?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/1803/nicolapetracchi" class="user-moderator-N"><span itemprop="name">Nicola</span></a></span>
                <span class="karma">7.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2556" href="#C2556">
        <time class="action-date">Jun '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi, I'm new to Phalcon, I'm trying to get a sense about shared/non shared services and what are the best practices when defining services, so, in docs there is this table about &quot;Service Name Conventions&quot; which is pretty self-explanatory and straightforward, on the contrary, in tutorials and answers here in this forum, often for example, DB service is used as non shared as it is otherwise suggested in the service name conventions.
The shared db service it makes sense to me, non shared it could, since these two have a different meaning which one is better? or ... is it a thing related with each project architecture?</p>
<p>Thx</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9a8f805003aa2975cec225bac168ad0d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/633/vlad4800" class="user-moderator-N"><span itemprop="name">vlad4800</span></a>        </span>
        <br>

        <span class="karma">8.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8611" href="#C8611">
                <time itemprop="dateCreated" datetime="2014-06-13T07:08:03-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>From the documentation: <em>&quot;Services can be registered as “shared” services this means that they always will act as singletons. Once the service is resolved for the first time the same instance of it is returned every time a consumer retrieve the service from the container&quot;</em></p>
<p><a href="https://docs.phalcon.io/en/latest/reference/di.html#shared-services">https://docs.phalcon.io/en/latest/reference/di.html#shared-services</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8611" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8611" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e939df2df031203c1118686abce4e624?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1915/garakh" class="user-moderator-N"><span itemprop="name">Iliya Garakh</span></a>        </span>
        <br>

        <span class="karma">754</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C9243" href="#C9243">
                <time itemprop="dateCreated" datetime="2014-07-07T13:36:47-07:00" class="action-date">Jul '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It's completly depend on your application design.
Shared means a singleton — service is created just once and then this instance is used everywhere.
In most of cases you can decide not to care about it and define all service as shared. Sometime it can be very important or just a good optimization, anyway it's better to learn a little more about such things as singleton, service pattern, etc and clearly understand how it works.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="9243" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="9243" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="28313" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '15</span>
              </span><br/><a name="C28313" href="#C28313">
                <time itemprop="dateCreated" datetime="2015-12-26T19:08:27-07:00" class="action-date">Dec '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>How do you pass an arguments to the shared service? </p>
<p>It seems that this is the only working syntax:</p>
<p>Shared service name: bladeRunner</p>
<pre><code class="language-php"> $this-&gt;di-&gt;getBladeRunner([0x0a, 0xff]);</code></pre>
<p>I wanted to avoid refering to DI always and using magic method getSharedService... </p>
<p>so I did it like this:</p>
<pre><code class="language-php">$di-&gt;setShared('bladeRunner', function (){
    class MyOverride extends OriginalClass
    {
        function myCustomOverride($id, $data) {
        //handle data from passed arguments 
        }
    }
    return new MyOverride();
    });
</code></pre>
<p>Finally, call the shared service and pass some data to it, this time with much simpler syntax:</p>
<pre><code class="language-php"> $this-&gt;bladeRunner-&gt;myCustomOverride([0x0a, 0xff]);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28313" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28313" data-cf-modified-a292a5046a7d7b3e4b1d2ded-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2556" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>