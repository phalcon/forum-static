---
layout: default
title: 'Error with ternary operator in Volt Phalcon 4.0.4 - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/3/volt">Volt</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Error with ternary operator in Volt Phalcon 4.0.4</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/12033/ewaldberkers" class="user-moderator-N"><span itemprop="name">Ewald Berkers</span></a></span>
            <time itemprop="dateCreated" datetime="2020-02-18T02:11:33-07:00">Feb '20</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2020-02-18T02:11:33-07:00">Feb '20</time>
                </td>
                <td>
                    <label>Last Reply</label><br>None</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">0</span>
                </td>
                <td>
                    <label>Views</label><br>150</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/503937d06660c7047cb03dec1f8426dc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/12033/ewaldberkers" class="user-moderator-N"><span itemprop="name">Ewald Berkers</span></a></span>
                <span class="karma">2.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C20373" href="#C20373">
        <time class="action-date">Feb '20</time>
    </a>
</div>
<div class="post-content"><div><p>I'm in the process of moving my sites to a new VPS. Everything has been working fine for quite some time on the old VPS, with PHP 7.1 and Phalcon 3.4. While testing on the new VPS, with PHP 7.4.2 and Phalcon 4.0.4, many of the pages on my test website work, but I'm getting this error on the contact page:</p>
<p><em>Exception: Syntax error, unexpected token IDENTIFIER(is) in ../app/views/_library/contact/contact.volt on line 103</em></p>
<p><code>&lt;input type="submit" {% raw %}{{{% endraw %} (lib.button_class is defined ? 'class="' ~ lib.button_class ~ '"' : '') {% raw %}}}{% endraw %} value="{% raw %}{{{% endraw %} page.contact.send {% raw %}}}{% endraw %}"&gt;</code></p>
<p>When I replace 'is' by '==' I get:</p>
<p><em>Exception: Syntax error, unexpected token DEFINED in ../app/views/_library/contact/contact.volt on line 103</em></p>
<p>When I rewrite the code with {% raw %}{%{% endraw %} if {% raw %}%}{% endraw %}, it works, but I'd rather not have to change code with the ternary operator everywhere. From the Upgrade Guide, I understand that this should keep working.</p>
<p>So, this might be a bug in Volt.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-72865af591f491295899654b-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-72865af591f491295899654b-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/503937d06660c7047cb03dec1f8426dc?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/12033/ewaldberkers" class="user-moderator-N"><span itemprop="name">Ewald Berkers</span></a>        </span>
        <br>

        <span class="karma">2.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C62293" href="#C62293">
                <time itemprop="dateCreated" datetime="2020-02-21T07:20:35-07:00" class="action-date">Feb '20</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Opened issue for this at <a href="https://github.com/phalcon/cphalcon/issues/14864">https://github.com/phalcon/cphalcon/issues/14864</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="62293" data-cf-modified-72865af591f491295899654b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="62293" data-cf-modified-72865af591f491295899654b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="20373" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>