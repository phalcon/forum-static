---
layout: default
title: 'Custom model properties are not being set for result set rows when using Model::find() - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Custom model properties are not being set for result set rows when using Model::find()</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a></span>
            <time itemprop="dateCreated" datetime="2015-11-04T13:10:54-07:00">Nov '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-11-04T13:10:54-07:00">Nov '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>1008</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/f5c6ce717e91b110b115c9353611c070?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a></span>
                <span class="karma">15.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C9311" href="#C9311">
        <time class="action-date">Nov '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,
In my app I use custom sql query builder and </p>
<pre><code class="language-php">$result = new MyModel();
$results = new \Phalcon\Mvc\Model\Resultset\Simple(null, $result, $result-&gt;getReadConnection()-&gt;query($sql));</code></pre>
<p>to get results in one case and</p>
<pre><code class="language-php">$results = MyModel::find([ some category parameters])</code></pre>
<p>in another case. Columns are the same in both cases and I use the same partial to display results. I have some constant public properties in Model class declaration.</p>
<pre><code class="language-php">
class MyModel extends BaseModel {
public $property_1="MyProp1";
public $property_2="MyProp2";
....;</code></pre>
<p>In first case I can access my properties from each resultset row ( what I need to display my results  properlly) , in second case I have only database columns-properties and seems like no model instance has been created.
Maybe it's normal behaviour but how do I set my properties and make them accessible in second scenario then?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-53b51b248aa8aea37b02830a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-53b51b248aa8aea37b02830a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25811" href="#C25811">
                <time itemprop="dateCreated" datetime="2015-11-04T23:22:43-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Well if you selecting some columns then its normal behaviour i think. You have to selecing full objects, maybe some things with hydration in ::find to return full objects even when partial ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25811" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25811" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f5c6ce717e91b110b115c9353611c070?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a>        </span>
        <br>

        <span class="karma">15.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25815" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25815" href="#C25815">
                <time itemprop="dateCreated" datetime="2015-11-05T00:22:48-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi, Jurigag.
Thanks for your response.
In first case I also only selecting few columns. I mean if it's normal functioning for resultset shouldn't it be applied for all objects of this class no matter how I've received it?
I've tried to set different hydration modes inside ::find() it doesn't seem to affect anything in resultset.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25815" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25815" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f5c6ce717e91b110b115c9353611c070?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a>        </span>
        <br>

        <span class="karma">15.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25833" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25833" href="#C25833">
                <time itemprop="dateCreated" datetime="2015-11-05T02:39:29-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">var_dump($results-&gt;getFirst());</code></pre>
<p>returns object of MyModel class in first case and stdClass in case of MyModel::find() resultset.</p>
<p>If I change hydration mode it only changes the name of encapsulating class, for instance:</p>
<pre><code class="language-php">$results = MyModel::find(['hydration' =&gt; Resultset::HYDRATE_OBJECTS,
                                        ...other params here...
                                       ]);</code></pre>
<p>change to <code>HYDRATE_ARRAYS</code> changes StdClass to Array with completely same fields.</p>
<pre><code class="language-html">object(stdClass)[146]
  public 'id' =&gt; string '1932' (length=4)
  public 'part_number' =&gt; string '*******' (length=7)
  public 'part_description' =&gt; string 'Blah-blah-blah ...' (length=116)
  ...other columns...</code></pre>
<pre><code class="language-html">array (size=5)
  'id' =&gt; string '1932' (length=4)
  'part_number' =&gt; string '*******' (length=7)
  'part_description' =&gt; string 'Blah-blah-blah ...' (length=116)
  ...other columns...</code></pre>
<p>How can I get down to MyModel objcect from resultset I've got with <code>MyModel::find()</code> without having to select all columns (I have a bunch of them)?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25833" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25833" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25835" href="#C25835">
                <time itemprop="dateCreated" datetime="2015-11-05T03:10:09-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>HYDRATE_RECORDS dont work too ? Then i have no idea, you can select all columns, it doesnt cost so much, maybe try add issue on github cuz it seems like a bug.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25835" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25835" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f5c6ce717e91b110b115c9353611c070?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a>        </span>
        <br>

        <span class="karma">15.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25845" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25845" href="#C25845">
                <time itemprop="dateCreated" datetime="2015-11-05T04:01:13-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yep, and HYDRATE_RECORDS also returns<code>object(Phalcon\Mvc\Model\Row)[139]</code> instead of my model's instance.
I've figured that find() and findFirst() methods return instance of Model class only if I haven't set columns parameter inside these methods.
Not sure if this is a bug, but I think I will try to figure it on github.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25845" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25845" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f5c6ce717e91b110b115c9353611c070?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a>        </span>
        <br>

        <span class="karma">15.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25851" href="#C25851">
                <time itemprop="dateCreated" datetime="2015-11-05T04:30:30-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ok.
That's my first issue on github, hope it's issued correctly.
<a href="https://github.com/phalcon/cphalcon/issues/11096">https://github.com/phalcon/cphalcon/issues/11096</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25851" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25851" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25855" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25855" href="#C25855">
                <time itemprop="dateCreated" datetime="2015-11-05T05:54:40-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No thats a good behaviour cuz it shouldnt return full object, cuz you are not selecting full object and Simple/Row is just simpler objects which you can iterate in loop etc. But it should still return properties of this class.</p>
<p>You can always create new model using -&gt;assign(or constructor) after fetching not full data.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25855" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25855" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f5c6ce717e91b110b115c9353611c070?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3520/SevaJmurov" class="user-moderator-N"><span itemprop="name">Seva Jmurov</span></a>        </span>
        <br>

        <span class="karma">15.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25885" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '15</span>
              </span><br/><a name="C25885" href="#C25885">
                <time itemprop="dateCreated" datetime="2015-11-05T08:00:32-07:00" class="action-date">Nov '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You are righ, incomplete objects are mentioned in docs.
Still I think it would be handy, if I could get public and static properties which I have set for Model from any resultset, maybe even without a need to get down to particular row.</p>
<p>I've replaced model find() with sql query (I had already had custom query builder anyway). But I think assign() will do too.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25885" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25885" data-cf-modified-53b51b248aa8aea37b02830a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="9311" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>