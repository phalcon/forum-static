---
layout: default
title: 'View cache to use only when fault - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/8/cache">Cache</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">View cache to use only when fault</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/8393/spinmar" class="user-moderator-N"><span itemprop="name">spinmar</span></a></span>
            <time itemprop="dateCreated" datetime="2016-10-26T00:39:54-07:00">Oct '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-10-26T00:39:54-07:00">Oct '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>None</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">0</span>
                </td>
                <td>
                    <label>Views</label><br>391</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/2e22ff2e1a2b82db82eba2fda263ea8d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/8393/spinmar" class="user-moderator-N"><span itemprop="name">spinmar</span></a></span>
                <span class="karma">2.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C14601" href="#C14601">
        <time class="action-date">Oct '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,
I have a doubt how to implement a view cache to use only when there is a problem in controller with my backend.
This is the scenario.
The controller makes connection to backend and caches the result (modelscache). Because the view changes based on location of the client I want to cache the view only to serve when connection to backed fails.
So when all is alive I use modelscache to get data and then I apply view to serve the result (based on location of client) but if connection to my backend fails I'd like to serve a copy of view (of couse it could be not right based on client location).
Example:</p>
<pre><code>Client 1 ----&gt;connection backend ok-----&gt; his result view
Client 2 ----&gt;connection backend ok-----&gt; his result view
Client 3 ----&gt;connection backend ok-----&gt; his result view
Client 4 ----&gt;connection backend FAIL -----&gt; I serve the most recent a copy of view between client 1 or 2 or 3</code></pre>
<p>Each client should save the view (suppose key XXX which is always the same) but nobody should use it if all is alive.</p>
<p>Any idea how to do it?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-307cc7acaad259601059df5a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-307cc7acaad259601059df5a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e22ff2e1a2b82db82eba2fda263ea8d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/8393/spinmar" class="user-moderator-N"><span itemprop="name">spinmar</span></a>        </span>
        <br>

        <span class="karma">2.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42267" href="#C42267">
                <time itemprop="dateCreated" datetime="2016-10-27T00:49:45-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK... reading forum I discovered how to do it.</p>
<pre><code>Phalcon\Mvc\View\Simple</code></pre>
<p>Thanks</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42267" data-cf-modified-307cc7acaad259601059df5a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42267" data-cf-modified-307cc7acaad259601059df5a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="14601" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>