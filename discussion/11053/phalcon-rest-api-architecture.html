---
layout: default
title: 'Phalcon REST API Architecture - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Phalcon REST API Architecture</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/4627/Johngtrs" class="user-moderator-N"><span itemprop="name">Jonathan Vandal</span></a></span>
            <time itemprop="dateCreated" datetime="2016-04-05T04:48:23-07:00">Apr '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-04-05T04:48:23-07:00">Apr '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>981</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/4627/Johngtrs" class="user-moderator-N"><span itemprop="name">Jonathan Vandal</span></a></span>
                <span class="karma">41.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C11053" href="#C11053">
        <time class="action-date">Apr '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,</p>
<p>What is the best way to create a REST API with Phalcon ? I have a phalcon application and a phalcon Micro application(who content the <strong>REST web services for android application</strong>). Should I create a Multi module apps like <a href="https://docs.phalcon.io/fr/latest/reference/applications.html">this ?</a>  In this case the web application and the Micro module have the access to the database and it is not necessary to call the web services in the application controller to do a query in database and they have access to the same public folder.</p>
<p>Or should I split the micro module and the applcation ? In this case I have the micro module on a server and the application in another server. Then in my Phalcon controller I have to call the micro module to get the webservices to create / insert / delete into the database because this application doesn't have the database access. And all files created will be on the server  of the micro module.</p>
<p>So... What is the best way ?</p>
<p>Thanks.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-914a6f59e04d12e29c286534-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-914a6f59e04d12e29c286534-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/98fc515e032dfcffbd7c6720001bf151?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5239/oscarmolinadev" class="user-moderator-N"><span itemprop="name">Oscar Molina</span></a>        </span>
        <br>

        <span class="karma">4.1k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="32095" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '16</span>
              </span><br/><a name="C32095" href="#C32095">
                <time itemprop="dateCreated" datetime="2016-04-05T05:23:47-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Create a module for REST API and other for Web Application seems right to me but depends on many factors, server, visits, etc.</p>
<p>For me i prefer multi module (not large application) :</p>
<pre><code>apps
    - REST API
    - Frontend
    - Backend
    - Forum</code></pre>
<p>Phalcon have a powerful Multi Module system, use it.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32095" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32095" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4627/Johngtrs" class="user-moderator-N"><span itemprop="name">Jonathan Vandal</span></a>        </span>
        <br>

        <span class="karma">41.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C32097" href="#C32097">
                <time itemprop="dateCreated" datetime="2016-04-05T05:42:41-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for your answer.</p>
<p>With this architecture can I use the same models for the REST API and Web Application or I must duplicate the models in each models folder ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32097" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32097" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/98fc515e032dfcffbd7c6720001bf151?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5239/oscarmolinadev" class="user-moderator-N"><span itemprop="name">Oscar Molina</span></a>        </span>
        <br>

        <span class="karma">4.1k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C32097"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Jonathan Vandal                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="32099" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '16</span>
              </span><br/><a name="C32099" href="#C32099">
                <time itemprop="dateCreated" datetime="2016-04-05T05:46:55-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You can do this:</p>
<pre><code>apps
    - REST API
    - Frontend
    - Backend
    - Forum
    - Common (Models/Views/Etc)</code></pre>
<p><a href="https://github.com/phalcon/mvc"><a href="https://github.com/phalcon/mvc">https://github.com/phalcon/mvc</a></a> Here have multiple examples.</p>
<p>See <a href="https://github.com/phalcon/mvc/tree/master/multiple-service-layer-model">multiple-service-layer-model</a></p>
<blockquote>
<p>Thanks for your answer.</p>
<p>With this architecture can I use the same models for the REST API and Web Application or I must duplicate the models in each models folder ?</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32099" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32099" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4627/Johngtrs" class="user-moderator-N"><span itemprop="name">Jonathan Vandal</span></a>        </span>
        <br>

        <span class="karma">41.3k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C32099"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/98fc515e032dfcffbd7c6720001bf151?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Oscar Molina                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="32103" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '16</span>
              </span><br/><a name="C32103" href="#C32103">
                <time itemprop="dateCreated" datetime="2016-04-05T06:11:24-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Wow nice, this is very good.</p>
<p>I have a last question about multi apps. How can I access to Frontend and Backend ? For example I have to call this URL : <a href="http://example.com/frontend">http://example.com/frontend</a> ? And <a href="http://example.com/backend">http://example.com/backend</a> for the backend ?</p>
<p>Edit : There is a way to do <a href="http://example.com/">http://example.com/</a> for the frontend and keep the folder architecture ?</p>
<blockquote>
<p>You can do this:</p>
<pre><code>apps
  - REST API
  - Frontend
  - Backend
  - Forum
  - Common (Models/Views/Etc)</code></pre>
<p><a href="https://github.com/phalcon/mvc"><a href="https://github.com/phalcon/mvc">https://github.com/phalcon/mvc</a></a> Here have multiple examples.</p>
<p>See <a href="https://github.com/phalcon/mvc/tree/master/multiple-service-layer-model">multiple-service-layer-model</a></p>
<blockquote>
<p>Thanks for your answer.</p>
<p>With this architecture can I use the same models for the REST API and Web Application or I must duplicate the models in each models folder ?</p>
</blockquote>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32103" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32103" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/98fc515e032dfcffbd7c6720001bf151?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5239/oscarmolinadev" class="user-moderator-N"><span itemprop="name">Oscar Molina</span></a>        </span>
        <br>

        <span class="karma">4.1k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C32103"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Jonathan Vandal                    </a>
                </div><div class="posts-buttons" align="right"><a name="C32105" href="#C32105">
                <time itemprop="dateCreated" datetime="2016-04-05T06:17:05-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code>$di-&gt;set('router', function () {

    $router = new Router();

    $router-&gt;setDefaultModule("frontend");

    $router-&gt;add(
        "/login",
        array(
            'module'     =&gt; 'backend',
            'controller' =&gt; 'login',
            'action'     =&gt; 'index'
        )
    );

    $router-&gt;add(
        "/admin/products/:action",
        array(
            'module'     =&gt; 'backend',
            'controller' =&gt; 'products',
            'action'     =&gt; 1
        )
    );

    $router-&gt;add(
        "/products/:action",
        array(
            'controller' =&gt; 'products',
            'action'     =&gt; 1
        )
    );

    return $router;
});
</code></pre>
<blockquote>
<p>Wow nice, this is very good.</p>
<p>I have a last question about multi apps. How can I access to Frontend and Backend ? For example I have to call this URL : <a href="http://example.com/frontend">http://example.com/frontend</a> ? And <a href="http://example.com/backend">http://example.com/backend</a> for the backend ?</p>
<p>Edit : There is a way to do <a href="http://example.com/">http://example.com/</a> for the frontend and keep the folder architecture ?</p>
<blockquote>
<p>You can do this:</p>
<pre><code>apps
 - REST API
 - Frontend
 - Backend
 - Forum
 - Common (Models/Views/Etc)</code></pre>
<p><a href="https://github.com/phalcon/mvc"><a href="https://github.com/phalcon/mvc">https://github.com/phalcon/mvc</a></a> Here have multiple examples.</p>
<p>See <a href="https://github.com/phalcon/mvc/tree/master/multiple-service-layer-model">multiple-service-layer-model</a></p>
<blockquote>
<p>Thanks for your answer.</p>
<p>With this architecture can I use the same models for the REST API and Web Application or I must duplicate the models in each models folder ?</p>
</blockquote>
</blockquote>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32105" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32105" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4627/Johngtrs" class="user-moderator-N"><span itemprop="name">Jonathan Vandal</span></a>        </span>
        <br>

        <span class="karma">41.3k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C32105"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/98fc515e032dfcffbd7c6720001bf151?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Oscar Molina                    </a>
                </div><div class="posts-buttons" align="right"><a name="C32107" href="#C32107">
                <time itemprop="dateCreated" datetime="2016-04-05T06:21:32-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Great :). Thanks for your help</p>
<blockquote>
<pre><code>$di-&gt;set('router', function () {

   $router = new Router();

   $router-&gt;setDefaultModule("frontend");

   $router-&gt;add(
       "/login",
       array(
           'module'     =&gt; 'backend',
           'controller' =&gt; 'login',
           'action'     =&gt; 'index'
       )
   );

   $router-&gt;add(
       "/admin/products/:action",
       array(
           'module'     =&gt; 'backend',
           'controller' =&gt; 'products',
           'action'     =&gt; 1
       )
   );

   $router-&gt;add(
       "/products/:action",
       array(
           'controller' =&gt; 'products',
           'action'     =&gt; 1
       )
   );

   return $router;
});
</code></pre>
<blockquote>
<p>Wow nice, this is very good.</p>
<p>I have a last question about multi apps. How can I access to Frontend and Backend ? For example I have to call this URL : <a href="http://example.com/frontend">http://example.com/frontend</a> ? And <a href="http://example.com/backend">http://example.com/backend</a> for the backend ?</p>
<p>Edit : There is a way to do <a href="http://example.com/">http://example.com/</a> for the frontend and keep the folder architecture ?</p>
<blockquote>
<p>You can do this:</p>
<pre><code>apps
- REST API
- Frontend
- Backend
- Forum
- Common (Models/Views/Etc)</code></pre>
<p><a href="https://github.com/phalcon/mvc"><a href="https://github.com/phalcon/mvc">https://github.com/phalcon/mvc</a></a> Here have multiple examples.</p>
<p>See <a href="https://github.com/phalcon/mvc/tree/master/multiple-service-layer-model">multiple-service-layer-model</a></p>
<blockquote>
<p>Thanks for your answer.</p>
<p>With this architecture can I use the same models for the REST API and Web Application or I must duplicate the models in each models folder ?</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32107" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32107" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6003c6340c95be89eb57aa50a7cf5beb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4627/Johngtrs" class="user-moderator-N"><span itemprop="name">Jonathan Vandal</span></a>        </span>
        <br>

        <span class="karma">41.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C32143" href="#C32143">
                <time itemprop="dateCreated" datetime="2016-04-06T07:45:24-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hey I noticed something. There is no .htaccess with multi modules ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32143" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32143" data-cf-modified-914a6f59e04d12e29c286534-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="11053" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>