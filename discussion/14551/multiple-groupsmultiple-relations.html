---
layout: default
title: 'Multiple Groups/Multiple relations - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Multiple Groups/Multiple relations</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/7777/MrMEEE" class="user-moderator-N"><span itemprop="name">Martin Juhl</span></a></span>
            <time itemprop="dateCreated" datetime="2016-10-21T02:05:49-07:00">Oct '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-10-21T02:05:49-07:00">Oct '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>375</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/64185150c01b00c296548f8594ecacd8?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/7777/MrMEEE" class="user-moderator-N"><span itemprop="name">Martin Juhl</span></a></span>
                <span class="karma">4.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C14551" href="#C14551">
        <time class="action-date">Oct '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi</p>
<p>I'm trying to figure out how to do the following in the best way:</p>
<ol>
<li>
<p>I have some objects(hostnames) which are created in the database</p>
</li>
<li>I have some other objects(groups) which are created in the database</li>
</ol>
<p>I want the hostnames to be members of one or more groups... How do I do this in my model?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="42059" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '16</span>
              </span><br/><a name="C42059" href="#C42059">
                <time itemprop="dateCreated" datetime="2016-10-21T02:12:31-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You will have to create a third table which holds the relation between the other two. Something like:</p>
<p><code>hostnames_groups_relation</code> example structure:</p>
<table>
<thead>
<tr>
<th>id</th>
<th>hostname_id</th>
<th>group_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>5</td>
</tr>
</tbody>
</table>
<p><a href="https://docs.phalcon.io/en/latest/reference/model-relationships.html">And here you can see how to create the relations between the models.</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42059" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42059" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/64185150c01b00c296548f8594ecacd8?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/7777/MrMEEE" class="user-moderator-N"><span itemprop="name">Martin Juhl</span></a>        </span>
        <br>

        <span class="karma">4.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42063" href="#C42063">
                <time itemprop="dateCreated" datetime="2016-10-21T02:44:54-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hmm... I see..</p>
<p>Could you give a short example on how to add a robot to a part (not in the initializer), or howto add a hostname to a group??</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42063" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42063" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/64185150c01b00c296548f8594ecacd8?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/7777/MrMEEE" class="user-moderator-N"><span itemprop="name">Martin Juhl</span></a>        </span>
        <br>

        <span class="karma">4.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42065" href="#C42065">
                <time itemprop="dateCreated" datetime="2016-10-21T02:53:06-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>So far I have:</p>
<p>Hosts:
&lt;?php</p>
<pre><code>  use Phalcon\Mvc\Model;

  class Hosts extends Model
  {
      public $id;

      public $name;

      public $ip;

      public $status;

      public $proxyid;

      public $port;

      public function initialize()
      {
          $this-&gt;hasMany(
              "id",
              "HostsGroups",
              "hostid"
          );
      }
  }</code></pre>
<p>Groups:
&lt;?php</p>
<pre><code>  use Phalcon\Mvc\Model;

  class Groups extends Model
  {
      public $id;

      public $name;

      public function initialize()
      {
          $this-&gt;hasMany(
              "id",
              "HostsGroups",
              "groupid"
          );
      }

  }</code></pre>
<p>HostsGroups:
&lt;?php</p>
<pre><code>  use Phalcon\Mvc\Model;

  class HostsGroups extends Model
  {
      public $id;

      public $hostid;

      public $groupid;

      public function initialize()
      {
            // Do I need anything here???
      }
  }</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42065" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42065" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="42069" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '16</span>
              </span><br/><a name="C42069" href="#C42069">
                <time itemprop="dateCreated" datetime="2016-10-21T03:09:56-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Keep in mind using hasMany will return instance of HostsGroups, not Hosts or Groups. If you want to return Hosts or Groups you need to use hasManyToMany relation. Yes you need in HostsGroups <code>belgonsTo</code></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42069" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42069" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/64185150c01b00c296548f8594ecacd8?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/7777/MrMEEE" class="user-moderator-N"><span itemprop="name">Martin Juhl</span></a>        </span>
        <br>

        <span class="karma">4.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42077" href="#C42077">
                <time itemprop="dateCreated" datetime="2016-10-21T04:43:35-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hmmm.. so I need a hasManyToMany.. </p>
<p>What should be in the &quot;belongsTo&quot;?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42077" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42077" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42083" href="#C42083">
                <time itemprop="dateCreated" datetime="2016-10-21T05:21:45-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Check docs :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42083" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42083" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42135" href="#C42135">
                <time itemprop="dateCreated" datetime="2016-10-23T22:59:30-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/Wojciech">@Wojciech</a> i guess that's thje answer to almost every question on the forum :)))))</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42135" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42135" data-cf-modified-b4e3f6bd183a1456ddf1036b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="14551" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>