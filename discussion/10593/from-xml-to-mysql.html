---
layout: default
title: 'From XML to MySQL - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">From XML to MySQL</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a></span>
            <time itemprop="dateCreated" datetime="2016-02-25T16:01:27-07:00">Feb '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-02-25T16:01:27-07:00">Feb '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Feb '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>835</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a></span>
                <span class="karma">23.6k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C10593" href="#C10593">
        <time class="action-date">Feb '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,</p>
<p>I have one external API which output some data in XML for me. I have to handle the data and save in my MySQL databse (It will be saved in different tables, I have allready created ORM and create connections/relationships  between models). What is the best way to do that?</p>
<p>Thanks</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-38591cf11261d10ce99760e7-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-38591cf11261d10ce99760e7-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a>        </span>
        <br>

        <span class="karma">9.3k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30285" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '16</span>
              </span><br/><a name="C30285" href="#C30285">
                <time itemprop="dateCreated" datetime="2016-02-26T00:48:27-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Load XML via <a href="http://php.net/manual/en/book.simplexml.php">http://php.net/manual/en/book.simplexml.php</a> create models and fill data from SimpleXML elements, save and profit :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30285" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30285" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30337" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '16</span>
              </span><br/><a name="C30337" href="#C30337">
                <time itemprop="dateCreated" datetime="2016-02-27T16:45:41-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ok, I have loaded my XML file with Php simpleXML but i have next situation ... My XML file looks like this:</p>
<pre><code>&lt;xml&gt;
    &lt;status&gt;1&lt;/status&gt;
    &lt;market&gt;
      &lt;shop&gt;
          &lt;url&gt;https://some.api.link.with.products.of.shop.com/file_with_products.xml&lt;/url&gt;
          &lt;shopId&gt;1&lt;/shopId&gt;
          &lt;name&gt;First shop&lt;/name&gt;
      &lt;/shop&gt;
      &lt;shop&gt;
          &lt;url&gt;https://some.api.link.with.products.of.shop.com/file_with_products.xml&lt;/url&gt;
          &lt;shopId&gt;2&lt;/shopId&gt;
          &lt;name&gt;Second shop&lt;/name&gt;
      &lt;/shop&gt;
    &lt;/market&gt;
&lt;/xml&gt;</code></pre>
<p>Im accessing this XML data like a objects :</p>
<pre><code class="language-php">foreach($xml-&gt;market-&gt;shop as $shop)
    {
        echo $shop-&gt;url;
        echo $shop-&gt;storeId;
        echo $shop-&gt;name;
    }</code></pre>
<p>Is there a way to access data from this url links (which is also an XML file with products list of that shop) ? So every shop have url link with XML file of his products. I have to get all data and store in MySQL databse (all data means shops data from main XML file and data from url links which are product list of that shop).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30337" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30337" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a>        </span>
        <br>

        <span class="karma">9.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C30361" href="#C30361">
                <time itemprop="dateCreated" datetime="2016-02-29T02:33:10-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sure, but you have to download target XML. Use code like this</p>
<pre><code>$context  = stream_context_create(array('http' =&gt; array('header' =&gt; 'Accept: application/xml')));
$content = file_get_contents($shop-&gt;url, false, $context);
$xml = simplexml_load_string($content);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30361" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30361" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a>        </span>
        <br>

        <span class="karma">9.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C30367" href="#C30367">
                <time itemprop="dateCreated" datetime="2016-02-29T04:00:30-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Or you can use <a href="http://php.net/manual/en/function.simplexml-load-file.php">http://php.net/manual/en/function.simplexml-load-file.php</a> directly, it will accept URL.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30367" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30367" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C30367"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        David Hübner                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30387" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '16</span>
              </span><br/><a name="C30387" href="#C30387">
                <time itemprop="dateCreated" datetime="2016-02-29T08:20:42-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Or you can use <a href="http://php.net/manual/en/function.simplexml-load-file.php">http://php.net/manual/en/function.simplexml-load-file.php</a> directly, it will accept URL.</p>
</blockquote>
<p>Im using it but the problem is when im trying to load XML file from any URL I have this error :</p>
<pre><code>Warning: simplexml_load_file(): php_network_getaddresses: getaddrinfo failed: No address associated with hostname in /var/www/html/myproject.local/test1.php on line 4

Warning: simplexml_load_file(https://link_from_my_xml_file.xml): failed to open stream: php_network_getaddresses: getaddrinfo failed: No address associated with hostname in /var/www/html/myproject.local/test1.php on line 4

Warning: simplexml_load_file(): I/O warning : failed to load external entity "https://link_from_my_xml_file.xml" in /var/www/html/myproject.local/test1.php on line 4</code></pre>
<p>Im testing it on simple script :</p>
<pre><code class="language-php">&lt;?php

$url = "https://link_from_my_xml_file.xmll"; 
$xml = simplexml_load_file($url);
echo $xml;

?&gt;</code></pre>
<p>When I load XML file from my local machine it works fine ...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30387" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30387" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David Hübner</span></a>        </span>
        <br>

        <span class="karma">9.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30389" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '16</span>
              </span><br/><a name="C30389" href="#C30389">
                <time itemprop="dateCreated" datetime="2016-02-29T08:25:41-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You have something missconfigured on the server then</p>
<p><a href="http://stackoverflow.com/questions/6275535/php-error-php-network-getaddresses-getaddrinfo-failed-while-getting-informat">http://stackoverflow.com/questions/6275535/php-error-php-network-getaddresses-getaddrinfo-failed-while-getting-informat</a>
<a href="http://stackoverflow.com/questions/8210099/php-php-network-getaddresses-getaddrinfo-failed-no-such-host-is-known">http://stackoverflow.com/questions/8210099/php-php-network-getaddresses-getaddrinfo-failed-no-such-host-is-known</a></p>
<p>also check your php.ini if you have</p>
<pre><code>allow_url_fopen = "On"</code></pre>
<p>otherwise it will not work</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30389" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30389" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/36486f00c3c06cab85a0e41cb2377d37?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5077/RealLinuX" class="user-moderator-N"><span itemprop="name">Armin</span></a>        </span>
        <br>

        <span class="karma">23.6k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C30389"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        David Hübner                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30539" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '16</span>
              </span><br/><a name="C30539" href="#C30539">
                <time itemprop="dateCreated" datetime="2016-03-04T01:16:11-07:00" class="action-date">Mar '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>You have something missconfigured on the server then</p>
<p><a href="http://stackoverflow.com/questions/6275535/php-error-php-network-getaddresses-getaddrinfo-failed-while-getting-informat">http://stackoverflow.com/questions/6275535/php-error-php-network-getaddresses-getaddrinfo-failed-while-getting-informat</a>
<a href="http://stackoverflow.com/questions/8210099/php-php-network-getaddresses-getaddrinfo-failed-no-such-host-is-known">http://stackoverflow.com/questions/8210099/php-php-network-getaddresses-getaddrinfo-failed-no-such-host-is-known</a></p>
<p>also check your php.ini if you have</p>
<pre><code>allow_url_fopen = "On"</code></pre>
<p>otherwise it will not work</p>
</blockquote>
<p>The problem was caused by Vagrant. Im using a developmnet statck (Ubuntu VBox), and that caused some issue with &quot;hosts&quot;. Everything works fine, thx for help.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30539" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30539" data-cf-modified-38591cf11261d10ce99760e7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="10593" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>