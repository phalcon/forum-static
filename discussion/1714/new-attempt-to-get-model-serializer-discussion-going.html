---
layout: default
title: 'New attempt to get Model Serializer discussion going - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">New attempt to get Model Serializer discussion going</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/334/temuri416" class="user-moderator-N"><span itemprop="name">temuri416</span></a></span>
            <time itemprop="dateCreated" datetime="2014-03-05T12:50:33-07:00">Mar '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-03-05T12:50:33-07:00">Mar '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Sep '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">5</span>
                </td>
                <td>
                    <label>Views</label><br>779</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/1c5a05d695b9e910398795de90197829?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/334/temuri416" class="user-moderator-N"><span itemprop="name">temuri416</span></a></span>
                <span class="karma">51.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1714" href="#C1714">
        <time class="action-date">Mar '14</time>
    </a>
</div>
<div class="post-content"><div><p>Guys,</p>
<p>In my VERY HUMBLE opinion, the way Phalcon serializes models should change.</p>
<p>Currently, only columns that map to physical database table fields are auto-serialized. This presents a huge problem for Caching algorithms that rely on model serialization. Essentially, once pulled back from the backend storage, your model will miss fields that are set in Model's post-fetch routine.</p>
<p>I propose that Phalcon serializes all properties defined in a model class that's inheriting from Phalcon\Mvc\Model.</p>
<p>More info:
<a href="https://github.com/phalcon/cphalcon/issues/1285">https://github.com/phalcon/cphalcon/issues/1285</a>
<a href="https://stackoverflow.com/questions/18984972/phalcon-mvc-model-serialization-object-properties-are-lost">https://stackoverflow.com/questions/18984972/phalcon-mvc-model-serialization-object-properties-are-lost</a></p>
<p>Thoughts?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3b49b36c324fd1846c6cf6aa7564e7bd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1186/dezwald" class="user-moderator-N"><span itemprop="name">dezwald</span></a>        </span>
        <br>

        <span class="karma">60</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C5897" href="#C5897">
                <time itemprop="dateCreated" datetime="2014-03-05T12:55:58-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I agree! I deal with simular issues.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5897" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5897" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C5920" href="#C5920">
                <time itemprop="dateCreated" datetime="2014-03-06T00:05:05-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Maybe add dummy field ( for eg ____cached ) to your table schema, and use this field for caching. This way it will be serialized, and you know that it is dummy field for something :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5920" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5920" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1c5a05d695b9e910398795de90197829?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/334/temuri416" class="user-moderator-N"><span itemprop="name">temuri416</span></a>        </span>
        <br>

        <span class="karma">51.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C5948" href="#C5948">
                <time itemprop="dateCreated" datetime="2014-03-06T06:52:29-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>There is no shortage of tricks, that's for certain. However, fixing the root cause makes it easier for everyone...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5948" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5948" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="5949" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '14</span>
              </span><br/><a name="C5949" href="#C5949">
                <time itemprop="dateCreated" datetime="2014-03-06T06:59:04-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It make sense because if this virtual columns could be defined in every methods in model it sould be traced on every request?
Better way is as i wrote, make any field in table, with any prefix you know for what you use it, describe it in database with comments and it will be clean.
I think that it is better clean solutions than an overloaded framework.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5949" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5949" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1c5a05d695b9e910398795de90197829?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/334/temuri416" class="user-moderator-N"><span itemprop="name">temuri416</span></a>        </span>
        <br>

        <span class="karma">51.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="5952" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '14</span>
              </span><br/><a name="C5952" href="#C5952">
                <time itemprop="dateCreated" datetime="2014-03-06T07:42:11-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi Karol,</p>
<p>Can you explain in simple words why do you think that maintaining an extra column in every model table is cleaner than serializing all model columns?</p>
<blockquote>
<p>than an overloaded framework.</p>
</blockquote>
<p>What do you mean by that?</p>
<p>Thanks!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5952" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5952" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C5955" href="#C5955">
                <time itemprop="dateCreated" datetime="2014-03-06T09:27:07-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Temuri, i had the same problem, dependent on state of one field had to fill field which i want to serialize and find out that it is the best solution i could find that time. You, your team, database designer etc will know that this field exist, is for something (table field comments), without going to definition of your model. </p>
<p>I saw your issue <a href="https://github.com/phalcon/cphalcon/issues/1285">https://github.com/phalcon/cphalcon/issues/1285</a> and understand that you suppose that if you define variable at model it should be treated as field, but when you want to save(), update() etc there are no field in DB.</p>
<p>Look at my post more than half a year <a href="https://forum.phalcon.io/discussion/498/afterfetch">https://forum.phalcon.io/discussion/498/afterfetch</a>-</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5955" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5955" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bbbf4d0121136c24de23e50f9b214eeb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3379/code100" class="user-moderator-N"><span itemprop="name">code100</span></a>        </span>
        <br>

        <span class="karma">15.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C23293" href="#C23293">
                <time itemprop="dateCreated" datetime="2015-09-14T05:37:59-07:00" class="action-date">Sep '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Is there any good solution for this problem now, I am having the same issue with adding few vitual columns in afterFetch() and I am not able to cache the data.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="23293" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="23293" data-cf-modified-9efa2bd701e29d3c73a8ebc6-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1714" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>