---
layout: default
title: 'How call method of Model from another Module / Как использовать модель другого модуля? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How call method of Model from another Module / Как использовать модель другого модуля?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/2018/chuikoffru" class="user-moderator-N"><span itemprop="name">Konstantin</span></a></span>
            <time itemprop="dateCreated" datetime="2014-08-31T23:19:16-07:00">Aug '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-08-31T23:19:16-07:00">Aug '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Sep '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1785</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/dacd82b6ce081b782ec3acbd729e89ab?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/2018/chuikoffru" class="user-moderator-N"><span itemprop="name">Konstantin</span></a></span>
                <span class="karma">6.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C3312" href="#C3312">
        <time class="action-date">Aug '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi, I have models/Users.php in Module - auth.
I want to call method
new Users -&gt; getUser()
in Module - profile</p>
<p>How can I do?</p>
<p>P.S.</p>
<p>/modules/auth/models/Users.php</p>
<pre><code>public function getUser($username)
    {
        $user = Users::findFirst("id = '44'");
        return $user;
    }</code></pre>
<p>/modules/profile/Module.php</p>
<pre><code>
$loader-&gt;registerNamespaces(array(
            'Auth\Models' =&gt; __DIR__ . '/../auth/models/'
        ));
</code></pre>
<p>/modules/profile/controller/indexController.php</p>
<pre><code>$profile = new \Auth\Models\Users();
$profile-&gt;getUser($username);
//This return all fields, but it with value = null
</code></pre>
<p>But, if i write in modules/profile/indexController:</p>
<pre><code>Users::findFirst("id = '44'"));
//Return all fields with correct data
</code></pre>
<p>Help me please :) I want to call model from another Module.</p>
<p>Sorry for my English :)</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dacd82b6ce081b782ec3acbd729e89ab?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2018/chuikoffru" class="user-moderator-N"><span itemprop="name">Konstantin</span></a>        </span>
        <br>

        <span class="karma">6.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C10864" href="#C10864">
                <time itemprop="dateCreated" datetime="2014-08-31T23:29:11-07:00" class="action-date">Aug '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>How can I use PHQL in Models?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10864" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10864" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c9d418a459eafcf648bd5ce64e0949c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1895/michalcharvat" class="user-moderator-N"><span itemprop="name">michalcharvat</span></a>        </span>
        <br>

        <span class="karma">10.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C10870" href="#C10870">
                <time itemprop="dateCreated" datetime="2014-09-01T03:52:00-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What I do is very simple. Just register new namespace for models you need use inside your module:</p>
<pre><code>$loader-&gt;registerNamespaces(array(
    __NAMESPACE__ . '\\Controllers' =&gt; __DIR__ . '/controllers/',
    __NAMESPACE__ . '\\Models' =&gt; __DIR__ . '/models/',
    //users
    'App\Users\Models' =&gt; dirname(__DIR__) . '/users/models/'
));</code></pre>
<p>But do you have really strong reason do that? Cant you just use relation between models?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10870" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10870" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dacd82b6ce081b782ec3acbd729e89ab?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2018/chuikoffru" class="user-moderator-N"><span itemprop="name">Konstantin</span></a>        </span>
        <br>

        <span class="karma">6.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="10890" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '14</span>
              </span><br/><a name="C10890" href="#C10890">
                <time itemprop="dateCreated" datetime="2014-09-01T17:49:01-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks, it is work, use</p>
<pre><code>Users::getUser($username);</code></pre>
<p>No, i am not use relation. I have two modules working with one a database table.</p>
<pre><code class="language-php">$profile = new \Auth\Models\Users();
$profile-&gt;getUser($username);
**//This return all fields, but it with value = null**</code></pre>
<p>I think that this is bug, because:</p>
<pre><code class="language-php">Users::getUser($username)</code></pre>
<p>working! But maybe I'm wrong.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10890" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10890" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c9d418a459eafcf648bd5ce64e0949c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1895/michalcharvat" class="user-moderator-N"><span itemprop="name">michalcharvat</span></a>        </span>
        <br>

        <span class="karma">10.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C10899" href="#C10899">
                <time itemprop="dateCreated" datetime="2014-09-02T03:30:19-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Well tell you truth Im not sure what are you doing or whats inside of your models. Especially you didnt describe your function getUser (because you said you dont use relation between models) so perhaps problem is inside your function. How do you get user by username? Something like:</p>
<pre><code>Users::findFirst(array(
    'conditions' =&gt; 'username = ?1',
    'bind' =&gt; array(1 =&gt; $username)
));</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10899" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10899" data-cf-modified-7b550f08a3c2d283c17cd9fe-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="3312" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>