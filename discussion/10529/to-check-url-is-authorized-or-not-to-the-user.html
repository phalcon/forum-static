---
layout: default
title: 'To Check URL is authorized or not to the user - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/17/acl">Acl</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">To Check URL is authorized or not to the user</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/6267/amarkantk14" class="user-moderator-N"><span itemprop="name">Amarkant Kumar</span></a></span>
            <time itemprop="dateCreated" datetime="2016-02-20T03:52:14-07:00">Feb '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-02-20T03:52:14-07:00">Feb '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Feb '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>893</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/6330de7102b92035daeb1ea2804c38e4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/6267/amarkantk14" class="user-moderator-N"><span itemprop="name">Amarkant Kumar</span></a></span>
                <span class="karma">2.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C10529" href="#C10529">
        <time class="action-date">Feb '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi, I am new in Phalcon Framework.
I am trying to prevent url from those user are not authorized to access.</p>
<p>Example :
We have 3 type of user </p>
<ol>
<li>Admin , 2. Manager 3. Guest</li>
</ol>
<p>Admin Can access : can delete all type of user but Manager can do only Guest type user but not type of manager</p>
<p>before that i also want to know which type of user is logged in in system .</p>
<p>Can you help me out !</p>
<p>Thanking You.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-61d457ecafeab6c5c453593c-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-61d457ecafeab6c5c453593c-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d949595d3b8407de247b85bc7c024d46?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3850/ch3k1" class="user-moderator-N"><span itemprop="name">Aleksandre Vardanidze</span></a>        </span>
        <br>

        <span class="karma">13.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30121" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '16</span>
              </span><br/><a name="C30121" href="#C30121">
                <time itemprop="dateCreated" datetime="2016-02-20T04:38:37-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">    private function _registerSession(Users $user)

    {
        $this-&gt;session-&gt;set('auth', array(
            'role' =&gt; $user-&gt;role
        ));
    }</code></pre>
<pre><code class="language-php"> $userInfo = $this-&gt;session-&gt;get("auth");

                     if(!$userInfo) {

          $data  = [

                  "users" =&gt; ["status" =&gt; 0,  "error" =&gt; ["type" =&gt; "session"]]];

                   //echo json_encode($data);

                   $this-&gt;response-&gt;redirect("login");

          } 

          if($userInfo['role'] == 'admin') { 

                 //logic
          } elseif($userInfo['role'] == 'Manager') {

                //logic
          } else {

                //Guest logic 
          }</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30121" data-cf-modified-61d457ecafeab6c5c453593c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30121" data-cf-modified-61d457ecafeab6c5c453593c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a303b625f8d3aa02e7b69d28a13870e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3945/christianallred" class="user-moderator-N"><span itemprop="name">Christian Allred</span></a>        </span>
        <br>

        <span class="karma">18.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C30181" href="#C30181">
                <time itemprop="dateCreated" datetime="2016-02-22T17:43:36-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>There are really a lot of components that you have requested in this question so i am going to direct you to the demo app that shows all fo these functions. </p>
<p>The Vokuro sample app from phalcon will show you a lot of the functionality you are looking for. </p>
<p><a href="https://github.com/phalcon/vokuro">https://github.com/phalcon/vokuro</a></p>
<p>It uses an Auth library for authorizing users. Each user has a Porfile with their own personal settings profiles (ACL). </p>
<p>then run everything through a base controller. First see if they have access to the controller. </p>
<p>then once they make it through that you can set up your other settings. the example above shows this last step for hte most part.</p>
<p>The phalcon ACL (Access Controll Layer) to control whether or not a user can do things. </p>
<p>You can use the ACL for more than just controller controll as they do in the demo app. You can set an arbitrary number of permissions on each controller.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30181" data-cf-modified-61d457ecafeab6c5c453593c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30181" data-cf-modified-61d457ecafeab6c5c453593c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Åšlawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="30317" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '16</span>
              </span><br/><a name="C30317" href="#C30317">
                <time itemprop="dateCreated" datetime="2016-02-26T16:32:40-07:00" class="action-date">Feb '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In phalcon 2.1.x i added some functionallity to ACL, to extend it with custom logic, you can add some functions which will return true/false when checking isAllowed method. Also it can operate now on objects. Check 2.1.x branch. If you need documentation you can also check docs repo in master branch on phalcon cuz i wrote about it too.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="30317" data-cf-modified-61d457ecafeab6c5c453593c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="30317" data-cf-modified-61d457ecafeab6c5c453593c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="10529" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>