---
layout: default
title: 'Models without simple database persistency - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Models without simple database persistency</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/7755/ChrisTonks" class="user-moderator-N"><span itemprop="name">ChrisTonks</span></a></span>
            <time itemprop="dateCreated" datetime="2016-07-19T04:50:40-07:00">Jul '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-07-19T04:50:40-07:00">Jul '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>447</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/5a9c1077340da7d911cde870185583c4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/7755/ChrisTonks" class="user-moderator-N"><span itemprop="name">ChrisTonks</span></a></span>
                <span class="karma">529</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C12131" href="#C12131">
        <time class="action-date">Jul '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,</p>
<p>I'm about to start work on a project that uses some complex models. The storage of the entities to which these models map is rather odd:</p>
<ul>
<li>their full details span tables across several databases;</li>
<li>reading their details is a combination of reading from these databases plus querying an external service;</li>
<li>updates to them do not occur through the database at all but through an external service.</li>
</ul>
<p>The external service is a server (or several) with which I exchange UDP messages.</p>
<p>These are hard constraints that are out of my control so I have to work with them. The obvious solution is to just have a class for each entity and write getters and setters that interact with the databases and external service like I need them to. But from everything I've read that sounds like it goes against the ethos of Phalcon's models and their ties to ORM. Can Phalcon support models with such a strange persistency layer?</p>
<p>I'm new to Phalcon, MVC and ORMs, so perhaps I'm asking a silly question. I couldn't find anything on this forum or elsewhere however.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="36907" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '16</span>
              </span><br/><a name="C36907" href="#C36907">
                <time itemprop="dateCreated" datetime="2016-07-19T05:26:12-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I would strongly suggest you to avoid ORM in that use case. Not Phalcon's but any ORM out there.
Built your own set of classes / API to interact with those abstract API's.
UDP messages?! When I worked with a mainframe environment at least we have used UNIX sockets and TCP/IP sockets, never UDP.</p>
<p>Then, take some time to learn Phalcon's components in general, as you declared yourself w/o prior expirience.</p>
<p>If you have some specific question for such diverse environment, post here and I'll try to pair up with my expirience in that matter to advise etc.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36907" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36907" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5a9c1077340da7d911cde870185583c4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/7755/ChrisTonks" class="user-moderator-N"><span itemprop="name">ChrisTonks</span></a>        </span>
        <br>

        <span class="karma">529</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36941" href="#C36941">
                <time itemprop="dateCreated" datetime="2016-07-20T02:33:01-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi, thanks for the quick response!</p>
<p>I'm slowly getting into Phalcon, having taken a short course and followed the tutorial. Now making my way through the documentation, which seems to be the only way to learn it really. Ordinarily I'd pick up the concepts from the tutorials, but Phalcon is so radically different to what I've done before, even with other frameworks.</p>
<p>But it helps to know that I'd better not factor Phalcon's models and ORM into my initial design, so thanks for the advice. They'll still be relevant in some places (the site has users and groups, standard stuff).</p>
<p>And yes, UDP messages. : / There are reasons we've gone that route. Not brilliant reasons, but I'm stuck with it nevertheless. Not looking forward to gracefully handling timeouts and missing messages.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36941" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36941" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36963" href="#C36963">
                <time itemprop="dateCreated" datetime="2016-07-20T04:25:35-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>There might be someone very familiar with ORM to override Model base, to achieve what you need by smart extending core (not Zephir). But from my exp, whenever you need to build something that is complex and diverse, it's better to have full control over each aspect.</p>
<p>Once you got into Phalcon, you'll love it. It's very flexibile and highly decoupled which is very important if you wan't to follow SOLID. Take your time.</p>
<p>P.S. If it is in your power, set up Message Broker service (distributed).  If not, try to use TCP/IP stack instead. If by chance you are on a same machine with a central system, use UNIX domain sockets to pipe with apps.</p>
<p>Good luck!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36963" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36963" data-cf-modified-792c4d2b23e30d6d0991eb4c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="12131" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>