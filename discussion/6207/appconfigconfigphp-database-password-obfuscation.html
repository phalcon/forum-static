---
layout: default
title: 'app/config/config.php database password obfuscation - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">app/config/config.php database password obfuscation</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a></span>
            <time itemprop="dateCreated" datetime="2015-03-20T13:44:05-07:00">Mar '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-03-20T13:44:05-07:00">Mar '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Mar '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>940</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img  src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a></span>
                <span class="karma">40.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C6207" href="#C6207">
        <time class="action-date">Mar '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hey there. I am connecting to a MySQL database for my first real Phalcon app, and I can't help but notice that the login and password for the database user are hardcoded in plain text in app/config/config.php. Is there any way to obfuscate that somehow? So that if someone manages to get into the file system they can't use this information to gain access to the database. Thanks!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/ef35769757b23a982de5d30846530d40?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/768/iamtartan" class="user-moderator-N"><span itemprop="name">Aboozar Ghaffari</span></a>        </span>
        <br>

        <span class="karma">10.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16710" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '15</span>
              </span><br/><a name="C16710" href="#C16710">
                <time itemprop="dateCreated" datetime="2015-03-20T14:17:36-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The best practive to handling this is having another configs for <strong>production</strong> that is not included to you version control (GIT/SVN) too.</p>
<p>you should have two config file like <code>developemnt.php</code> and <code>production.php</code> that development.php is inculded to your project files but <code>production.php</code> only exists on your production server the use it based on your app environment.</p>
<p>there are many ways to implement this. for example:</p>
<pre><code class="language-php">if (hostname() == 'my-laptop') {
    $config = include __DIR__ . '/config/development.php'; // in your project files
} else {
    $config = include __DIR__ . '/config/production.php'; // only exist on your production server
}
$di = new Phalcon\DI\FactoryDefault();
$di-&gt;set('config', $config);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16710" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16710" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16806" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '15</span>
              </span><br/><a name="C16806" href="#C16806">
                <time itemprop="dateCreated" datetime="2015-03-23T09:07:16-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>If a person has access to your filesystem, your server is compromised and it doesn't matter where you keep your files - they'll still be able to find the file.  If the server is compromised, and it also holds your database, then it doesn't matter if they can read your credentials - they have access to your database anyway.  So, there's no real need to worry about hiding your credentials from someone that has access to your filesystem.</p>
<p>One legitimate, <em>but in my opinion overly paranoid</em>, concern could be what happens if the Phalcon AND mod_rewrite modules both die, but Apache keeps running. In that case, a web user could have access to the config.php file and have it delivered as raw text.  However, the likelihood of both those modules not running, and Apache still working, is practically zero.  It may even be impossible - I'm not that much of an Apache expert.  Even if it did happen and your credentials got out, you could (and should) lock down your database to only be accessible from known IPs, or from &quot;localhost&quot;.</p>
<p>In short, don't worry about it, just make sure the database itself is secure.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16806" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16806" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/b58ae5d515c7285229c9f07af9a11e39?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1727/Mechzeit" class="user-moderator-N"><span itemprop="name">Mitchell Macpherson</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C16806"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img  src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Dylan Anderson                    </a>
                </div><div class="posts-buttons" align="right"><a name="C16823" href="#C16823">
                <time itemprop="dateCreated" datetime="2015-03-23T15:14:58-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Due to the separation of the bootstrap file and the application directory, theoretically all your configuration files and application should/would be outside of the public HTML directory scope too ;)</p>
<blockquote>
<p>If a person has access to your filesystem, your server is compromised and it doesn't matter where you keep your files - they'll still be able to find the file.  If the server is compromised, and it also holds your database, then it doesn't matter if they can read your credentials - they have access to your database anyway.  So, there's no real need to worry about hiding your credentials from someone that has access to your filesystem.</p>
<p>One legitimate, <em>but in my opinion overly paranoid</em>, concern could be what happens if the Phalcon AND mod_rewrite modules both die, but Apache keeps running. In that case, a web user could have access to the config.php file and have it delivered as raw text.  However, the likelihood of both those modules not running, and Apache still working, is practically zero.  It may even be impossible - I'm not that much of an Apache expert.  Even if it did happen and your credentials got out, you could (and should) lock down your database to only be accessible from known IPs, or from &quot;localhost&quot;.</p>
<p>In short, don't worry about it, just make sure the database itself is secure.</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16823" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16823" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/75296831c33eb668045916530552233f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2706/dominickinyanjui" class="user-moderator-N"><span itemprop="name">Dominic Kinyanjui</span></a>        </span>
        <br>

        <span class="karma">31.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16866" href="#C16866">
                <time itemprop="dateCreated" datetime="2015-03-25T05:19:57-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>To be honest here I don't think there is a better way to secure a database through a file system that is connected to that DB.</p>
<p>That is why always choose to work with a development server on which case the cloned database structure may not have the same copy of data in the production server.</p>
<p>An option would be to create a user with less privileges to the database but again such user will have no business accessing the file system. That is where I would still recommend woking with a development server that has different passwords to that  in the production and if possible with all tables truncated.</p>
<p>Remember security vulnerability has no one single solution to provide end to end measures. Just try out many options that make system more secure.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16866" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16866" data-cf-modified-d0f4ec1c10f09d9ca4676243-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="6207" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>