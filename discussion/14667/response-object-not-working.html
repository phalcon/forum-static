---
layout: default
title: 'Response object not working - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/25/configuration">Configuration</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Response object not working</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/8455/cgillions" class="user-moderator-N"><span itemprop="name">cgillions</span></a></span>
            <time itemprop="dateCreated" datetime="2016-11-01T09:58:30-07:00">Nov '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-11-01T09:58:30-07:00">Nov '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>792</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/debd1b9e3977fa04761d2aac7ceb8b72?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/8455/cgillions" class="user-moderator-N"><span itemprop="name">cgillions</span></a></span>
                <span class="karma">866</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C14667" href="#C14667">
        <time class="action-date">Nov '16</time>
    </a>
</div>
<div class="post-content"><div><p>I cannot get the response object to work and I have tried many implementations referenced by the documentation. I don't have an external configuration for the response object, only what is in the code below.</p>
<p>When this code is run an empty page is displayed (there is no view linked with this action). I get no error messages in the browser / apache / php logs either.</p>
<p>I've checked the path to the controllers directory, which is located at:</p>
<pre><code>__DIR__ . '/../controllers/'</code></pre>
<p>My code:</p>
<pre><code>public function sendAction()
    {
        $this-&gt;response-&gt;redirect("contact/index");
    }</code></pre>
<p>If I place the following code in the method I see the expected page, so I know for sure the action is being called...</p>
<pre><code>echo phpInfo();
die();</code></pre>
<p>I have tried all combinations below:</p>
<pre><code>$this-&gt;response-&gt;redirect("contact/index");

// Example shown in Phalcon Docs

$this-&gt;response-&gt;redirect("http://en.wikipedia.org", true);
return $this-&gt;response-&gt;redirect("http://en.wikipedia.org", true);

// Should navigate to the base URI

$this-&gt;response-&gt;redirect();
return $this-&gt;response-&gt;redirect();

// Creating a new instance of \Phalcon\Http\Response

$resp = new \Phalcon\Http\Response();
$resp-&gt;redirect("http://en.wikipedia.org", true);</code></pre>
<p>I'm really not sure what else to try. I have scoured forums and documentation but haven't found anything that solves my issue.</p>
<p>Yes this question has been asked before but the answer didn't help!</p>
<p>I'm running Phalcon 2.0.1 | PHP 5.6.27 | Chrome v.54 | OSX 10.12</p>
<p>My opinion is that the code isn't wrong, but something must not be configured properly. I have tried installing php and Phalcon a couple of times, neither went smoothly and I downloaded a number of required packages and missing elements as I came across them trying to install. </p>
<p>I then backed up my data and wiped my hard drive to start fresh.</p>
<p>I've installed PHP 5.6.27, Phalcon 2.0.13, memcached</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-20ac03f475800802ffd89f1a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-20ac03f475800802ffd89f1a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="42393" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '16</span>
              </span><br/><a name="C42393" href="#C42393">
                <time itemprop="dateCreated" datetime="2016-11-01T10:07:32-07:00" class="action-date">Nov '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Phalcon 2.0.13 is not supported, but it will still work nicely with PHP 5.6.x.
Next, your problem might be with how you bootstrap your app, and especially PATHS.</p>
<p>The best is to post here your full bootstrap (i.e. index.php), and your services definition.</p>
<p>P.S. Which web server you run? Apache or Nginx?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42393" data-cf-modified-20ac03f475800802ffd89f1a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42393" data-cf-modified-20ac03f475800802ffd89f1a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/debd1b9e3977fa04761d2aac7ceb8b72?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/8455/cgillions" class="user-moderator-N"><span itemprop="name">cgillions</span></a>        </span>
        <br>

        <span class="karma">866</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="42419" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '16</span>
              </span><br/><a name="C42419" href="#C42419">
                <time itemprop="dateCreated" datetime="2016-11-01T15:17:42-07:00" class="action-date">Nov '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ok, thanks for your response. </p>
<p>I initially downloaded Phalcon 3 and PHP 7.0, but because a friend that worked on the project was running the versions mentioned above, I installed the same versions as him. Are newer versions of both Phalcon and PHP backwards compatible? </p>
<p>I'm running Apache, I'll post the code for the bootstrap</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42419" data-cf-modified-20ac03f475800802ffd89f1a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42419" data-cf-modified-20ac03f475800802ffd89f1a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/debd1b9e3977fa04761d2aac7ceb8b72?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/8455/cgillions" class="user-moderator-N"><span itemprop="name">cgillions</span></a>        </span>
        <br>

        <span class="karma">866</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C42421" href="#C42421">
                <time itemprop="dateCreated" datetime="2016-11-01T15:26:21-07:00" class="action-date">Nov '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>root/public/index.php</p>
<pre><code>&lt;?php

use Phalcon\Mvc\Application;

define('APP_PATH', realpath('..'));

try {

    $config = require APP_PATH . "/config/config.php";

    /**
     * Include services
     */
    require APP_PATH . '/config/services.php';

    /**
     * Handle the request
     */
    $application = new Application($di);

    /**
     * Include modules
     */
    require APP_PATH . '/config/modules.php';

    // Handle the application:
    echo $application-&gt;handle()-&gt;getContent();
} 
catch (\Exception $e) {
    echo $e-&gt;getMessage() . '&lt;br&gt;';
    echo '&lt;pre&gt;' . $e-&gt;getTraceAsString() . '&lt;/pre&gt;';
}</code></pre>
<p>root/config/config.php</p>
<pre><code>&lt;?php

return new \Phalcon\Config(array(
    'database' =&gt; array(
        ...
    ),
    'application' =&gt; array(
        'controllersDir' =&gt; __DIR__ . '/../controllers/',
        'modelsDir'      =&gt; __DIR__ . '/../models/',
        'migrationsDir'  =&gt; __DIR__ . '/../migrations/',
        'viewsDir'       =&gt; __DIR__ . '/../views/',
        'baseUri'        =&gt; '/',
        'cacheDir'       =&gt; APP_PATH . '/cache/',
    )
));</code></pre>
<p>root/config/services.php</p>
<pre><code>&lt;?php
/**
 * Services are globally registered in this file
 *
 * @var \Phalcon\Config $config
 */

use Phalcon\Loader;
use Phalcon\Mvc\Router;
use Phalcon\Mvc\Url as UrlResolver;
use Phalcon\Di\FactoryDefault;
use Phalcon\Session\Adapter\Files as SessionAdapter;
use Phalcon\Mvc\Model\Metadata\Memory as MetaDataAdapter;
use Phalcon\Mvc\View;
use Phalcon\Mvc\View\Engine\Volt as VoltEngine;
use Phalcon\Flash\Direct as FlashDirect;
use Phalcon\Flash\Session as FlashSession;

/**
 * The FactoryDefault Dependency Injector automatically registers the right services to provide a full stack framework
 */
$di = new FactoryDefault();

/**
 * Create a loader to register all files.
 */
$loader = new Loader();
$loader-&gt;registerNamespaces(array(
    'Apps' =&gt; APP_PATH . '/Apps/',
));
$loader-&gt;register();

/**
 * Registering a router
 */
$di-&gt;setShared('router', function () {
    $useSlugExtension = true;
    $router = new \Apps\Source\Plugins\Routing\Router($useSlugExtension);
    // $router = new \Apps\Source\Plugins\Routing\Router();

    $router-&gt;setDefaultModule('frontend');
    $router-&gt;setDefaultNamespace('\Apps\Modules\Frontend\Controllers');

    return $router;
});

/**
 * The URL component is used to generate all kinds of URLs in the application
 */
$di-&gt;setShared('url', function () use ($config) {
    $url = new UrlResolver();
    $url-&gt;setBaseUri($config-&gt;application-&gt;baseUri);

    return $url;
});

/**
 * Setting up the view component
 */
$di-&gt;setShared('view', function () use ($config) {

    $view = new View();

    $view-&gt;setViewsDir($config-&gt;application-&gt;viewsDir);

    $view-&gt;registerEngines(array(
        '.volt' =&gt; function ($view, $di) use ($config) {

            $volt = new \Phalcon\Mvc\View\Engine\Volt($view, $di);

            $volt-&gt;setOptions(array(
                'compiledPath' =&gt; $config-&gt;application-&gt;cacheDir,
                'compiledSeparator' =&gt; '_'
            ));

            return $volt;
        },
        '.phtml' =&gt; function ($view, $di) use ($config) {

            $volt = new \Phalcon\Mvc\View\Engine\Volt($view, $di);

            $volt-&gt;setOptions(array(
                'compiledPath' =&gt; $config-&gt;application-&gt;cacheDir,
                'compiledSeparator' =&gt; '_'
            ));
            // Add functions to the compiler:
            $volt-&gt;getCompiler()-&gt;addFunction(
                'in_array', 'in_array'
            );

            return $volt;
        }
    ));

    return $view;
});

/**
 * Database connection is created based in the parameters defined in the configuration file
 */
$di-&gt;setShared('db', function () use ($config) {
    $dbConfig = $config-&gt;database-&gt;toArray();
    $adapter = $dbConfig['adapter'];
    unset($dbConfig['adapter']);

    $class = 'Phalcon\Db\Adapter\Pdo\\' . $adapter;

    return new $class($dbConfig);
});

/**
 * If the configuration specify the use of metadata adapter use it or use memory otherwise
 */
$di-&gt;setShared('modelsMetadata', function () {
    return new MetaDataAdapter();
});

/**
 * Starts the session the first time some component requests the session service
 */
$di-&gt;setShared('session', function () {
    $session = new SessionAdapter();
    $session-&gt;start();

    return $session;
});

/**
 * Add authentication management
 */
$di-&gt;setShared('auth', function() use ($di) {
    $session = $di-&gt;get('session');
    $auth = \Apps\Source\Components\AuthManager::getInstance($session);
    return $auth;
});

/**
 * Date manager
 */
$di-&gt;setShared('date', function(){
    return new \Apps\Source\Plugins\Date\Manager();
});

/**
 * Register the direct flash service with the Twitter Bootstrap classes
 */
$di-&gt;set('flash', function () {
    return new FlashDirect(
        array(
            'error'   =&gt; 'alert alert-danger',
            'success' =&gt; 'alert alert-success',
            'notice'  =&gt; 'alert alert-info',
            'warning' =&gt; 'alert alert-warning'
        )
    );
});

/**
 * Register the session flash service with the Twitter Bootstrap classes
 */
$di-&gt;set('flashSession', function () {
    return new FlashSession(
        array(
            'error'   =&gt; 'alert alert-danger',
            'success' =&gt; 'alert alert-success',
            'notice'  =&gt; 'alert alert-info',
            'warning' =&gt; 'alert alert-warning'
        )
    );
});

/**
 * Set the default namespace for dispatcher
 */
$di-&gt;setShared('dispatcher', function() use ($di) {
    $eventsManager = new \Phalcon\Events\Manager();
    $eventsManager-&gt;attach("dispatch:beforeException", function($event, $dispatcher, $exception) {
        //Handle 404 exceptions
        if ($exception instanceof \Phalcon\Mvc\Dispatcher\Exception) {
            $dispatcher-&gt;forward(array(
                'namespace' =&gt; 'Apps\Modules\Frontend\Controllers',
                'module' =&gt; 'frontend',
                'controller' =&gt; 'error',
                'action' =&gt; 'show404'
            ));
            return false;
        }
    });
    $dispatcher = new \Phalcon\Mvc\Dispatcher();

    //Bind the EventsManager to the dispatcher
    $dispatcher-&gt;setEventsManager($eventsManager);

    return $dispatcher;
});</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="42421" data-cf-modified-20ac03f475800802ffd89f1a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="42421" data-cf-modified-20ac03f475800802ffd89f1a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="14667" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>