---
layout: default
title: 'Controllers in many sub directories - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Controllers in many sub directories</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/11887/lukainthelab" class="user-moderator-N"><span itemprop="name">lukainthelab</span></a></span>
            <time itemprop="dateCreated" datetime="2018-12-18T02:15:56-07:00">Dec '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-12-18T02:15:56-07:00">Dec '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>233</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/ebc81e3e4dc2ffbcde9adedf9aa77eed?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/11887/lukainthelab" class="user-moderator-N"><span itemprop="name">lukainthelab</span></a></span>
                <span class="karma">307</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C19119" href="#C19119">
        <time class="action-date">Dec '18</time>
    </a>
</div>
<div class="post-content"><div><p>I'm working on a big project that forces me to split my controllers into multiple sub dirs. </p>
<p>I have this namespace and file structure as an example:</p>
<ul>
<li>MyApp\Controllers\User =&gt; app/controllers/user/UserController.php</li>
<li>MyApp\Controllers\Product =&gt; app/controllers/customer/ListingController.php</li>
</ul>
<p>And I would like to access them as:</p>
<ul>
<li>www.mysite.com/User</li>
<li>www.mysite.com/Listing</li>
</ul>
<p>I've looked on previous answers but I still can't get the loader and router to work together... :-/</p>
<p>Any ideas how should I set my loader and router?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-7c4e316b2ab495455cc631d1-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-7c4e316b2ab495455cc631d1-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b59fecbff6d1afabf8da316028330df4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2619/emiliodeg" class="user-moderator-N"><span itemprop="name">Emilio Degiovanni</span></a>        </span>
        <br>

        <span class="karma">32.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C58181" href="#C58181">
                <time itemprop="dateCreated" datetime="2018-12-18T07:36:42-07:00" class="action-date">Dec '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>you have to set a individual router for controllers in sub direcotires. <a href="https://github.com/phalcon/mvc/tree/master/simple-subcontrollers">check this example</a></p>
<p>Good luck</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58181" data-cf-modified-7c4e316b2ab495455cc631d1-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58181" data-cf-modified-7c4e316b2ab495455cc631d1-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="58189" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '18</span>
              </span><br/><a name="C58189" href="#C58189">
                <time itemprop="dateCreated" datetime="2018-12-18T09:31:36-07:00" class="action-date">Dec '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>That's a bit of a mess because the namespace doesn't map to the directory: &quot;Product -&gt; /customer/&quot;.  The consequence of that is nothing can be inferred or standardized because there is no logical way to know what controller is in what namespace.  And what happens if you have 2 <code>ListingController.php</code> files in different namespaces &amp; directories?  Where does <code>www.mysite.com/Listing</code> point to?</p>
<p>At present, it looks like you'll have to manually create a route for each url - indicating what namespace to use for the route's controller.  Then in your autoloader configuration, manually map each namespace to the directory that contains that namespace's controllers.</p>
<p>If you want to simplify things and make your site more maintainable, I'd recommend storing controllers in a directory that directly relates to it's namespace. So:</p>
<ul>
<li>MyApp\Controllers\Product =&gt; app/controller/product/ListingController.php</li>
</ul>
<p>accessed via:</p>
<ul>
<li>www.mysite.com/product/listing</li>
</ul>
<p>This way you can probably set up your dispatcher, router, and/or loader to dynamically load the correct controller based on the URL, rather than having to manually defined everything.  The longer URL is immaterial for practically every concern.  SEO doesn't care, and users generally don't manually type links in anyway.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58189" data-cf-modified-7c4e316b2ab495455cc631d1-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58189" data-cf-modified-7c4e316b2ab495455cc631d1-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Åšlawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="58203" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '18</span>
              </span><br/><a name="C58203" href="#C58203">
                <time itemprop="dateCreated" datetime="2018-12-20T10:29:17-07:00" class="action-date">Dec '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Just use modules, this is why they even exists. They support multi controllers out of the box. Create route group for each module, mount them and that's it, nothing more to do.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58203" data-cf-modified-7c4e316b2ab495455cc631d1-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58203" data-cf-modified-7c4e316b2ab495455cc631d1-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="19119" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>