---
layout: default
title: 'How to cache partials from controller - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/8/cache">Cache</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to cache partials from controller</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/4357/GunslerRage" class="user-moderator-N"><span itemprop="name">GunslerRage</span></a></span>
            <time itemprop="dateCreated" datetime="2019-02-12T11:51:32-07:00">Feb '19</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2019-02-12T11:51:32-07:00">Feb '19</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Feb '19</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>251</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img  src="https://secure.gravatar.com/avatar/d90f9c7fe35e5f94eb6712df52bf3bb9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/4357/GunslerRage" class="user-moderator-N"><span itemprop="name">GunslerRage</span></a></span>
                <span class="karma">40.6k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C19369" href="#C19369">
        <time class="action-date">Feb '19</time>
    </a>
</div>
<div class="post-content"><div><p>So I have this ugly mess here, that loops threw some data, and shows partials depending on the data.</p>
<p>However.</p>
<p>The amount of mb it takes to load the web page is huge. Is there anyway to make this use less memory?</p>
<p>( There can be up to 10 partials )</p>
<pre><code>foreach($sections as $section){
        if($section['name'] == $page){
            $this-&gt;view-&gt;partial('../pages/'.$section['name']);
        }else{
            $this-&gt;view-&gt;partial($section['name'], ['settings' =&gt; (object)$section['settings']]);
        }
    }</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-dd4526c11b761fc74e49ac96-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-dd4526c11b761fc74e49ac96-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C58865" href="#C58865">
                <time itemprop="dateCreated" datetime="2019-02-12T15:11:22-07:00" class="action-date">Feb '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You mean amount of MB at PHP side or at the client side (browser)?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58865" data-cf-modified-dd4526c11b761fc74e49ac96-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58865" data-cf-modified-dd4526c11b761fc74e49ac96-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/d90f9c7fe35e5f94eb6712df52bf3bb9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4357/GunslerRage" class="user-moderator-N"><span itemprop="name">GunslerRage</span></a>        </span>
        <br>

        <span class="karma">40.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C58869" href="#C58869">
                <time itemprop="dateCreated" datetime="2019-02-13T10:03:44-07:00" class="action-date">Feb '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The client side</p>
<p>There is really not much html in the different partials, maybe like 3 lines, but when I run the loop the size goes from 300 kb to 2 mb. That's a lot.. Is there anyway to make it less?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58869" data-cf-modified-dd4526c11b761fc74e49ac96-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58869" data-cf-modified-dd4526c11b761fc74e49ac96-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C58959" href="#C58959">
                <time itemprop="dateCreated" datetime="2019-02-20T05:06:09-07:00" class="action-date">Feb '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Well, that's question regarding your app conception I guess. If you have large amounts of data to return to the clients, you could optimize it by using pagination, e.g. return only first N rows, then have pagination do the navigation between pages. </p>
<p>And then you could use regular optimization techniques such as minifing CSS/JS stuff etc.
Last but not least - all textual content shall be sent in a compressed format to the clients in order to minimize network latency. But eventually they'll have the same issue if there's a lot of content, after they decompress it. No way around this but to make your responses paginated e.g. returning parts of response instead of full response.</p>
<p>And this has nothing to do with the Phalcon, PHP, etc. It's more of a general problem - how much of the data browsers could handle w/o eating all RAM on the client side, usually we see SPA apps which simply make browsers crawl to it's knees with the amount of data they have to store on the client side....</p>
<p>Also you could cache the intermediate responses - data from DB and compiled static template outputs. But that won't do any help to the clients, only your server side.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58959" data-cf-modified-dd4526c11b761fc74e49ac96-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58959" data-cf-modified-dd4526c11b761fc74e49ac96-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="19369" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>