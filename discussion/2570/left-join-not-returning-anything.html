---
layout: default
title: 'LEFT JOIN not returning anything - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">LEFT JOIN not returning anything</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1806/Tuccinator" class="user-moderator-N"><span itemprop="name">Nick Tucci</span></a></span>
            <time itemprop="dateCreated" datetime="2014-06-15T10:11:35-07:00">Jun '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-06-15T10:11:35-07:00">Jun '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>719</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/2121c04ffc492d234fca95aa9e1f37e7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1806/Tuccinator" class="user-moderator-N"><span itemprop="name">Nick Tucci</span></a></span>
                <span class="karma">10.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2570" href="#C2570">
        <time class="action-date">Jun '14</time>
    </a>
</div>
<div class="post-content"><div><p>I tested this query in SQL and it worked perfectly for returning all of the posts and if they are liked by member:</p>
<p>SELECT blog_posts.<em>, blog_likes.</em> FROM blog_posts LEFT JOIN blog_likes ON blog_posts.postId = blog_likes.postId AND blog_likes.memberId = 5</p>
<p>I tried refracting it for use with PHQL:</p>
<p>SELECT Posts.<em> , Likes.</em> FROM Posts LEFT JOIN Likes ON Posts.postId = Likes.postId AND Likes.memberId = 5</p>
<p>I have created the relationships already inside the models, but for some reason it won't return anything. Using the query below will actually work by returning if it is liked or not but it won't return the post.</p>
<p>SELECT Posts.*, Likes.likeId, Likes.memberId FROM Posts LEFT JOIN Likes ON Posts.postId = Likes.postId AND Likes.memberId = 5</p>
<p>The above statement returns likeId and memberId but no post information like title, body, etc. Have any assumptions to why this isn't working?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d55454a268f90dc48fda627ba5dceda7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/850/digitronac" class="user-moderator-N"><span itemprop="name">Nemanja Ognjanovic</span></a>        </span>
        <br>

        <span class="karma">300</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8674" href="#C8674">
                <time itemprop="dateCreated" datetime="2014-06-15T10:55:30-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>cant really say if anything is wrong there but i suggest you log your query and see what SQL query does it generate:
<a href="http://docs.phalcon.io/en/latest/reference/models.html#logging-low-level-sql-statements">http://docs.phalcon.io/en/latest/reference/models.html#logging-low-level-sql-statements</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8674" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8674" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2121c04ffc492d234fca95aa9e1f37e7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1806/Tuccinator" class="user-moderator-N"><span itemprop="name">Nick Tucci</span></a>        </span>
        <br>

        <span class="karma">10.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8682" href="#C8682">
                <time itemprop="dateCreated" datetime="2014-06-15T14:33:36-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I tried the query that it logged and it worked in Terminal. Still have no idea what the problem could be.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8682" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8682" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2121c04ffc492d234fca95aa9e1f37e7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1806/Tuccinator" class="user-moderator-N"><span itemprop="name">Nick Tucci</span></a>        </span>
        <br>

        <span class="karma">10.4k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8686" href="#C8686">
                <time itemprop="dateCreated" datetime="2014-06-15T17:13:20-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I figured out the issue. When you use select all from Posts, you have to explicitly state the column names you want to select. You can't use Posts.* but Posts.title, Posts.body, etc.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8686" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8686" data-cf-modified-fa6261e800e582d4ec3fadc7-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2570" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>