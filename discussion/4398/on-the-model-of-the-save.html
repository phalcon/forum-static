---
layout: default
title: 'On the model of the save() - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">On the model of the save()</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/2941/ljw787" class="user-moderator-N"><span itemprop="name">ljw787</span></a></span>
            <time itemprop="dateCreated" datetime="2015-01-06T05:41:22-07:00">Jan '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-01-06T05:41:22-07:00">Jan '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jan '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2216</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/bde1df38981522d723315ce2162211bf?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/2941/ljw787" class="user-moderator-N"><span itemprop="name">ljw787</span></a></span>
                <span class="karma">2.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4398" href="#C4398">
        <time class="action-date">Jan '15</time>
    </a>
</div>
<div class="post-content"><div><p>insert robots(a,b) values('A','B'),('A','B')</p>
<p>Through the model save() of how to express??</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-positive">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="14598" data-toggle="modal" data-target="#historyModal">
                edited <span>Jan '15</span>
              </span><br/><a name="C14598" href="#C14598">
                <time itemprop="dateCreated" datetime="2015-01-06T06:42:40-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">$robot = new Robots();
$robot-&gt;a = 'A';
$robot-&gt;b = 'B';
$robot-&gt;save();

$robot = new Robots();
$robot-&gt;a = 'C';
$robot-&gt;b = 'D';
$robot-&gt;save();</code></pre>
<p>You cannot insert multiple values in one SQL statement using Phalcon models. You have to instantiate a new <code>Robots</code> object, assign the values and then save it. If you want to execute your statement which will insert (in your example) two records in one statement you will need to use the db component directly</p>
<pre><code class="language-php">$db = $dependencyInjector-&gt;get('db');
$db-&gt;execute('INSERT INTO .....');</code></pre>
<p>The db component uses <code>\PDO</code> so all the relevant functions are avaliable for you.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14598" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14598" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">5</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2187709447a71fadc461910ee14630b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2130/heptagono" class="user-moderator-N"><span itemprop="name">heptagono</span></a>        </span>
        <br>

        <span class="karma">11.2k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C14598"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Nikolaos Dimopoulos                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="14601" data-toggle="modal" data-target="#historyModal">
                edited <span>Jan '15</span>
              </span><br/><a name="C14601" href="#C14601">
                <time itemprop="dateCreated" datetime="2015-01-06T07:28:30-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>(...)
You cannot insert multiple values in one SQL statement using Phalcon models. You have to instantiate a new <code>Robots</code> object, assign the values and then save it. If you want to execute your statement which will insert (in your example) two records in one statement you will need to use the db component directly</p>
<p>(...)</p>
<p>The db component uses <code>\PDO</code> so all the relevant functions are avaliable for you.</p>
</blockquote>
<p>Just a friendly remind: As <code>\Phalcon\Db</code> uses PHP <code>\PDO</code> component, you can only execute one SQL statement per function call. So, <code>INSERT INTO foo(a,b) VALUES (3, 4), (1, 2)</code> will work but <code>INSERT INTO foo(a,b) VALUES (3, 4); INSERT INTO foo(a,b) VALUES (1, 2)</code> won't</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14601" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14601" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bdee79ea2680ec179fa34b9201fc74b7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1873/RompePC" class="user-moderator-N"><span itemprop="name">RompePC</span></a>        </span>
        <br>

        <span class="karma">33.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14607" href="#C14607">
                <time itemprop="dateCreated" datetime="2015-01-06T10:50:08-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I would improve Nikolaos's first answer:</p>
<pre><code>$keys = [
    'a',
    'b'
];
$values = [
    [$keys[0] =&gt; 'A', $keys[1] =&gt; 'B'],
    [$keys[0] =&gt; 'C', $keys[1] =&gt; 'D'],
];

foreach ($values as $value)
{
    $robot = new Robot();

    $robot-&gt;a = $value[$keys[0]];
    $robot-&gt;b = $value[$keys[1]];

    $robot-&gt;save();
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14607" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14607" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2187709447a71fadc461910ee14630b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2130/heptagono" class="user-moderator-N"><span itemprop="name">heptagono</span></a>        </span>
        <br>

        <span class="karma">11.2k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C14607"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/bdee79ea2680ec179fa34b9201fc74b7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        RompePC                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="14610" data-toggle="modal" data-target="#historyModal">
                edited <span>Jan '15</span>
              </span><br/><a name="C14610" href="#C14610">
                <time itemprop="dateCreated" datetime="2015-01-06T16:23:38-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>I would improve Nikolaos's first answer:</p>
<pre><code>  $keys = [
      'a',
      'b'
  ];
  $values = [
      [$keys[0] =&gt; 'A', $keys[1] =&gt; 'B'],
      [$keys[0] =&gt; 'C', $keys[1] =&gt; 'D'],
  ];

  foreach ($values as $value)
  {
      $robot = new Robot();

      $robot-&gt;a = $value[$keys[0]];
      $robot-&gt;b = $value[$keys[1]];

      $robot-&gt;save();
  }</code></pre>
</blockquote>
<pre><code class="language-php">$newEntries = array(
    array(
        'col_1'   =&gt; 'A',
         'col_2'   =&gt; 'B'
    ),
    array(
        'col_1'   =&gt; 'A',
        'col_2'   =&gt; 'B'
    )
);

foreach ($newEntries as $robotParams) {
    $robot = new Robot();

    foreach ($robotsParams as $key =&gt; value) {
        $robot-&gt;$key = $value;
    }

    $robot-&gt;save();
}</code></pre>
<p>This is how you do magic :p</p>
<p>P.S: This is just to show some <em>magic</em>. Don't use such things at production&gt;</p>
<p><em>Edit:</em> YES, you can do things like this but i would not recomend unless you know exactly what you want to achieve and why you are doing it this way</p>
<p><em>Edit2:</em> Sorry if this post sounded rude. I was drunk at the moment :p</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14610" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14610" data-cf-modified-2a8d99b49c2c9bb9f1383375-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4398" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>