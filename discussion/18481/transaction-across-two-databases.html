---
layout: default
title: 'Transaction Across Two Databases - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Transaction Across Two Databases</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/5565/queejie" class="user-moderator-N"><span itemprop="name">David Quinn-Jacobs</span></a></span>
            <time itemprop="dateCreated" datetime="2018-06-27T09:36:46-07:00">Jun '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-06-27T09:36:46-07:00">Jun '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>293</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/061e149b54a982276203e06502bef058?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/5565/queejie" class="user-moderator-N"><span itemprop="name">David Quinn-Jacobs</span></a></span>
                <span class="karma">3.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C18481" href="#C18481">
        <time class="action-date">Jun '18</time>
    </a>
</div>
<div class="post-content"><div><p>We are trying to perform several table updates within a transaction, where some of the tables are in one database and some are in a second database, but it seems to be breaking the transaction commit call, and throws an exception.  Is it possible to do this?  If so,  is there something special that needs to be set?  I read somewher that this might have to do with using a thread-safe PHP.  Is there truth in that?  Any help or leads would be appreciated.  I have searched the docs, SO and this forum without much success.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-775b33869a6d8e4f0c2ba334-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-775b33869a6d8e4f0c2ba334-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C56425" href="#C56425">
                <time itemprop="dateCreated" datetime="2018-06-28T06:47:19-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hmmmm, can't you break it down into two transactions?</p>
<p>I believe transactional system requires one centralized system to handle the transaction from the start to the very end. I'm not 100% sure though - never had such a requirement, but big folks like Oracle or MSSQL they don't work in a distributed manner AFAIK, hence transaction must go into one  DB.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56425" data-cf-modified-775b33869a6d8e4f0c2ba334-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56425" data-cf-modified-775b33869a6d8e4f0c2ba334-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/061e149b54a982276203e06502bef058?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5565/queejie" class="user-moderator-N"><span itemprop="name">David Quinn-Jacobs</span></a>        </span>
        <br>

        <span class="karma">3.0k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C56425"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Jonathan Aaron Steel                    </a>
                </div><div class="posts-buttons" align="right"><a name="C56427" href="#C56427">
                <time itemprop="dateCreated" datetime="2018-06-28T06:53:29-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you, but we would like them all to fail if one fails.  If we save successfully a set of records in one DB, then the save of related records in a different DB fails, we'd like to rollback what was done in the first as well.</p>
<blockquote>
<p>Hmmmm, can't you break it down into two transactions?</p>
<p>I believe transactional system requires one centralized system to handle the transaction from the start to the very end. I'm not 100% sure though - never had such a requirement, but big folks like Oracle or MSSQL they don't work in a distributed manner AFAIK, hence transaction must go into one  DB.</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56427" data-cf-modified-775b33869a6d8e4f0c2ba334-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56427" data-cf-modified-775b33869a6d8e4f0c2ba334-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="18481" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>