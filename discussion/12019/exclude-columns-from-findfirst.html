---
layout: default
title: 'Exclude columns from findFirst() - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Exclude columns from findFirst()</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/4207/Swift-R" class="user-moderator-N"><span itemprop="name">Miguel Nunes</span></a></span>
            <time itemprop="dateCreated" datetime="2016-07-03T13:29:49-07:00">Jul '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-07-03T13:29:49-07:00">Jul '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">8</span>
                </td>
                <td>
                    <label>Views</label><br>1410</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/c941fb704d32764b3b6bc1a9dbfd6ccb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/4207/Swift-R" class="user-moderator-N"><span itemprop="name">Miguel Nunes</span></a></span>
                <span class="karma">10.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C12019" href="#C12019">
        <time class="action-date">Jul '16</time>
    </a>
</div>
<div class="post-content"><div><p>Does Phalcon provide a way to remove database columns from <code>findFirst()</code> result so I don't send the column &quot;id&quot; in a JSON response?</p>
<p>If not, I would like to know how you would do it.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-727f67428b40176b323600b3-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-727f67428b40176b323600b3-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a20d655bbeff97e2c393510348ddb7cd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3162/Graphmatic" class="user-moderator-N"><span itemprop="name">graphmatic</span></a>        </span>
        <br>

        <span class="karma">11.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36337" href="#C36337">
                <time itemprop="dateCreated" datetime="2016-07-03T17:14:16-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">         $client = Clients::findFirst(
                    array(
                        'conditions' =&gt; 'id = :cid:',
                        'bind' =&gt; array(
                            'cid' =&gt; $clientId
                        ),
                        'columns' =&gt; array(
                            'oneColumn',
                            'anotherColumns',
                            'andSoOn'
                        )
                    )
                );
</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36337" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36337" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c941fb704d32764b3b6bc1a9dbfd6ccb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4207/Swift-R" class="user-moderator-N"><span itemprop="name">Miguel Nunes</span></a>        </span>
        <br>

        <span class="karma">10.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36339" href="#C36339">
                <time itemprop="dateCreated" datetime="2016-07-03T18:07:17-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I am trying to get the opposite, if possible. Because it's a table with many rows I'd have to specify all of them without only the id.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36339" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36339" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a20d655bbeff97e2c393510348ddb7cd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3162/Graphmatic" class="user-moderator-N"><span itemprop="name">graphmatic</span></a>        </span>
        <br>

        <span class="karma">11.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36341" href="#C36341">
                <time itemprop="dateCreated" datetime="2016-07-03T19:23:59-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I don't think what you want exists...pass your resultset in a foreach loop where you unset the unwanted properties...but what are takin care of? not passing the id for security reason? if it's to save bandwith, it's not a worth to let Id columns in your rep...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36341" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36341" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36353" href="#C36353">
                <time itemprop="dateCreated" datetime="2016-07-03T23:56:46-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hey<a href="https://forum.phalcon.io/user/0/Miguel"> @Miguel</a> as <a href="https://forum.phalcon.io/user/0/Graphmatic"> @Graphmatic</a> mentioned there is no such method available. Here is a simple way you can achieve this:</p>
<pre><code class="language-php">// This will give you array containing all the columns for the given model
$obj = new YourModel();
$tableColumns = $obj-&gt;getModelsMetaData()-&gt;getAttributes($obj);

// Sample output when printing $tableColumns
Array
(
    [0] =&gt; id
    [1] =&gt; is_active
    [2] =&gt; category_id
    [3] =&gt; created_at
)

// Unset columns which you want to excldue
$exclude = ['created_at', 'category_id'];
foreach ($exclude as $column) {
    $key = array_search($column, $tableColumns);
    unset($tableColumns[$key]);
}

// Sample output when printing $tableColumns after unset
Array
(
    [0] =&gt; id
    [1] =&gt; is_active
)

// And after all that you can pass to columns method only the columns you need
-&gt;columns($tableColumns)</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36353" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36353" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="36365" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '16</span>
              </span><br/><a name="C36365" href="#C36365">
                <time itemprop="dateCreated" datetime="2016-07-04T01:43:42-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Since <code>findFirst()</code> method returns object, the most effective solution would be to do</p>
<pre><code class="language-php">unset()</code></pre>
<p>on properties you don't need in a result set.<a href="https://forum.phalcon.io/user/0/nikolay"> @nikolay</a>-mihaylov (Nikolay Mihaylov) provided nice example.</p>
<p>Though I must agree that  almost every ORM implementation has it's limitations, one being this simple task to filter out data prior to getting results back from data store.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36365" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36365" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36367" href="#C36367">
                <time itemprop="dateCreated" datetime="2016-07-04T01:48:04-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/0x0a">@0x0a</a>, thats also an option, but better not to select unneeded data in first place :) </p>
<p><a href="https://forum.phalcon.io/user/0/Dima">@Dima</a>, always specify which columns you want to fetch, after all performance is the main reason we use Phalcon!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36367" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36367" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="36371" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '16</span>
              </span><br/><a name="C36371" href="#C36371">
                <time itemprop="dateCreated" datetime="2016-07-04T02:00:24-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sure, but if it's just an <code>id</code> (single property), it should not impact runtime performance, quite the opposite - it's better to query database as:
<code>SELECT * FROM table WHERE Condition = something</code>
than:
<code>SELECT long, list, of, every, column, except, only, unneeded, one FROM table WHERE Condition = something</code></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36371" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36371" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36373" href="#C36373">
                <time itemprop="dateCreated" datetime="2016-07-04T02:03:55-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/stamster">@stamster</a> of course of course :)</p>
<p>My idea was to not select text or other big fields if you only need to display title and date. We are clear now ! :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36373" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36373" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da3431f1436c62589617b1ea6c3f87b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11863/alex-jgr" class="user-moderator-N"><span itemprop="name">Grigore Alexandru Jucan</span></a>        </span>
        <br>

        <span class="karma">98</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="58125" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '18</span>
              </span><br/><a name="C58125" href="#C58125">
                <time itemprop="dateCreated" datetime="2018-12-10T12:58:54-07:00" class="action-date">Dec '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm building a RESTful API. I have a users table, and of course I don't want users' passwords and emails to be included in any API response. My approach is to create two models for the same table. One model would be User and another model would be PublicProfile.  In the PublicProfile model I defined the <em>metaData()</em> method in a way similar to the example given here:
<a href="https://docs.phalcon.io/el/3.3/db-models-metadata#strategies-manual"><a href="https://docs.phalcon.io/el/3.3/db-models-metadata#strategies-manual">https://docs.phalcon.io/el/3.3/db-models-metadata#strategies-manual</a></a>
I excluded the password and email fields from the meta data for the PublicProfile model. In this way, when a user requests other users' profiles I would use the PublicProfile model. When operations are being made on his own profile, I would use the User model and unset the password before responding to GET requests.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="58125" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="58125" data-cf-modified-727f67428b40176b323600b3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="12019" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>