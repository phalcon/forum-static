---
layout: default
title: 'first try caching - 500 error - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/8/cache">Cache</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">first try caching - 500 error</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a></span>
            <time itemprop="dateCreated" datetime="2016-08-11T09:19:17-07:00">Aug '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-08-11T09:19:17-07:00">Aug '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Aug '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">20</span>
                </td>
                <td>
                    <label>Views</label><br>1274</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a></span>
                <span class="karma">40.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C12687" href="#C12687">
        <time class="action-date">Aug '16</time>
    </a>
</div>
<div class="post-content"><div><p>in services.php:</p>
<pre><code class="language-php">use Phalcon\Cache\Frontend\Data as FrontendData;
use Phalcon\Cache\Backend\Memcache as BackendMemcache;

// Set the models cache service
$di-&gt;set('modelsCache', function () {

    // Cache data for one day by default
    $frontCache = new FrontendData(
        array(
            "lifetime" =&gt; 86400
        )
    );

    // Memcached connection settings
    $cache = new BackendMemcache(
        $frontCache,
        array(
            "host" =&gt; "localhost",
            "port" =&gt; "11211"
        )
    );

    return $cache;
});</code></pre>
<p>Query in IndexController:</p>
<pre><code class="language-php">        $pathways = GpcrDownstreamPathway::find(
                  array(
                        "cache" =&gt; array(
                                "key" =&gt; "my-cache"
                                )
                        )
                  );</code></pre>
<p>That causes a 500 error. If I do this:</p>
<pre><code class="language-php">$pathways = GpcrDownstreamPathway::find();</code></pre>
<p>It works fine. Any ideas?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-10c78a04ce16ea8b82645541-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-10c78a04ce16ea8b82645541-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38215" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38215" href="#C38215">
                <time itemprop="dateCreated" datetime="2016-08-11T13:05:06-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This works for me...</p>
<p>services.php</p>
<pre><code class="language-php">use Phalcon\Cache\Frontend\Data as FrontData;
use Phalcon\Cache\Backend\Memcache as BackMemCached;

$di-&gt;set('cache',function(){
    $frontCache = new FrontData([
        "lifetime" =&gt; 900
    ]);
    $cache = new BackMemCached(
        $frontCache,
        [
            "host" =&gt; "localhost",
            "port" =&gt; 11211,
            "persistent" =&gt; false
        ]
    );

    return $cache;
});</code></pre>
<p>Inside my model to save:</p>
<pre><code class="language-php">$cache = $this-&gt;getDi()-&gt;getShared('cache');
$cache-&gt;save($key,$data,300); //300 is the time to save</code></pre>
<p>Inside my model to retrieve:</p>
<pre><code class="language-php">$cache = $this-&gt;getDi()-&gt;getShared('cache');
$data = $cache-&gt;get($key);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38215" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38215" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38223" href="#C38223">
                <time itemprop="dateCreated" datetime="2016-08-11T14:19:12-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Where are those last two code blocks? Inside the model? Inside the save() and find() functions? You override them? None of the documentation includes those steps...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38223" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38223" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38229" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38229" href="#C38229">
                <time itemprop="dateCreated" datetime="2016-08-11T15:12:12-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The first is my services.php file.  The secod is an example of how I save data to the cache.  The last code blocks are how I access the data in cache.</p>
<p>I do all of the cache setting/getting outside of the database calls to find and save.  For instance, find would look something like this:</p>
<pre><code class="language-php">    $key = 'userorders'.$user-&gt;id //pretend you already have a user object.
    if (!$cache-&gt;has($key)) {
        $data = Order::find(
            "conditions" =&gt; "user_id = :id:",
            "bind" =&gt; [
                "id" =&gt; $user-&gt;id
            ]
        );
        $cache-&gt;save($key,$data,300);
    }
    return $cache-&gt;get($key);</code></pre>
<p>If it's possible to cache the response from the database automatically, I'm not sure how to do that.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38229" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38229" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38243" href="#C38243">
                <time itemprop="dateCreated" datetime="2016-08-11T23:18:15-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Chceck the logs. Error 500 means some exception or something.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38243" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38243" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38267" href="#C38267">
                <time itemprop="dateCreated" datetime="2016-08-12T11:45:48-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I checked the logs /var/log/apache2/error_log and all I see in there is stuff about mod rewrite, nothing about phalcon. Is there another location that logs might be in?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38267" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38267" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38269" href="#C38269">
                <time itemprop="dateCreated" datetime="2016-08-12T12:08:37-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What is the error you're getting?  mod rewrite must be enabled for Phalcon to work properly.</p>
<p>I still am not convinced that find() will work with cache.  Is that somewhere in the docs?  find() is an ORM function that requires a database connections AFAIK.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38269" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38269" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38373" href="#C38373">
                <time itemprop="dateCreated" datetime="2016-08-15T07:57:24-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Mod rewrite IS enabled:</p>
<pre><code class="language-bash">$ sudo a2enmod rewrite
[sudo] password: 
Module rewrite already enabled</code></pre>
<p>Phalcon 3.0 supports model results caching, which is what I am trying to implement:</p>
<p><a href="https://docs.phalcon.io/en/latest/reference/cache.html">https://docs.phalcon.io/en/latest/reference/cache.html</a></p>
<p>Ordinarily I would look in /var/log/apache2/error_log for stuff involving that line but nothing is there except things about rewrite. And like I mentioned a simple find() works and the page displays so the problem isn't rewrite.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38373" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38373" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38377" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38377" href="#C38377">
                <time itemprop="dateCreated" datetime="2016-08-15T08:18:15-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>just do:</p>
<pre><code class="language-php">try {

}
catch (Exception $e) {
echo $e-&gt;getMessage()
}</code></pre>
<p>On your application or whatever which you are using or where you are doing this find with cache. For 100% you have some kind of error, like not running memcached or whatever or not installed php extension with memcache/memcached. There for 100% must be some log/exception, you can't just have error 500 because of nothing.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38377" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38377" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38383" href="#C38383">
                <time itemprop="dateCreated" datetime="2016-08-15T09:16:43-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>here is the output from the logs when I try to load the page:</p>
<pre><code class="language-bash">[Mon Aug 15 16:12:42.575828 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4660a0/initial] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/ -&gt; 
[Mon Aug 15 16:12:42.575853 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4660a0/initial] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] applying pattern '^$' to uri ''
[Mon Aug 15 16:12:42.575860 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4660a0/initial] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] rewrite '' -&gt; 'public/'
[Mon Aug 15 16:12:42.575864 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4660a0/initial] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] add per-dir prefix: public/ -&gt; /var/www/gote.tatonettilab.org/public_html/gote/public/
[Mon Aug 15 16:12:42.575869 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4660a0/initial] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip document_root prefix: /var/www/gote.tatonettilab.org/public_html/gote/public/ -&gt; /gote/public/
[Mon Aug 15 16:12:42.575885 2016] [rewrite:trace1] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4660a0/initial] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] internal redirect with /gote/public/ [INTERNAL REDIRECT]
[Mon Aug 15 16:12:42.575913 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/index.php -&gt; index.php
[Mon Aug 15 16:12:42.575918 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] applying pattern '^$' to uri 'index.php'
[Mon Aug 15 16:12:42.575921 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/index.php -&gt; index.php
[Mon Aug 15 16:12:42.575923 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] applying pattern '(.*)' to uri 'index.php'
[Mon Aug 15 16:12:42.575927 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] rewrite 'index.php' -&gt; 'public/index.php'
[Mon Aug 15 16:12:42.575931 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] add per-dir prefix: public/index.php -&gt; /var/www/gote.tatonettilab.org/public_html/gote/public/index.php
[Mon Aug 15 16:12:42.575934 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip document_root prefix: /var/www/gote.tatonettilab.org/public_html/gote/public/index.php -&gt; /gote/public/index.php
[Mon Aug 15 16:12:42.575938 2016] [rewrite:trace1] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4600a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] internal redirect with /gote/public/index.php [INTERNAL REDIRECT]
[Mon Aug 15 16:12:42.575951 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/index.html -&gt; index.html
[Mon Aug 15 16:12:42.575954 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] applying pattern '^$' to uri 'index.html'
[Mon Aug 15 16:12:42.575957 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/index.html -&gt; index.html
[Mon Aug 15 16:12:42.575964 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] applying pattern '(.*)' to uri 'index.html'
[Mon Aug 15 16:12:42.575967 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] rewrite 'index.html' -&gt; 'public/index.html'
[Mon Aug 15 16:12:42.575970 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] add per-dir prefix: public/index.html -&gt; /var/www/gote.tatonettilab.org/public_html/gote/public/index.html
[Mon Aug 15 16:12:42.575974 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] strip document_root prefix: /var/www/gote.tatonettilab.org/public_html/gote/public/index.html -&gt; /gote/public/index.html
[Mon Aug 15 16:12:42.575977 2016] [rewrite:trace1] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d45e0a0/subreq] [perdir /var/www/gote.tatonettilab.org/public_html/gote/] internal redirect with /gote/public/index.html [INTERNAL REDIRECT]
[Mon Aug 15 16:12:42.576037 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/public/index.html -&gt; index.html
[Mon Aug 15 16:12:42.576043 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] applying pattern '^(.*)$' to uri 'index.html'
[Mon Aug 15 16:12:42.576049 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] rewrite 'index.html' -&gt; 'index.php?_url=/index.html'
[Mon Aug 15 16:12:42.576053 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] split uri=index.php?_url=/index.html -&gt; uri=index.php, args=_url=/index.html
[Mon Aug 15 16:12:42.576056 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] add per-dir prefix: index.php -&gt; /var/www/gote.tatonettilab.org/public_html/gote/public/index.php
[Mon Aug 15 16:12:42.576059 2016] [rewrite:trace2] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] strip document_root prefix: /var/www/gote.tatonettilab.org/public_html/gote/public/index.php -&gt; /gote/public/index.php
[Mon Aug 15 16:12:42.576062 2016] [rewrite:trace1] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d4630e8/initial/redir#1] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] internal redirect with /gote/public/index.php [INTERNAL REDIRECT]
[Mon Aug 15 16:12:42.576085 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d481370/initial/redir#2] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] strip per-dir prefix: /var/www/gote.tatonettilab.org/public_html/gote/public/index.php -&gt; index.php
[Mon Aug 15 16:12:42.576089 2016] [rewrite:trace3] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d481370/initial/redir#2] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] applying pattern '^(.*)$' to uri 'index.php'
[Mon Aug 15 16:12:42.576094 2016] [rewrite:trace1] [pid 26861] mod_rewrite.c(468): [client 156.145.113.22:40485] 156.145.113.22 - - [gote.tatonettilab.org/sid#7f685d51ebd0][rid#7f685d481370/initial/redir#2] [perdir /var/www/gote.tatonettilab.org/public_html/gote/public/] pass through /var/www/gote.tatonettilab.org/public_html/gote/public/index.php</code></pre>
<p>I wrapped my code in a try block like you suggested and the 500 error is still happening and no output on the page from the echo in the catch block :(</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38383" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38383" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38385" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38385" href="#C38385">
                <time itemprop="dateCreated" datetime="2016-08-15T09:18:54-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Maybe you have something in dispatcher what is handling exceptions ? Some listener or something ? Post your whole application to github - otherwise we can't reproduce this or help. Or make script to reproduce issue.</p>
<p>But my possible guess and solution is this:</p>
<pre><code>pecl install memcache</code></pre>
<p>and restart your webserver</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38385" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38385" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38393" href="#C38393">
                <time itemprop="dateCreated" datetime="2016-08-15T10:34:13-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Aha! Memcache appears to have fixed the 500 error. Thanks for that!</p>
<p>But I am still not getting results, and no errors are being thrown in the logs anywhere. Here is the code:</p>
<p><a href="https://github.com/blm14/gote2">https://github.com/blm14/gote2</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38393" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38393" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38397" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38397" href="#C38397">
                <time itemprop="dateCreated" datetime="2016-08-15T11:06:32-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>But what is happening now ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38397" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38397" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38399" href="#C38399">
                <time itemprop="dateCreated" datetime="2016-08-15T12:18:19-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>just no results from find() and still no error messages in /var/log/apache2/error_log except for mod rewrite</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38399" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38399" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38403" href="#C38403">
                <time itemprop="dateCreated" datetime="2016-08-15T14:33:28-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>But maybe you have error messages in proper error file for vhost ? Check your apache config men.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38403" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38403" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38409" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38409" href="#C38409">
                <time itemprop="dateCreated" datetime="2016-08-15T15:39:55-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Not sure why you're overriding the find and findFirst methods in your model.  Try changing the names of these methods in your model &amp; see if it changes your results.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38409" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38409" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38411" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38411" href="#C38411">
                <time itemprop="dateCreated" datetime="2016-08-15T15:41:40-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">    /**
     * Allows to query a set of records that match the specified conditions
     *
     * @param mixed $parameters
     * @return GpcrDownstreamPathway[]
     */
    public static function findInModel($parameters = null)
    {
        return GpcrDownstreamPathway::find($parameters);
    }
    /**
     * Allows to query the first record that match the specified conditions
     *
     * @param mixed $parameters
     * @return GpcrDownstreamPathway
     */
    public static function findFirstInModel($parameters = null)
    {
        return GpcrDownstreamPathway::findFirst($parameters);
    }</code></pre>
<pre><code class="language-php">    public function indexAction()
    {
       //$pathways = GpcrDownstreamPathway::findInModel(array("parameters"=&gt;"GPCR_symbol = 'ACKR3'","limit"=&gt;"100"));   
        print("trying to pull");
    try{
        $pathways = GpcrDownstreamPathway::findInModel(
              array(
                "cache" =&gt; array(
                            "key" =&gt; "my-cache"
                            )
                   )
         );
                 print("success!");
        }catch(Phalcon\Exception $e){
                print("exception!");
        print $e-&gt;getMessage();
    }
    $this-&gt;view-&gt;pathways = $pathways;
    }</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38411" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38411" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38413" href="#C38413">
                <time itemprop="dateCreated" datetime="2016-08-15T15:46:59-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Actually, you don't necessarily need your model in this case unless you're doing some post-processing.  You could simplify to:</p>
<pre><code class="language-php">    $GDP = new GpcrDownstreamPathway();
    $pathways = $GDP-&gt;find([
        "cache" =&gt; [
            "key" =&gt; "my-cache"
        ]
    ]);

    if (!empty($pathways)) {
        return $pathways-&gt;toArray();
    }

    return false;</code></pre>
<p>But get rid of the find and findFirst methods in your GpcrDownstreamPathway class.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38413" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38413" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C38409"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Zach                    </a>
                </div><div class="posts-buttons" align="right"><a name="C38485" href="#C38485">
                <time itemprop="dateCreated" datetime="2016-08-16T08:37:49-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Not sure why you're overriding the find and findFirst methods in your model.  Try changing the names of these methods in your model &amp; see if it changes your results.</p>
</blockquote>
<p>I used phalcon-devtools to generate that model. It must have done that, I can't speak to why!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38485" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38485" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38487" href="#C38487">
                <time itemprop="dateCreated" datetime="2016-08-16T08:44:51-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I commented out those functions in the model and used the following code in IndexController:</p>
<pre><code class="language-php">    $GDP = new GpcrDownstreamPathway();
    $pathways = $GDP-&gt;find([
        "cache" =&gt; [
            "key" =&gt; "my-cache"
        ]
    ]);

    if (!empty($pathways)) {
        return $pathways-&gt;toArray();
    }

    return false;</code></pre>
<p>and now the page says:</p>
<pre><code class="language-bash">Cannot connect to Memcached server
#0 [internal function]: Phalcon\Cache\Backend\Memcache-&gt;_connect()
#1 [internal function]: Phalcon\Cache\Backend\Memcache-&gt;get('my-cache', 3600)
#2 [internal function]: Phalcon\Mvc\Model\Query-&gt;execute()
#3 /var/www/gote.tatonettilab.org/public_html/gote/app/controllers/IndexController.php(17): Phalcon\Mvc\Model::find(Array)
#4 [internal function]: IndexController-&gt;indexAction()
#5 [internal function]: Phalcon\Dispatcher-&gt;callActionMethod(Object(IndexController), 'indexAction', Array)
#6 [internal function]: Phalcon\Dispatcher-&gt;_dispatch()
#7 [internal function]: Phalcon\Dispatcher-&gt;dispatch()
#8 /var/www/gote.tatonettilab.org/public_html/gote/public/index.php(29): Phalcon\Mvc\Application-&gt;handle()
#9 {main}</code></pre>
<p>So it does look like some problem with memcache. But from phpinfo:</p>
<p>memcache</p>
<p>memcache support    enabled
Active persistent connections   0
Version 2.2.7
Revision    $Revision: 327750 $</p>
<p>Directive   Local Value Master Value
memcache.allow_failover 1   1
memcache.chunk_size 8192    8192
memcache.default_port   11211   11211
memcache.default_timeout_ms 1000    1000
memcache.hash_function  crc32   crc32
memcache.hash_strategy  standard    standard
memcache.max_failover_attempts  20  20</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38487" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38487" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38489" href="#C38489">
                <time itemprop="dateCreated" datetime="2016-08-16T08:57:27-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hrm, memcached wasn't installed. I did sudo apt-get install memcached and that error above went away. The query is still not working with either versions of the code and I am still not seeing any errors in the logs from phalcon :(</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38489" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38489" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38499" href="#C38499">
                <time itemprop="dateCreated" datetime="2016-08-16T10:09:13-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, good news. I set the php error log location in /etc/php5/apache2/php.ini and now I see phalcon php errors!</p>
<p>First I saw this:</p>
<p>Allowed memory size of 134217728 bytes exhausted (tried to allocate 32 bytes) in /var/www/gote.tatonettilab.org/public_html/gote/app/controllers/IndexController.php on line 38</p>
<p>So I increased the memory size from 128m to 512m in /etc/php5/apache2/php.ini and restarted apache.</p>
<p>Now I am seeing this:</p>
<pre><code class="language-bash">Failed storing data in memcached
#0 [internal function]: Phalcon\Cache\Backend\Memcache-&gt;save('my-cache', Object(Phalcon\Mvc\Model\Resultset\Simple), 3600)
#1 [internal function]: Phalcon\Mvc\Model\Query-&gt;execute()
#2 /var/www/gote.tatonettilab.org/public_html/gote/app/controllers/IndexController.php(22): Phalcon\Mvc\Model::find(Array)
#3 [internal function]: IndexController-&gt;indexAction()
#4 [internal function]: Phalcon\Dispatcher-&gt;callActionMethod(Object(IndexController), 'indexAction', Array)
#5 [internal function]: Phalcon\Dispatcher-&gt;_dispatch()
#6 [internal function]: Phalcon\Dispatcher-&gt;dispatch()
#7 /var/www/gote.tatonettilab.org/public_html/gote/public/index.php(29): Phalcon\Mvc\Application-&gt;handle()
#8 {main}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38499" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38499" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38509" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38509" href="#C38509">
                <time itemprop="dateCreated" datetime="2016-08-16T11:20:04-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What a hell, did you really have so big resultset or what ? ;o What phalcon version and php version you are using ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38509" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38509" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38527" href="#C38527">
                <time itemprop="dateCreated" datetime="2016-08-16T12:09:04-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-sql">mysql&gt; SELECT (data_length+index_length)/power(1024,2) tablesize_mb FROM information_schema.tables WHERE table_schema='gote' and table_name='GPCR_downstream_pathway';
+--------------+
| tablesize_mb |
+--------------+
|     9.515625 |
+--------------+
1 row in set (0.00 sec)

mysql&gt; select count(1) from gote.GPCR_downstream_pathway;
+----------+
| count(1) |
+----------+
|    65534 |
+----------+
1 row in set (0.01 sec)</code></pre>
<p>Doesn't seem too terrible...</p>
<pre><code class="language-bash">$ php -v
PHP 5.5.9-1ubuntu4.19 (cli) (built: Jul 28 2016 19:31:33) 
Copyright (c) 1997-2014 The PHP Group
Zend Engine v2.5.0, Copyright (c) 1998-2014 Zend Technologies
    with Zend OPcache v7.0.3, Copyright (c) 1999-2014, by Zend Technologies</code></pre>
<p>from phpinfo():</p>
<pre><code class="language-bash">Web framework delivered as a C-extension for PHP
phalcon =&gt; enabled
Author =&gt; Phalcon Team and contributors
Version =&gt; 3.0.0
Build Date =&gt; Aug 11 2016 15:43:28
Powered by Zephir =&gt; Version 0.9.3a-dev-e716dbe641</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38527" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38527" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38531" href="#C38531">
                <time itemprop="dateCreated" datetime="2016-08-16T12:55:39-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Phalcon is also compiled and also stored in memory... I've seen that error before caching large sets of json (~30M).</p>
<p>If I were you, I would start simple.  Try caching a string, then try caching the response from a query, then try caching the query, itself like you're trying to do now.  It would seem to me there's something wrong with your memcache setup.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38531" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38531" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38533" href="#C38533">
                <time itemprop="dateCreated" datetime="2016-08-16T13:52:29-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Do you mean try caching a string using phalcon? Or directly using memcached? I don't know how to cache a string using phalcon...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38533" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38533" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38539" href="#C38539">
                <time itemprop="dateCreated" datetime="2016-08-16T14:54:06-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>My first comment outlines how to cache using Phalcon.  I'm not 100% if this method has changed in Phalcon 3, but it worked in 2.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38539" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38539" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38609" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38609" href="#C38609">
                <time itemprop="dateCreated" datetime="2016-08-17T08:20:05-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, so here is what I have now:</p>
<p>services.php</p>
<pre><code class="language-php">// Set the models cache service
$di-&gt;set('modelsCache', function () {

    // Cache data for one day by default
    $frontCache = new FrontendData(
        array(
            "lifetime" =&gt; 86400
        )
    );

    // Memcached connection settings
    $cache = new BackendMemcache(
        $frontCache,
        array(
            "host" =&gt; "localhost",
            "port" =&gt; "11211"
        )
    );

    return $cache;
});</code></pre>
<p>This is the entire content of IndexController's indexAction():</p>
<pre><code class="language-php">        print("trying to save");

        $cache = $this-&gt;getDi()-&gt;getShared('modelsCache');
        $cache-&gt;save($key,$data,300); //300 is the time to save        

        print('saved!');
        print('trying to retrieve');
        $cache = $this-&gt;getDi()-&gt;getShared('modelsCache');
        $data = $cache-&gt;get($key);

        print('done!');</code></pre>
<p>and here is the output:</p>
<pre><code class="language-bash">trying to saveCache must be started first
#0 /var/www/gote.tatonettilab.org/public_html/gote/app/controllers/IndexController.php(15): Phalcon\Cache\Backend\Memcache-&gt;save(NULL, NULL, 300)
#1 [internal function]: IndexController-&gt;indexAction()
#2 [internal function]: Phalcon\Dispatcher-&gt;callActionMethod(Object(IndexController), 'indexAction', Array)
#3 [internal function]: Phalcon\Dispatcher-&gt;_dispatch()
#4 [internal function]: Phalcon\Dispatcher-&gt;dispatch()
#5 /var/www/gote.tatonettilab.org/public_html/gote/public/index.php(29): Phalcon\Mvc\Application-&gt;handle()
#6 {main}</code></pre>
<p>What is &quot;cache must be started first&quot; ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38609" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38609" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38615" href="#C38615">
                <time itemprop="dateCreated" datetime="2016-08-17T08:38:40-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The values of $key and $data are null.  The $key should be &quot;my-cache&quot; per your above comments.  The $data is the data you want to save.  At this point, I would say $data = &quot;Testing cache&quot;; or something like that.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38615" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38615" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38617" href="#C38617">
                <time itemprop="dateCreated" datetime="2016-08-17T09:15:09-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, that worked. Now when I try to go back to my original code it is throwing yet a NEW exception:</p>
<pre><code class="language-bash">Cache didn't return a valid resultset
#0 [internal function]: Phalcon\Mvc\Model\Query-&gt;execute()
#1 /var/www/gote.tatonettilab.org/public_html/gote/app/controllers/IndexController.php(56): Phalcon\Mvc\Model::find(Array)
#2 [internal function]: IndexController-&gt;indexAction()
#3 [internal function]: Phalcon\Dispatcher-&gt;callActionMethod(Object(IndexController), 'indexAction', Array)
#4 [internal function]: Phalcon\Dispatcher-&gt;_dispatch()
#5 [internal function]: Phalcon\Dispatcher-&gt;dispatch()
#6 /var/www/gote.tatonettilab.org/public_html/gote/public/index.php(29): Phalcon\Mvc\Application-&gt;handle()
#7 {main}</code></pre>
<p>code is just this:</p>
<pre><code class="language-php">            $pathways = GpcrDownstreamPathway::find(
                array(
                    "cache" =&gt; array(
                        "key" =&gt; "my-cache"
                    )
                )
            );
            $this-&gt;view-&gt;pathways = $pathways;
            echo("success!");</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38617" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38617" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38619" href="#C38619">
                <time itemprop="dateCreated" datetime="2016-08-17T09:47:06-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What you are trying to do ? Looks like you are trying to save content of view to cache somewhere and then trying to use this key in find method which obviously won't work.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38619" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38619" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38627" href="#C38627">
                <time itemprop="dateCreated" datetime="2016-08-17T11:40:26-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ahhhh, so finally we find the real issue. User error! :(</p>
<p>I am trying to first a) query model, b) cache results, c) return results to view.</p>
<p>Probably what I SHOULD be doing is: check to see if results are in cache and if so, return them, otherwise run query, stick results in cache, and then return results. No clue how to do that though. Sorry for being such a n00b!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38627" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38627" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38631" href="#C38631">
                <time itemprop="dateCreated" datetime="2016-08-17T12:07:22-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What you're describing is what I've outlined in my second response.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38631" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38631" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38639" href="#C38639">
                <time itemprop="dateCreated" datetime="2016-08-17T13:21:37-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I really feel like I am missing something obvious here. Saving just strings into the cache worked. Here is my current code block from the controller:</p>
<pre><code class="language-php">        $cachekey = "my-cache";
        $cache = $this-&gt;di-&gt;getShared("modelsCache");

        $pathways = $cache-&gt;get($cachekey);

        echo("pathways = ".$pathways.'&lt;BR&gt;');

        if($pathways == null){
            $pathways = GpcrDownstreamPathway::find();
        }

        $cache-&gt;save($cachekey,$pathways);

        $this-&gt;view-&gt;pathways = $pathways;</code></pre>
<p>and I am still getting this:</p>
<pre><code class="language-bash">pathways = 
Failed storing data in memcached
#0 /var/www/gote.tatonettilab.org/public_html/gote/app/controllers/IndexController.php(20): Phalcon\Cache\Backend\Memcache-&gt;save('my-cache', Object(Phalcon\Mvc\Model\Resultset\Simple))
#1 [internal function]: IndexController-&gt;indexAction()
#2 [internal function]: Phalcon\Dispatcher-&gt;callActionMethod(Object(IndexController), 'indexAction', Array)
#3 [internal function]: Phalcon\Dispatcher-&gt;_dispatch()
#4 [internal function]: Phalcon\Dispatcher-&gt;dispatch()
#5 /var/www/gote.tatonettilab.org/public_html/gote/public/index.php(29): Phalcon\Mvc\Application-&gt;handle()
#6 {main}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38639" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38639" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38641" href="#C38641">
                <time itemprop="dateCreated" datetime="2016-08-17T13:37:34-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>As i wrote earlier - i guess that this data is just too much for saving for some reason. Can you for instance check if you can save some smaller portion of data ? :D</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38641" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38641" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38643" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38643" href="#C38643">
                <time itemprop="dateCreated" datetime="2016-08-17T14:08:28-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">        $cachekey = "my-cache";
        $cache = $this-&gt;di-&gt;getShared("modelsCache");

        $pathways = $cache-&gt;get($cachekey);

        echo("pathways = ".$pathways.'&lt;BR&gt;');

        if(empy($pathways)){
            $pathways = GpcrDownstreamPathway::find();
        }

        $cache-&gt;save($cachekey,$pathways-&gt;toArray());

        $this-&gt;view-&gt;pathways = $pathways;</code></pre>
<p>The problem is you're caching the collection object and those can be huge.  If you want to simply cache the data, -&gt;toArray() will give you the data plus any relations you've defined.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38643" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38643" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38645" href="#C38645">
                <time itemprop="dateCreated" datetime="2016-08-17T14:08:56-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yup! Adding array(&quot;limit&quot;=&gt;&quot;100&quot;) as a parameter inside find() and it works. So the question is how can I cache the entire table? Use disk instead of memcached? Or will that be just as slow? :(</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38645" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38645" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/82140260df942005abbc598cbba6c688?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1720/blm14" class="user-moderator-N"><span itemprop="name">blm14</span></a>        </span>
        <br>

        <span class="karma">40.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C38647" href="#C38647">
                <time itemprop="dateCreated" datetime="2016-08-17T14:12:10-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hrm, memcached.conf has a 64 meg limit. Let's try increasing that, shall we!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38647" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38647" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="38649" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '16</span>
              </span><br/><a name="C38649" href="#C38649">
                <time itemprop="dateCreated" datetime="2016-08-17T14:15:40-07:00" class="action-date">Aug '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>But it's kind of problem, i don't know why this is so much space. Maybe try to cache just array(<code>toArray</code> method), and get this array to display your self(instead of using cache keyword just save and get it yourself in cache) intead of full objects ? Also did you really need all columns in this resultset ? Are you displaying them all in view ?</p>
<p>Perhaps you can even compress this further using <code>json_encode+gzcompress</code> maybe ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="38649" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="38649" data-cf-modified-10c78a04ce16ea8b82645541-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="12687" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>