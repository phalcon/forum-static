---
layout: default
title: 'How to load from another module to another in HMVC? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to load from another module to another in HMVC?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/10285/reanx" class="user-moderator-N"><span itemprop="name">rean</span></a></span>
            <time itemprop="dateCreated" datetime="2017-10-17T07:11:58-07:00">Oct '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-10-17T07:11:58-07:00">Oct '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">5</span>
                </td>
                <td>
                    <label>Views</label><br>1565</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/0b2b2e6b1c1db0dbd5e0357d9f1e771b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/10285/reanx" class="user-moderator-N"><span itemprop="name">rean</span></a></span>
                <span class="karma">2.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17119" href="#C17119">
        <time class="action-date">Oct '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,</p>
<p>I've been working on a CRM like application. I'm using HMVC pattern to separate the modules. I have a need to call models across the system from different modules. When I call a model from a controller which is belongs to the same module it's loading but when I call from another module it's giving a <strong>Fatal Error</strong> is there any limitation on this or am I doing it wrong.</p>
<p>Namespaces are correct, double checked on them.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-087758c89b6610482c95f569-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-087758c89b6610482c95f569-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51601" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51601" href="#C51601">
                <time itemprop="dateCreated" datetime="2017-10-17T07:49:01-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Just register all models(and other common classes) outside of modules. Like before registering modules etc.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51601" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51601" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0b2b2e6b1c1db0dbd5e0357d9f1e771b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10285/reanx" class="user-moderator-N"><span itemprop="name">rean</span></a>        </span>
        <br>

        <span class="karma">2.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51603" href="#C51603">
                <time itemprop="dateCreated" datetime="2017-10-17T07:54:19-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Can't we keep models separatly under the respective module directory?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51603" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51603" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51605" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51605" href="#C51605">
                <time itemprop="dateCreated" datetime="2017-10-17T07:56:23-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You can still keep them seperately under respective module directory. Just register them outside:</p>
<pre><code class="language-php">$modules = $application-&gt;getModules();
 foreach ($modules as $key =&gt; $value) {
        $module = ucfirst($key);
        $namespaces += ["Suzuki\\Module\\{$module}\\Model" =&gt; "../Module/{$module}/Model"];
        if ($module != 'Error') {
            $routeClasses += ["Suzuki\\Module\\{$module}\\Routes" =&gt; "../Module/{$module}/Routes.php"];
            $namespaces += ["Suzuki\\Module\\{$module}\\Repository" =&gt; "../Module/{$module}/Repository"];
        }
    }

$loader-&gt;registerNamespaces($namespaces);
$loader-&gt;registerClasses($routeClasses);
$loader-&gt;register();</code></pre>
<p>Example of code from my app.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51605" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51605" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0b2b2e6b1c1db0dbd5e0357d9f1e771b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10285/reanx" class="user-moderator-N"><span itemprop="name">rean</span></a>        </span>
        <br>

        <span class="karma">2.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51611" href="#C51611">
                <time itemprop="dateCreated" datetime="2017-10-17T09:19:15-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for the reply.</p>
<p>I'm registering all the modules on the loader. So I thought namespaces will be registered at that point. If there any way to dynamic module registration?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51611" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51611" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51613" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51613" href="#C51613">
                <time itemprop="dateCreated" datetime="2017-10-17T09:23:05-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No, namespaces of each module are registered only when this module is used by dispatcher. When router will return route using ABC module then dispatcher will actually use this module and call $module-&gt;registerNamespaces etc. Methods like <code>Module::registerNamespaces</code> are not called when doing <code>$application-&gt;registerModules()</code></p>
<p>Yea there is - use DirectoryIterator class.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51613" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51613" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0b2b2e6b1c1db0dbd5e0357d9f1e771b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10285/reanx" class="user-moderator-N"><span itemprop="name">rean</span></a>        </span>
        <br>

        <span class="karma">2.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51615" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51615" href="#C51615">
                <time itemprop="dateCreated" datetime="2017-10-17T09:25:50-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I do implemented this method <strong>registerAutoloaders</strong> and registering under all of my Module.php and registering the namespaces there. Is there any way to trigger these.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51615" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51615" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51619" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51619" href="#C51619">
                <time itemprop="dateCreated" datetime="2017-10-17T12:08:36-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>They are triggered when the module is used by dispatcher as i wrote above, like if router resolves your url to route using this module then dispatcher will call those methods <strong>NOT WHEN</strong> using <code>$application-&gt;regsiterModules</code>. Just think about method registerNamespaces in your module as namespaces for only this module and that's it. If you need any other namespace to be used across modules just register them seprately in some bootstrap file.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51619" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51619" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9e1c5bd78d3f9effcddef4e8138ca5b1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10201/elephpantech" class="user-moderator-N"><span itemprop="name">elephpantech</span></a>        </span>
        <br>

        <span class="karma">116</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51667" href="#C51667">
                <time itemprop="dateCreated" datetime="2017-10-20T06:22:33-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Why you no use sub controllers: <a href="https://github.com/phalcon/mvc/tree/master/simple-subcontrollers">https://github.com/phalcon/mvc/tree/master/simple-subcontrollers</a></p>
<p>I use this instead Modules:</p>
<ul>
<li>Controllers independent</li>
<li>ControllerBase shared</li>
<li>Forms independent</li>
<li>FormsBase shared</li>
<li>Views independent</li>
<li>Main layout shared</li>
<li>Models shared</li>
</ul></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51667" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51667" data-cf-modified-087758c89b6610482c95f569-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17119" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>