---
layout: default
title: '/public/folder protected? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/16/security">Security</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">/public/folder protected?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/4357/GunslerRage" class="user-moderator-N"><span itemprop="name">GunslerRage</span></a></span>
            <time itemprop="dateCreated" datetime="2019-02-26T13:37:18-07:00">Feb '19</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2019-02-26T13:37:18-07:00">Feb '19</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Feb '19</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>332</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/d90f9c7fe35e5f94eb6712df52bf3bb9?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/4357/GunslerRage" class="user-moderator-N"><span itemprop="name">GunslerRage</span></a></span>
                <span class="karma">40.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C19435" href="#C19435">
        <time class="action-date">Feb '19</time>
    </a>
</div>
<div class="post-content"><div><p>Hello.</p>
<p>Is there a way to make a folder inside &quot;/public/users/&quot; only visible for users that are logged in?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-d66e55408d24e1d727919f23-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-d66e55408d24e1d727919f23-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8c47c78cc0f15ab87de471c1724086b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4825/challet" class="user-moderator-N"><span itemprop="name">Clément Hallet</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C59113" href="#C59113">
                <time itemprop="dateCreated" datetime="2019-02-26T14:18:35-07:00" class="action-date">Feb '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>If they are binary files directly read by the web server, without Phalcon handling, my guess is that there isn't a way.
I'm not sure about binary stream handling through the framework, if so you could pull them out <em>/public</em> and serve them through a controller.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="59113" data-cf-modified-d66e55408d24e1d727919f23-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="59113" data-cf-modified-d66e55408d24e1d727919f23-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="59127" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '19</span>
              </span><br/><a name="C59127" href="#C59127">
                <time itemprop="dateCreated" datetime="2019-02-27T03:26:02-07:00" class="action-date">Feb '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Clément Hallet already provided a good answer. </p>
<p>Just to elaborate a bit over the idea.
What files are behind that directory? Static files such as PDF? You can simply put an empty index.html file in that dir, and serve proper file(s) from your app - e.g. by reading a file from that dir and sending it as a buffered data to the authenticated client(s), from PHP side, that's Phalcon in your case.</p>
<p>Of course, that is slower than letting web server do the job but easier to implement from the app's perspective.</p>
<p>Actually, with this approach you don't even have to put your files inside of a <code>public</code> dir, it could be anywhere on the file system as your app will be only one accessing it as a middle layer between clients and physical files, bypassing web server completely.</p>
<p>But. If your files are heavy and you have a lot of traffic etc. I'd go for a better approach - with nginx:
<a href="https://docs.nginx.com/nginx/admin-guide/security-controls/configuring-subrequest-authentication/">https://docs.nginx.com/nginx/admin-guide/security-controls/configuring-subrequest-authentication/</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="59127" data-cf-modified-d66e55408d24e1d727919f23-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="59127" data-cf-modified-d66e55408d24e1d727919f23-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="19435" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>