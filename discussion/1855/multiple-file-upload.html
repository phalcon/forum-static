---
layout: default
title: 'Multiple file upload - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/26/http-environment">HTTP Environment</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Multiple file upload</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1158/anishpsla" class="user-moderator-N"><span itemprop="name">Anish</span></a></span>
            <time itemprop="dateCreated" datetime="2014-03-20T09:58:32-07:00">Mar '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-03-20T09:58:32-07:00">Mar '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">6</span>
                </td>
                <td>
                    <label>Views</label><br>2719</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/d128e66901bc265eee07532478ada444?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1158/anishpsla" class="user-moderator-N"><span itemprop="name">Anish</span></a></span>
                <span class="karma">24.2k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1855" href="#C1855">
        <time class="action-date">Mar '14</time>
    </a>
</div>
<div class="post-content"><div><p>I want to upload to file in the process of a registration. There two file uploads named 'Photo' and 'Signature'. I want to upload the file with custom name in different folders. I search a lot but i can't file code.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1fcf827b80188a603d1a52b9c8f8c859?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/940/jymboche" class="user-moderator-N"><span itemprop="name">jymboche</span></a>        </span>
        <br>

        <span class="karma">16.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6420" href="#C6420">
                <time itemprop="dateCreated" datetime="2014-03-20T15:23:46-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This is a pretty general question, but basically you will want to create two file fields using Phalcon\Tag, then check for files using Phalcon\Http\Request\File. Also make sure your 'enctype' in your form tag is &quot;multipart/form-data&quot;</p>
<p>In your form:</p>
<pre><code class="language-php">echo $this-&gt;tag-&gt;fileField('my_file');
echo $this-&gt;tag-&gt;fileField('my_file2');</code></pre>
<p>Then in your controller where you $_POST your form to, something like this:</p>
<pre><code class="language-php">if ($this-&gt;request-&gt;hasFiles() == true) {
    foreach ($this-&gt;request-&gt;getUploadedFiles() as $upload) {
            $path = '/my/uploads/dir/' . $upload-&gt;getName();
            $upload-&gt;moveTo($path);
    }
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6420" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6420" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d128e66901bc265eee07532478ada444?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1158/anishpsla" class="user-moderator-N"><span itemprop="name">Anish</span></a>        </span>
        <br>

        <span class="karma">24.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6426" href="#C6426">
                <time itemprop="dateCreated" datetime="2014-03-21T00:07:41-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for your quick reply. But I want to move each file on seperate folder and update file name to table.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6426" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6426" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6464" href="#C6464">
                <time itemprop="dateCreated" datetime="2014-03-22T16:58:02-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What you're asking is basically for code to do the whole upload process.  That process involves lots of different aspects.  Do a Google search for &quot;PHP file upload&quot; to get the basic process down.  Then post questions about particular functionality.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6464" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6464" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d128e66901bc265eee07532478ada444?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1158/anishpsla" class="user-moderator-N"><span itemprop="name">Anish</span></a>        </span>
        <br>

        <span class="karma">24.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6528" href="#C6528">
                <time itemprop="dateCreated" datetime="2014-03-25T00:13:50-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I want to know Phalcon PHP's way to do this. I can google for Native PHP's way to upload multiple files.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6528" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6528" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6540" href="#C6540">
                <time itemprop="dateCreated" datetime="2014-03-25T07:56:55-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Phalcon doesn't have any special functionality for moving files around on the server.</p>
<p>Updating a file name in a table is simply done with PHQL or ORM - both of which are mentioned in the docs.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6540" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6540" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d128e66901bc265eee07532478ada444?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1158/anishpsla" class="user-moderator-N"><span itemprop="name">Anish</span></a>        </span>
        <br>

        <span class="karma">24.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6771" href="#C6771">
                <time itemprop="dateCreated" datetime="2014-04-02T02:29:36-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Tanks for help from all experts. Finally, I got solution</p>
<p>move_uploaded_file($_FILES['signature']['tmp_name'], 'files/signature/');</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6771" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6771" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/61c4558a221ab99cce884511fbaefccf?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10531/nguyendaivu" class="user-moderator-N"><span itemprop="name">nguyendaivu</span></a>        </span>
        <br>

        <span class="karma">104</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="52823" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '17</span>
              </span><br/><a name="C52823" href="#C52823">
                <time itemprop="dateCreated" datetime="2017-12-09T04:20:23-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">if ($this-&gt;request-&gt;hasFiles() == true) {
    foreach ($this-&gt;request-&gt;getUploadedFiles() as $upload) {
            if ($file-&gt;getKey() =='my_file')
                $path = '/my/uploads/dir1/' . $upload-&gt;getName();
            if ($file-&gt;getKey() =='my_file2')
                $path = '/my/uploads/dir2/' . $upload-&gt;getName();
            $upload-&gt;moveTo($path);
    }
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52823" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52823" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/61c4558a221ab99cce884511fbaefccf?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10531/nguyendaivu" class="user-moderator-N"><span itemprop="name">nguyendaivu</span></a>        </span>
        <br>

        <span class="karma">104</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C52825" href="#C52825">
                <time itemprop="dateCreated" datetime="2017-12-09T04:22:08-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>$file-&gt;getKey() </p>
<p><a href="https://olddocs.phalcon.io/en/3.0.0/api/Phalcon_Http_Request_File.html">https://olddocs.phalcon.io/en/3.0.0/api/Phalcon_Http_Request_File.html</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52825" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52825" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C52863" href="#C52863">
                <time itemprop="dateCreated" datetime="2017-12-11T08:51:58-07:00" class="action-date">Dec '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This thread is 3 years old and marked as already solved.  Further responses aren't needed.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="52863" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="52863" data-cf-modified-0083921b7807e24ce9d9ad7e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1855" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>