---
layout: default
title: 'populate two collection in mongodb - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">populate two collection in mongodb</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/5223/luckyfor" class="user-moderator-N"><span itemprop="name">luckyfor</span></a></span>
            <time itemprop="dateCreated" datetime="2015-10-16T19:18:27-07:00">Oct '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-10-16T19:18:27-07:00">Oct '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>886</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/e9c2a6c1815e2b7417128acf8f7cb032?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/5223/luckyfor" class="user-moderator-N"><span itemprop="name">luckyfor</span></a></span>
                <span class="karma">1.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C9009" href="#C9009">
        <time class="action-date">Oct '15</time>
    </a>
</div>
<div class="post-content"><div><p>I have two collection is :</p>
<p>//collection Logs</p>
<blockquote>
<pre><code>+--------+-----+
|  user  | content
+--------+-----+
|  user1 | content 1
|  user1 | content 2
|  user3 | content 3
+----+-----+</code></pre>
</blockquote>
<p>// collection Account</p>
<blockquote>
<pre><code>+--------+-----+
|  user  | avatar
+--------+-----+
|  user1 | default.jpg   
|  user2 | user2.jpg
|  user3 | default.jpg
+----+-----+</code></pre>
</blockquote>
<p>When i use logs::find() how to i can get 'avatar' of user from collection Account,
Thanks</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-719a2d2f09640cd05b57469f-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-719a2d2f09640cd05b57469f-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2c44781f8ecbd9419037fc5845c328d7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1259/tigerstrikemedia" class="user-moderator-N"><span itemprop="name">Ben</span></a>        </span>
        <br>

        <span class="karma">2.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C24675" href="#C24675">
                <time itemprop="dateCreated" datetime="2015-10-18T23:09:02-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You should be able to find the relevant account using something like this:</p>
<pre><code class="language-php">$logs = logs::find()

foreach( $logs as $log ){

    $account = Account::find( [
        [ 'user' =&gt; $log-&gt;user  ]
    ] );

    // You can now access $account-&gt;avatar

}</code></pre>
<p>If this is going to be something that is access frequently in your application you should also ensure that user is an index in your mongo DB and perhaps even look at some sort of caching solution.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24675" data-cf-modified-719a2d2f09640cd05b57469f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24675" data-cf-modified-719a2d2f09640cd05b57469f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e9c2a6c1815e2b7417128acf8f7cb032?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5223/luckyfor" class="user-moderator-N"><span itemprop="name">luckyfor</span></a>        </span>
        <br>

        <span class="karma">1.5k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C24675"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/2c44781f8ecbd9419037fc5845c328d7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Ben                    </a>
                </div><div class="posts-buttons" align="right"><a name="C24677" href="#C24677">
                <time itemprop="dateCreated" datetime="2015-10-19T00:16:28-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>You should be able to find the relevant account using something like this:</p>
<pre><code class="language-php">$logs = logs::find()

foreach( $logs as $log ){

  $account = Account::find( [
      [ 'user' =&gt; $log-&gt;user  ]
  ] );

  // You can now access $account-&gt;avatar

}</code></pre>
<p>If this is going to be something that is access frequently in your application you should also ensure that user is an index in your mongo DB and perhaps even look at some sort of caching solution.</p>
</blockquote>
<p>Thanks sir, but you have any way better..
Why we don't left join as mysql</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24677" data-cf-modified-719a2d2f09640cd05b57469f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24677" data-cf-modified-719a2d2f09640cd05b57469f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2c44781f8ecbd9419037fc5845c328d7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1259/tigerstrikemedia" class="user-moderator-N"><span itemprop="name">Ben</span></a>        </span>
        <br>

        <span class="karma">2.5k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C24677"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/e9c2a6c1815e2b7417128acf8f7cb032?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        luckyfor                    </a>
                </div><div class="posts-buttons" align="right"><a name="C24691" href="#C24691">
                <time itemprop="dateCreated" datetime="2015-10-19T01:32:34-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Thanks sir, but you have any way better..
Why we don't left join as mysql</p>
</blockquote>
<p>Mongo doesn't support joins as each collection its a whole document. Pulling pieces from each row such as a relational database defeats the purpose of using a noSQL database.</p>
<p>From the document here <a href="https://docs.mongodb.org/ecosystem/tutorial/model-data-for-ruby-on-rails/"><a href="https://docs.mongodb.org/ecosystem/tutorial/model-data-for-ruby-on-rails/">https://docs.mongodb.org/ecosystem/tutorial/model-data-for-ruby-on-rails/</a></a></p>
<blockquote>
<p>bear in mind that MongoDB collections are not equivalent to relational tables; each serves a unique design objective. A normalized table provides an atomic, isolated chunk of data. A document, however, more closely represents an object as a whole.</p>
</blockquote>
<p>Cheers
Ben</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="24691" data-cf-modified-719a2d2f09640cd05b57469f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="24691" data-cf-modified-719a2d2f09640cd05b57469f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="9009" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>