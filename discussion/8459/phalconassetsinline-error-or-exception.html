---
layout: default
title: 'phalcon/assets/inline error or exception - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">phalcon/assets/inline error or exception</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/2638/OpenEX" class="user-moderator-N"><span itemprop="name">OpenEX</span></a></span>
            <time itemprop="dateCreated" datetime="2015-09-10T03:02:21-07:00">Sep '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-09-10T03:02:21-07:00">Sep '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Sep '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>409</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7d07df1c3468ad43eaeaaf58e2623676?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/2638/OpenEX" class="user-moderator-N"><span itemprop="name">OpenEX</span></a></span>
                <span class="karma">9.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C8459" href="#C8459">
        <time class="action-date">Sep '15</time>
    </a>
</div>
<div class="post-content"><div><p>I am learning now and found that when i do this (my code doesn't look good i assume)</p>
<pre><code class="language-php">$this-&gt;assets-&gt;addInlineCodeByType(new \Phalcon\Assets\Inline("test", '&lt;h1&gt;a1&lt;/h1&gt;'), 'js')</code></pre>
<p>i get error:</p>
<pre><code>Catchable fatal error: Argument 2 passed to Phalcon\Assets\Manager::addInlineCodeByType() must be an instance of Phalcon\Assets\Inline, string given in</code></pre>
<p>But with this (it's ridicolous i know)</p>
<pre><code class="language-php">$this-&gt;assets-&gt;addInlineCodeByType(new \Phalcon\Assets\Inline("test", '&lt;h1&gt;a1&lt;/h1&gt;'), new \Phalcon\Assets\Inline("test", '&lt;h1&gt;a1&lt;/h1&gt;'))</code></pre>
<p>i get:</p>
<pre><code>Exception</code></pre>
<p>i guess Parameter 'type' must be a string        </p>
<p>Specs:</p>
<pre><code class="language-php">addInlineCodeByType (unknown $type, unknown $code)</code></pre>
<p>Edited: wrong title of this topic i see.         </p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-e23c3386cf9bee4e754c880c-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-e23c3386cf9bee4e754c880c-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/660e8c9b157b0029b6e0ba24c0ea3eba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4363/lajosbencz" class="user-moderator-N"><span itemprop="name">Lajos Bencz</span></a>        </span>
        <br>

        <span class="karma">77.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C23161" href="#C23161">
                <time itemprop="dateCreated" datetime="2015-09-10T11:26:57-07:00" class="action-date">Sep '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Are you using <code>test</code> for the real code?</p>
<p>I think it only accepts <code>js</code> or <code>css</code>: <a href="https://github.com/phalcon/cphalcon/tree/2.0.x/phalcon/assets/inline">https://github.com/phalcon/cphalcon/tree/2.0.x/phalcon/assets/inline</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="23161" data-cf-modified-e23c3386cf9bee4e754c880c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="23161" data-cf-modified-e23c3386cf9bee4e754c880c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7d07df1c3468ad43eaeaaf58e2623676?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2638/OpenEX" class="user-moderator-N"><span itemprop="name">OpenEX</span></a>        </span>
        <br>

        <span class="karma">9.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="23165" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '15</span>
              </span><br/><a name="C23165" href="#C23165">
                <time itemprop="dateCreated" datetime="2015-09-10T13:32:30-07:00" class="action-date">Sep '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for your reply Lajos.
Finally i found a good starting point for non js / css assets (i am at the beginning) and have dillemma over another approach in less framework way using macros. The underlaying thing is trying not to load another classess but to use pure framework.
So the starting more acceptable way:
backend:</p>
<pre><code class="language-php">
$this-&gt;assets-&gt;addInlineCodeByType('aaa', new \Phalcon\Assets\Inline('test', 'some text html &lt;b&gt;asdf&lt;/b&gt;'));
</code></pre>
<p>in volt</p>
<pre><code class="language-php">
{% raw %}{{{% endraw %}assets.outputInline(assets.collection('aaa'), 'js'){% raw %}}}{% endraw %}
</code></pre>
<p>another approach for pseudo assets (html snippets/ boxes) (not polished yet)
backend in controller base file:</p>
<pre><code class="language-php">    protected function addHtml($name="default", $html, $subposition=10, $priority=100) {

        if ($name===null) $name="default";

        if (!isset($this-&gt;htmlassets[$name])) $this-&gt;htmlassets[$name]=array();
        if (!isset($this-&gt;htmlassets[$name][$subposition])) $this-&gt;htmlassets[$name][$subposition] = array();
        if (!isset($this-&gt;htmlassets[$name][$subposition][$priority])) $this-&gt;htmlassets[$name][$subposition][$priority] = array();

        $this-&gt;htmlassets[$name][$subposition][$priority][]=$html;
        /*echo "&lt;pre&gt;";
        print_r($this-&gt;htmlassets);
        echo "&lt;/pre&gt;";
        ob_flush();*/

    }
</code></pre>
<p>then volt macro:</p>
<pre><code class="language-php">{% raw %}{%{% endraw %}- macro boxes(params) {% raw %}%}{% endraw %}a
{#
for cache purposes all data should be easily serializable
params unnamed [0,1,2,3]
1. name - boxes by name
2. items array[boxnameorid] = 
            array of subpositions array[int boxnameorid][1] (10 should be default)
            where in each position
            array of items or array of items rendered in a tree order (site has a parent with inherited boxes) already sorted out according to their priority.

3. optional mode - "edit"
4. optional style_id - basically in what each element it is wrapped
2. optional ["t"]: translation object (for example for edit interface)
#}
{% raw %}{%{% endraw %} for position_id, subpositionarray in params[1][params[0]]|sort {% raw %}%}{% endraw %}
&lt;div&gt;{% raw %}{{{% endraw %}position_id{% raw %}}}{% endraw %}
    {% raw %}{%{% endraw %} for priority, priorityarray in subpositionarray|sort {% raw %}%}{% endraw %} 
    &lt;div&gt;{% raw %}{{{% endraw %}priority{% raw %}}}{% endraw %}
        {% raw %}{%{% endraw %} for html in priorityarray {% raw %}%}{% endraw %} 
            &lt;div&gt;{% raw %}{{{% endraw %}html{% raw %}}}{% endraw %}&lt;/div&gt;
        {% raw %}{%{% endraw %} endfor {% raw %}%}{% endraw %}
    &lt;/div&gt;    
    {% raw %}{%{% endraw %} endfor {% raw %}%}{% endraw %}
&lt;/div&gt;   
{% raw %}{%{% endraw %} endfor {% raw %}%}{% endraw %}

{% raw %}{%{% endraw %}- endmacro {% raw %}%}{% endraw %}
</code></pre>
<p>then in template/layout</p>
<pre><code class="language-php">{% raw %}{{{% endraw %}boxes(["default", htmlassets, front_end_edit, t]){% raw %}}}{% endraw %}</code></pre>
<p>then domewhere in the backend</p>
<pre><code class="language-php">        $this-&gt;addHtml(null, "one html", 10, 100);
        $this-&gt;addHtml(null, "two html");
        $this-&gt;addHtml(null, "third html", 10, 10);
        $this-&gt;addHtml('default', "forth html", 5, 100);
        $this-&gt;addHtml("header", "fifth header html");
</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="23165" data-cf-modified-e23c3386cf9bee4e754c880c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="23165" data-cf-modified-e23c3386cf9bee4e754c880c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7d07df1c3468ad43eaeaaf58e2623676?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2638/OpenEX" class="user-moderator-N"><span itemprop="name">OpenEX</span></a>        </span>
        <br>

        <span class="karma">9.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="23169" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '15</span>
              </span><br/><a name="C23169" href="#C23169">
                <time itemprop="dateCreated" datetime="2015-09-10T13:36:09-07:00" class="action-date">Sep '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Some thing are not correctly written there but seem to work.
And to explain more.
All of this is to load html snippets like the css, js assets counterparts - more or less, to develop my little system for loading boxes into positions/places whatever correct name for it is. My recent post/posts are related somehow to it.</p>
<p>macro approach:
you would have printing 'collection' by its name, by its subposition less is higher on a page, finally priority integer less is higher on a page.
Simple and it works!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="23169" data-cf-modified-e23c3386cf9bee4e754c880c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="23169" data-cf-modified-e23c3386cf9bee4e754c880c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="8459" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>