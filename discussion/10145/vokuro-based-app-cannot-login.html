---
layout: default
title: 'Vokuro based app - cannot login - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/28/session">Session</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Vokuro based app - cannot login</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/5743/gnikolopoulos" class="user-moderator-N"><span itemprop="name">George Nikolopoulos</span></a></span>
            <time itemprop="dateCreated" datetime="2016-01-12T14:01:39-07:00">Jan '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-01-12T14:01:39-07:00">Jan '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jan '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>614</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/a283fd4a491592977f7dc217beaeac4a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/5743/gnikolopoulos" class="user-moderator-N"><span itemprop="name">George Nikolopoulos</span></a></span>
                <span class="karma">8.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C10145" href="#C10145">
        <time class="action-date">Jan '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi guys,</p>
<p>A few days ago I started using vokuro as a starting point to build a small, simple app that will help me get even more familiar with Phalcon (I learn more by doing, than by reading). everything has been great so far, but I have a problem with the login step. I used vokuro's Session controller almost as is (removed registration and remember me) and added all the required tables, adding and removing fields as needed.
However, I have the following issues.</p>
<ul>
<li>At first, I could not login. Could not find the default password for the used in the sample schema. Does anyone know it?</li>
<li>I bypassed the above issue by disabling the check for session and sending a password reset request. But after submitting the password change form, I get a blank screen. Password field is changed, but I still cannot login</li>
</ul>
<p>Can anyone help me identify the issue? I am not posting code at this point since I am not sure what part of the code may cause the issue. To help you, imagine that the login, ACL and session code is 99% the same as with the Vokuro example. If you need specific parts, I will post them...</p>
<p>Thanks...!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-df2a68c371c986a0cbdf9200-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-df2a68c371c986a0cbdf9200-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dfea412df9792aa3d31281290dd07b7e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5735/joyider" class="user-moderator-N"><span itemprop="name">André Karlsson</span></a>        </span>
        <br>

        <span class="karma">8.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C28845" href="#C28845">
                <time itemprop="dateCreated" datetime="2016-01-12T16:11:33-07:00" class="action-date">Jan '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>First check you users in the database (be aware of typos in the sql code):</p>
<pre><code>mysql -u YOUR_USER -p YOUR_DATABASE</code></pre>
<pre><code class="language-sql">select name, mustChangePassword,banned,suspended,active from users;</code></pre>
<p>if any of mustChangePassword, banned, suspended or active is 'N' for your user then you can't login.</p>
<p>If that is not your case, the issue most likely is th 1% code change :)</p>
<p>Regards
André</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28845" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28845" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a283fd4a491592977f7dc217beaeac4a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5743/gnikolopoulos" class="user-moderator-N"><span itemprop="name">George Nikolopoulos</span></a>        </span>
        <br>

        <span class="karma">8.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C28923" href="#C28923">
                <time itemprop="dateCreated" datetime="2016-01-15T11:03:19-07:00" class="action-date">Jan '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi André</p>
<p>The user is active and not banned, suspended etc.
I managed to nail down the issue to the password. Looks like the following check comes up false, even though I am 100% sure my pass is correct:</p>
<pre><code>$this-&gt;security-&gt;checkHash($credentials['password'], $user-&gt;password</code></pre>
<p>The credentials are passed from the session controller as an array with email and password...
Is there any way to set an easy password directly in the database?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28923" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28923" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a283fd4a491592977f7dc217beaeac4a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5743/gnikolopoulos" class="user-moderator-N"><span itemprop="name">George Nikolopoulos</span></a>        </span>
        <br>

        <span class="karma">8.9k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C28925" href="#C28925">
                <time itemprop="dateCreated" datetime="2016-01-15T11:15:57-07:00" class="action-date">Jan '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I cannot believe I did not think about the database first!!!</p>
<p>I had set the password field to just varchar(45), too small for most bcrypt hashed passwords!!! I increaded the filed site and re-set the password using the forgot password action. Not it works like a charm!!!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28925" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28925" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dfea412df9792aa3d31281290dd07b7e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5735/joyider" class="user-moderator-N"><span itemprop="name">André Karlsson</span></a>        </span>
        <br>

        <span class="karma">8.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="28929" data-toggle="modal" data-target="#historyModal">
                edited <span>Jan '16</span>
              </span><br/><a name="C28929" href="#C28929">
                <time itemprop="dateCreated" datetime="2016-01-15T11:36:08-07:00" class="action-date">Jan '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Nice job :)</p>
<p>Ignore the below!</p>
<p>Removed due to fix during commenting :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28929" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28929" data-cf-modified-df2a68c371c986a0cbdf9200-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="10145" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>