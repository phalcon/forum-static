---
layout: default
title: 'Error management - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Error management</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3151/sboudoux" class="user-moderator-N"><span itemprop="name">stephane</span></a></span>
            <time itemprop="dateCreated" datetime="2015-02-16T05:48:03-07:00">Feb '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-02-16T05:48:03-07:00">Feb '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>757</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/076d8254b3d82407f201a00995d41c96?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3151/sboudoux" class="user-moderator-N"><span itemprop="name">stephane</span></a></span>
                <span class="karma">24.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4744" href="#C4744">
        <time class="action-date">Feb '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hi All,</p>
<p>I'm just starting with Phalcon (following the INVO tutorial) and even though I'm really interested and excited by the framework, I get really frustrated with the error management. </p>
<p>First of all, I'm really surprised to not have a simple config parameter to switch the framework between a developer/debugging and productions modes right out of the box. Sure, now I've spent quite some time on it, it seems simple: removing the try/catch, instanciate the Phalcon\Debug and listen for errors... </p>
<p>My point is: it should be there by default in the bootstrap, with a nice comment telling us to replace it by a try/catch when reaching production.
Do you realize developers are the first ones using the framework, and way, way later comes the production optimizations?  Why not making is easy for developers (me and many others ) so we don't have to struggle and waste so much time looking in the forum for it.
On top of that you have a really nice debugger, it's such a shame to not promote it.</p>
<p>Now, the main purpose of this post... So I'm using the Invo tutorial, got the debugger activated, and I'm struggling with the first SQL query.
When I try to log in (/session/start), I get redirected instantly to the show500 error page.
So I've placed a few traces in the code, and everything stops right on the first query:</p>
<p>SessionController.php &gt;&gt; startAction() &gt;&gt; $user = Users::findFirst(array(...))   ~line 50
Problem is, once again and despite the debugger, I don't have any error reported to me. </p>
<p>So could someone tell me what are my options here ? Alternatively, how can I get a full, raw, unprocessed error message ?
Thanks in advance for the help.
Cheers</p>
<p>EDIT: if I manually connection to my database and run a select query, everything works fine, aka my db params are correct.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-8233b3ed3b5d0884f911b696-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-8233b3ed3b5d0884f911b696-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C15947" href="#C15947">
                <time itemprop="dateCreated" datetime="2015-02-17T14:07:13-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The Phalcon debugger only captures exceptions, and it squashes all output - so regular error messages don't get shown unless you call <code>exit()</code> right after the line that causes the error.  I too find that a pain in the butt.</p>
<p>I've recently started using <a href="http://tracy.nette.org/">Tracy</a>, which gives me a nice output of actual error messages (warnings, fatal errors, etc).  It was pretty easy to install and set up.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15947" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15947" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/076d8254b3d82407f201a00995d41c96?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3151/sboudoux" class="user-moderator-N"><span itemprop="name">stephane</span></a>        </span>
        <br>

        <span class="karma">24.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="15964" data-toggle="modal" data-target="#historyModal">
                edited <span>Feb '15</span>
              </span><br/><a name="C15964" href="#C15964">
                <time itemprop="dateCreated" datetime="2015-02-18T03:42:12-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for the reply. </p>
<p>I'm happy to see I'm not alone struggling with the error management. I'm going to give a shot to tracy, not so much for &quot;pretty&quot; errors, but just to be able to see these. </p>
<p>I'm still wondering how people  can build software on Phalcon if it is so difficult to debug and develop.
I'm pretty sure there are complex mechanisms behind the scene, but a debug mode, even to simply spit raw errors into the page, seems fundamental to me.</p>
<p>Cheers</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15964" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15964" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C15982" href="#C15982">
                <time itemprop="dateCreated" datetime="2015-02-18T08:48:17-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I've not done this, but one common approach (for PHP development in general, not just Phalcon) is to have the errors logged to a file, rather than output on the screen.  PHP can be set up to do this automatically - you may even be able to set the INI values in run-time.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15982" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15982" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/076d8254b3d82407f201a00995d41c96?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3151/sboudoux" class="user-moderator-N"><span itemprop="name">stephane</span></a>        </span>
        <br>

        <span class="karma">24.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C15999" href="#C15999">
                <time itemprop="dateCreated" datetime="2015-02-19T06:02:09-07:00" class="action-date">Feb '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>For a production / pre-prod environemnt I agree with you.
But in a dev environment, and especially when trying a new and unusual framework, I want all the errors to pop in my face right away to know what I've done wrong and where to look. </p>
<p>Anyway, I've tried Tracy, and that's a great tool. Version 2.3+ (RC3 at the moment) implements an handy &quot;shutdownHandler&quot; that let's you catch all (or most of) the errors.
Problem is, it doesn't provide proper backtraces when an error is fired inside Phalcon module (due to a bad usage/config, not a Phalcon bug).  </p>
<p>As a result, I often end up with an error reported in  index.php &gt;&gt; &quot;echo $application-&gt;handle()-&gt;getContent();&quot; when it comes from somewhere totally different.
Examples:   config error (path or value incorrect in config file),   error in a view (block name containing &quot;-&quot; for example) ...  report error in index file :/</p>
<p>The only solution I see it to implement both... or a mix of these, but it seems seriously tricky.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15999" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15999" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2ea2bbca6db1379df32bd98136d0096e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/7427/Baruch4413" class="user-moderator-N"><span itemprop="name">Baruch4413</span></a>        </span>
        <br>

        <span class="karma">2.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C35089" href="#C35089">
                <time itemprop="dateCreated" datetime="2016-06-04T17:27:03-07:00" class="action-date">Jun '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think I got here a little bit late, but I have the solution.</p>
<p>As you point out,  there are several aproches to accomplish this, but I found that this kind of errors are visible if you place this lines of code at start of your file index.php on the public folder:</p>
<p>ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);</p>
<p>On top of one related piece of code that is already there:
error_reporting(E_ALL);</p>
<p>If you encounter any other troubles, you can try placing this:
display_errors = on</p>
<p>In the corresponding php.ini file, or modify the value if this setting is already active.</p>
<p>I hope this helps someone in the future!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="35089" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="35089" data-cf-modified-8233b3ed3b5d0884f911b696-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4744" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>