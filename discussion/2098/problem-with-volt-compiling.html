---
layout: default
title: 'Problem with Volt compiling - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/3/volt">Volt</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Problem with Volt compiling</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/1409/gazley" class="user-moderator-N"><span itemprop="name">G Wynne</span></a></span>
            <time itemprop="dateCreated" datetime="2014-04-16T04:49:11-07:00">Apr '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-04-16T04:49:11-07:00">Apr '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>1466</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/b7087a5cdbd5a4365582e4a26a26a9a2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/1409/gazley" class="user-moderator-N"><span itemprop="name">G Wynne</span></a></span>
                <span class="karma">38.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2098" href="#C2098">
        <time class="action-date">Apr '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi there,</p>
<p>I'm getting the following error message:</p>
<p>Phalcon\Mvc\View\Exception: Volt directory can't be written in /mae/www/html/host_ui/public/index.php on line 98</p>
<p>Call Stack:
0.0216     672008   1. {main}() /mae/www/html/host_ui/public/index.php:0
6.3427     699448   2. Phalcon\Mvc\Application-&gt;handle() /mae/www/html/host_ui/public/index.php:98</p>
<p>I have this code:</p>
<pre><code class="language-php">    //Setup the view component
    $di-&gt;set('view', function() use ($config) {
        $view = new \Phalcon\Mvc\View();
        $view-&gt;setViewsDir(__DIR__ . $config-&gt;application-&gt;viewsDir);
        $view-&gt;registerEngines(array(
            '.volt' =&gt; 'volt',
            '.phtml' =&gt; 'Phalcon\Mvc\View\Engine\Php'
        ));
        return $view;
    });

    $di-&gt;set('volt', function($view, $di) use ($config) {
        $volt = new \Phalcon\Mvc\View\Engine\Volt($view, $di);
        $volt-&gt;setOptions(array(
            'compiledPath' =&gt; $config-&gt;application-&gt;cacheDir
        ));
        return $volt;
    }, true);</code></pre>
<p>My cacheDir and all of its subdirectories have been set to 777.</p>
<p>Is there anything else that might be going wrong here? Do I need to set rights on any other folder for Volt to work?</p>
<p>Thanks.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-2fc78d837116d02be861ce1e-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-2fc78d837116d02be861ce1e-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/533985d102feef881f5c41933bd43bfb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/283/calinrada" class="user-moderator-N"><span itemprop="name">Calin Rada</span></a>        </span>
        <br>

        <span class="karma">51.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7259" href="#C7259">
                <time itemprop="dateCreated" datetime="2014-04-16T05:43:33-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What is the output of $config-&gt;application-&gt;cacheDir ?
In your cache directory, be sure that you have a directory called &quot;volt&quot;</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7259" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7259" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b7087a5cdbd5a4365582e4a26a26a9a2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1409/gazley" class="user-moderator-N"><span itemprop="name">G Wynne</span></a>        </span>
        <br>

        <span class="karma">38.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7263" href="#C7263">
                <time itemprop="dateCreated" datetime="2014-04-16T05:59:30-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi, my cacheDir value is /../cache/volt/ and I have a 'cache' directory (at the same level as app and public) that contains a 'volt' directory. I set 777 to everything.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7263" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7263" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/533985d102feef881f5c41933bd43bfb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/283/calinrada" class="user-moderator-N"><span itemprop="name">Calin Rada</span></a>        </span>
        <br>

        <span class="karma">51.2k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7265" href="#C7265">
                <time itemprop="dateCreated" datetime="2014-04-16T06:06:17-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>For sure there is a mistake with the path. Can you try this ? </p>
<pre><code class="language-php">    $di-&gt;set('volt', function($view, $di) use ($config) {
        if (!is_dir($config-&gt;application-&gt;cacheDir)) {
            mkdir($config-&gt;application-&gt;cacheDir);
        }   

        $volt = new \Phalcon\Mvc\View\Engine\Volt($view, $di);
        $volt-&gt;setOptions(array(
            'compiledPath' =&gt; $config-&gt;application-&gt;cacheDir
        ));
        return $volt;
    }, true);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7265" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7265" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b7087a5cdbd5a4365582e4a26a26a9a2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1409/gazley" class="user-moderator-N"><span itemprop="name">G Wynne</span></a>        </span>
        <br>

        <span class="karma">38.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7268" href="#C7268">
                <time itemprop="dateCreated" datetime="2014-04-16T06:34:27-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, now we're getting somewhere! :)</p>
<p>Here is my config.ini file:</p>
<pre><code>[application]
controllersDir = /../app/controllers/
modelsDir      = /../app/models/
viewsDir       = /../app/views/
pluginsDir     = /../app/plugins/
libraryDir     = /../app/library/
cacheDir       = /../cache/volt/
baseUri        = /host_ui/</code></pre>
<p>If I change</p>
<pre><code>cacheDir       = /../cache/volt/</code></pre>
<p>to</p>
<pre><code>cacheDir       = ../cache/volt/</code></pre>
<p>It works? It is now targetting my existing folder whereas before with your additional test, it couldn't find the directory? As far as I can see, it should have worked without changing the cacheDir path. All of the other xxxxDir paths work fine with the leading (and trailing) '/'.</p>
<p>I'm confused?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7268" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7268" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/533985d102feef881f5c41933bd43bfb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/283/calinrada" class="user-moderator-N"><span itemprop="name">Calin Rada</span></a>        </span>
        <br>

        <span class="karma">51.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="7270" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '14</span>
              </span><br/><a name="C7270" href="#C7270">
                <time itemprop="dateCreated" datetime="2014-04-16T06:41:58-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Are you developing on windows ? Also, in my opinion, (not related to your problem) using INI files is not ok at all. Yes, it's fast to load them, but this is it. I would switch to plain php (you will be able to use constants like &quot;<strong> DIR </strong>&quot; , DIRECTORY_SEPPARATOR, etc) or YAML.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7270" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7270" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b7087a5cdbd5a4365582e4a26a26a9a2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1409/gazley" class="user-moderator-N"><span itemprop="name">G Wynne</span></a>        </span>
        <br>

        <span class="karma">38.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7271" href="#C7271">
                <time itemprop="dateCreated" datetime="2014-04-16T06:47:48-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Nope I'm developing on Mac and uploading to/running from CentOS. As far as the .ini file approach goes, from the Documentation INVO tutorial, it seems to suggest that using an .ini files is the recommended approach. That's the only reason I used the .ini file! :)</p>
<p>I'll take your advice around this. I did it all the way you suggested in the first place and only recently swapped to using the .ini file.</p>
<p>Thanks very much for your help.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7271" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7271" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="7275" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '16</span>
              </span><br/><a name="C7275" href="#C7275">
                <time itemprop="dateCreated" datetime="2014-04-16T08:00:06-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I usually use a constant <code>ROOT_PATH</code> which points to my top level folder of the application.</p>
<p>Then my configuration (php array) becomes something like this:</p>
<pre><code class="language-php">return [
    'controllersDir' = ROOT_PATH . '/app/controllers/',
    'modelsDir'      = ROOT_PATH . '/app/models/',
    'viewsDir'       = ROOT_PATH . '/app/views/',
    'pluginsDir'     = ROOT_PATH . '/app/plugins/',
    'libraryDir'     = ROOT_PATH . '/app/library/',
    'cacheDir'       = ROOT_PATH . '/cache/volt/',
    'baseUri'         = '/host_ui/',
];</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7275" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7275" data-cf-modified-2fc78d837116d02be861ce1e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2098" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>