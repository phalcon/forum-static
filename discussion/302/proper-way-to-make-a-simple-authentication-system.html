---
layout: default
title: 'Proper way to make a simple authentication system - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/16/security">Security</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Proper way to make a simple authentication system</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/110/kazzkiq" class="user-moderator-N"><span itemprop="name">Claudio Holanda</span></a></span>
            <time itemprop="dateCreated" datetime="2013-05-09T14:10:16-07:00">May '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-05-09T14:10:16-07:00">May '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>10179</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">12</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/401d7f7f94108405cf7b22ed342c3226?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/110/kazzkiq" class="user-moderator-N"><span itemprop="name">Claudio Holanda</span></a></span>
                <span class="karma">58.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C302" href="#C302">
        <time class="action-date">May '13</time>
    </a>
</div>
<div class="post-content"><div><p>Well, I'm working with Phalcon to make a <em>SaaS</em> project, and it requires simple authentication (the user get logged, do his stuff, logout).</p>
<p>There is some doc about this in the INVO app sample, but there is alot of things around that make it difficult to understand the auth part. Maybe some simple tutorial would make it easier to beginners, such as:</p>
<p>How to do authentication?</p>
<ul>
<li>Login page</li>
<li>Protected page (only accessed by auth user)</li>
<li>Logout action</li>
</ul>
<p>How is the easiest way to do this kind of stuff?</p>
<p>So there could be an IndexController with a loginAction leading to login page, indexAction leading to the index page (which is protected), and the model to access the user base. But where would go the actions to check and make an authentication, i mean, there is some way to do this with Phalcon's API or its like the old school PHP way, setting sessions &quot;manually&quot; checking for it against database, etc?</p>
<p>Could any of you buddies help me out? :)</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-5777e092dbd63502f4620309-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-5777e092dbd63502f4620309-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">12</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/23f127b8afebc5e0cedb57e4eb524af7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/33/xboston" class="user-moderator-Y"><span itemprop="name">Nikolay Kirsh</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1203" href="#C1203">
                <time itemprop="dateCreated" datetime="2013-05-09T14:22:47-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sample Application: Vökuró // Authorization/Authentication/Security: <a href="https://blog.phalcon.io/post/49450016172/sample-application-vokuro">https://blog.phalcon.io/post/49450016172/sample-application-vokuro</a> ( <a href="https://github.com/phalcon/vokuro">https://github.com/phalcon/vokuro</a> )</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1203" data-cf-modified-5777e092dbd63502f4620309-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1203" data-cf-modified-5777e092dbd63502f4620309-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/758de2db098b8bbb31a3b1bd37e2b028?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/185/nazwa" class="user-moderator-N"><span itemprop="name">nazwa</span></a>        </span>
        <br>

        <span class="karma">15.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1204" href="#C1204">
                <time itemprop="dateCreated" datetime="2013-05-09T14:30:52-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi Claudio,</p>
<p>The Invo example actually shows the basic concept quite clearly.
The &quot;Security.php&quot; plugin is where most of the magic happens.</p>
<pre><code class="language-php">$allowed = $acl-&gt;isAllowed($role, $controller, $action);
        if ($allowed != Acl::ALLOW) {
            $this-&gt;flash-&gt;error("You don't have access to this module");
            $dispatcher-&gt;forward(
                array(
                    'controller' =&gt; 'index',
                    'action' =&gt; 'index'
                )
            );
            return false;
        }</code></pre>
<p>This is a sample using the full blown access control lists feature, but you could really simplify it and use the beforeDispatch function to perform your authentication logic and either continue with page flow or redirect somewhere else.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1204" data-cf-modified-5777e092dbd63502f4620309-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1204" data-cf-modified-5777e092dbd63502f4620309-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="302" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>