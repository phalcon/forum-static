---
layout: default
title: 'Zephir method compilation error - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/4/offtopic">Offtopic</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Zephir method compilation error</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1132/pennycoders" class="user-moderator-N"><span itemprop="name">Alex</span></a></span>
            <time itemprop="dateCreated" datetime="2014-03-02T19:53:37-07:00">Mar '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-03-02T19:53:37-07:00">Mar '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1313</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/55bf083db5dc2c60f2d3791983e3f6c5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1132/pennycoders" class="user-moderator-N"><span itemprop="name">Alex</span></a></span>
                <span class="karma">4.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1683" href="#C1683">
        <time class="action-date">Mar '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hey guys,</p>
<p>I seem to be getting this error message, when trying to compile the framework by using the zephir installation method described on github.
However, the install-test method described in your alpha 1 anouncement DOES work.</p>
<p>This is the raw output i am getting while trying to run zephir generate and zephir build on a CentOS 6.5-64bit, with all the deps installed:</p>
<pre><code class="language-text">[06:26 PM]-[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e3918c8c97a3938b828f808c8d">[email&#160;protected]</a>]-[/tmp/cphalcon]-[git 2.0.0] 
# zephir generate
Warning: Variable 'targetBasePath' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/assets/manager.zep on 370 [conditional-initialization]

                                        let completeTargetPath = targetBasePath . collectionTargetPath;
        ----------------------------------------------------------------------------------------------^

Warning: Variable 'targetBasePath' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/assets/manager.zep on 372 [conditional-initialization]

                                        let completeTargetPath = targetBasePath;
        -----------------------------------------------------------------------^

Warning: Class "APCIterator" does not exist at compile time  in /tmp/cphalcon/phalcon/cache/backend/apc.zep on 163 [nonexistent-class]

           apc = new \APCIterator("user", prefixPattern);
        ------------------------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/cache/backend/apc.zep on 165 [nonexistent-function]

          for key, item in iterator(apc) {
        ---------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/cache/backend/file.zep on 254 [nonexistent-function]

          for item in iterator(new \DirectoryIterator(cacheDir)) {
        ---------------------------------------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 207 [conditional-initialization]

          if !isset data[lastKey] {
        ------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 211 [conditional-initialization]

          let cachedContent = data[lastKey];
        -----------------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in unknown on 0 [conditional-initialization]

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 245 [conditional-initialization]

          if !isset data[lastKey] {
        ------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 249 [conditional-initialization]

          let cachedContent = data[lastKey];
        -----------------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in unknown on 0 [conditional-initialization]

Warning: Unreachable code in /tmp/cphalcon/phalcon/db/adapter/pdo/mysql.zep on 228 [unreachable-code]

            let definition["first"] = true;
        ----------------------------------^

Warning: Variable 'wasFresh' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/dispatcher.zep on 587 [conditional-initialization]

           if (wasFresh === true) {
        ------------------^

Warning: Function "phalcon_is_basic_charset" does not exist at compile time in /tmp/cphalcon/phalcon/escaper.zep on 97 [nonexistent-function]

          let charset = phalcon_is_basic_charset(str);
        ---------------------------------------------^

Warning: Function "phalcon_filter_alphanum" does not exist at compile time in /tmp/cphalcon/phalcon/filter.zep on 155 [nonexistent-function]

            return phalcon_filter_alphanum(value);
        -----------------------------------------^

Warning: Possible attempt to access array-index on a non-array dynamic variable in /tmp/cphalcon/phalcon/image/adapter/gd.zep on 425 [non-array-access]

             let alpha = 127 - (alpha["red"] / 2);
        -----------------------------^

Warning: Possible attempt to use non-object in "new" operator in /tmp/cphalcon/phalcon/mvc/model.zep on 579 [non-valid-new]

           let hydrate = new \stdclass();
        --------------------------------^

Warning: Unreachable code in /tmp/cphalcon/phalcon/mvc/model.zep on 917 [unreachable-code]

             let uniqueParams[] = null,
        ------------------------------^

Warning: Function "unique_key" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/manager.zep on 1397 [nonexistent-function]

           let uniqueKey = unique_key(referencedModel, arguments),
        ---------------------------------------------------------^

Warning: Function "phalcon_orm_singlequotes" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/query.zep on 501 [nonexistent-function]

               let escapedValue = phalcon_orm_singlequotes(value);
        ---------------------------------------------------------^

Warning: Variable 'sqlJoinConditions' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/mvc/model/query.zep on 925 [conditional-initialization]

          ];
        --^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/query.zep on 2789 [nonexistent-function]

          for record in iterator(records) {
        ----------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/query.zep on 2866 [nonexistent-function]

          for record in iterator(records) {
        ----------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/resultset.zep on 435 [nonexistent-function]

          for record in iterator(this) {
        -------------------------------^

Warning: Variable 'connection' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/mvc/model/resultset.zep on 483 [conditional-initialization]

           connection-&gt;commit();
        -----------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/resultset.zep on 510 [nonexistent-function]

          for record in iterator(this) {
        -------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/resultset/complex.zep on 280 [nonexistent-function]

          for current in iterator(this) {
        --------------------------------^

Warning: Variable "connection" declared but not used in Phalcon\Mvc\Model\Transaction::commit in /tmp/cphalcon/phalcon/mvc/model/transaction.zep on 126 [unused-variable]

          var manager, connection;
        -------------------------^

Warning: Function "phalcon_get_uri" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/url.zep on 118 [nonexistent-function]

            let uri = phalcon_get_uri(phpSelf);
        --------------------------------------^

Warning: Function "phalcon_replace_paths" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/url.zep on 228 [nonexistent-function]

           return baseUri . phalcon_replace_paths(route-&gt;getPattern(), route-&gt;getReversedPaths(), uri);
        ----------------------------------------------------------------------------------------------^

Warning: Cannot mark complex expression as reference in /tmp/cphalcon/phalcon/queue/beanstalk.zep on 74 [invalid-reference]

          let connection = fsockopen(parameters["host"], parameters["port"], null, null);
        --------------------------------------------------------------------------------^

Warning: Cannot mark complex expression as reference in /tmp/cphalcon/phalcon/queue/beanstalk.zep on 74 [invalid-reference]

          let connection = fsockopen(parameters["host"], parameters["port"], null, null);
        --------------------------------------------------------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/validation/message/group.zep on 165 [nonexistent-function]

           for message in iterator(messages) {
        -------------------------------------^

Copying new kernel files...

[06:27 PM]-[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c0b2afafb480b0a8a1aca3afae">[email&#160;protected]</a>]-[/tmp/cphalcon]-[git 2.0.0] 
# zephir compile
Warning: Variable 'targetBasePath' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/assets/manager.zep on 370 [conditional-initialization]

                                        let completeTargetPath = targetBasePath . collectionTargetPath;
        ----------------------------------------------------------------------------------------------^

Warning: Variable 'targetBasePath' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/assets/manager.zep on 372 [conditional-initialization]

                                        let completeTargetPath = targetBasePath;
        -----------------------------------------------------------------------^

Warning: Class "APCIterator" does not exist at compile time  in /tmp/cphalcon/phalcon/cache/backend/apc.zep on 163 [nonexistent-class]

           apc = new \APCIterator("user", prefixPattern);
        ------------------------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/cache/backend/apc.zep on 165 [nonexistent-function]

          for key, item in iterator(apc) {
        ---------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/cache/backend/file.zep on 254 [nonexistent-function]

          for item in iterator(new \DirectoryIterator(cacheDir)) {
        ---------------------------------------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 207 [conditional-initialization]

          if !isset data[lastKey] {
        ------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 211 [conditional-initialization]

          let cachedContent = data[lastKey];
        -----------------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in unknown on 0 [conditional-initialization]

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 245 [conditional-initialization]

          if !isset data[lastKey] {
        ------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/cache/backend/memory.zep on 249 [conditional-initialization]

          let cachedContent = data[lastKey];
        -----------------------------------^

Warning: Variable 'lastKey' was assigned for the first time in conditional branch, consider initialize it at its declaration in unknown on 0 [conditional-initialization]

Warning: Unreachable code in /tmp/cphalcon/phalcon/db/adapter/pdo/mysql.zep on 228 [unreachable-code]

            let definition["first"] = true;
        ----------------------------------^

Warning: Variable 'wasFresh' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/dispatcher.zep on 587 [conditional-initialization]

           if (wasFresh === true) {
        ------------------^

Warning: Function "phalcon_is_basic_charset" does not exist at compile time in /tmp/cphalcon/phalcon/escaper.zep on 97 [nonexistent-function]

          let charset = phalcon_is_basic_charset(str);
        ---------------------------------------------^

Warning: Function "phalcon_filter_alphanum" does not exist at compile time in /tmp/cphalcon/phalcon/filter.zep on 155 [nonexistent-function]

            return phalcon_filter_alphanum(value);
        -----------------------------------------^

Warning: Possible attempt to access array-index on a non-array dynamic variable in /tmp/cphalcon/phalcon/image/adapter/gd.zep on 425 [non-array-access]

             let alpha = 127 - (alpha["red"] / 2);
        -----------------------------^

Warning: Possible attempt to use non-object in "new" operator in /tmp/cphalcon/phalcon/mvc/model.zep on 579 [non-valid-new]

           let hydrate = new \stdclass();
        --------------------------------^

Warning: Unreachable code in /tmp/cphalcon/phalcon/mvc/model.zep on 917 [unreachable-code]

             let uniqueParams[] = null,
        ------------------------------^

Warning: Function "unique_key" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/manager.zep on 1397 [nonexistent-function]

           let uniqueKey = unique_key(referencedModel, arguments),
        ---------------------------------------------------------^

Warning: Function "phalcon_orm_singlequotes" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/query.zep on 501 [nonexistent-function]

               let escapedValue = phalcon_orm_singlequotes(value);
        ---------------------------------------------------------^

Warning: Variable 'sqlJoinConditions' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/mvc/model/query.zep on 925 [conditional-initialization]

          ];
        --^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/query.zep on 2789 [nonexistent-function]

          for record in iterator(records) {
        ----------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/query.zep on 2866 [nonexistent-function]

          for record in iterator(records) {
        ----------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/resultset.zep on 435 [nonexistent-function]

          for record in iterator(this) {
        -------------------------------^

Warning: Variable 'connection' was assigned for the first time in conditional branch, consider initialize it at its declaration in /tmp/cphalcon/phalcon/mvc/model/resultset.zep on 483 [conditional-initialization]

           connection-&gt;commit();
        -----------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/resultset.zep on 510 [nonexistent-function]

          for record in iterator(this) {
        -------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/model/resultset/complex.zep on 280 [nonexistent-function]

          for current in iterator(this) {
        --------------------------------^

Warning: Variable "connection" declared but not used in Phalcon\Mvc\Model\Transaction::commit in /tmp/cphalcon/phalcon/mvc/model/transaction.zep on 126 [unused-variable]

          var manager, connection;
        -------------------------^

Warning: Function "phalcon_get_uri" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/url.zep on 118 [nonexistent-function]

            let uri = phalcon_get_uri(phpSelf);
        --------------------------------------^

Warning: Function "phalcon_replace_paths" does not exist at compile time in /tmp/cphalcon/phalcon/mvc/url.zep on 228 [nonexistent-function]

           return baseUri . phalcon_replace_paths(route-&gt;getPattern(), route-&gt;getReversedPaths(), uri);
        ----------------------------------------------------------------------------------------------^

Warning: Cannot mark complex expression as reference in /tmp/cphalcon/phalcon/queue/beanstalk.zep on 74 [invalid-reference]

          let connection = fsockopen(parameters["host"], parameters["port"], null, null);
        --------------------------------------------------------------------------------^

Warning: Cannot mark complex expression as reference in /tmp/cphalcon/phalcon/queue/beanstalk.zep on 74 [invalid-reference]

          let connection = fsockopen(parameters["host"], parameters["port"], null, null);
        --------------------------------------------------------------------------------^

Warning: Function "iterator" does not exist at compile time in /tmp/cphalcon/phalcon/validation/message/group.zep on 165 [nonexistent-function]

           for message in iterator(messages) {
        -------------------------------------^

Preparing for PHP compilation...
Preparing configuration file...
Compiling...
/tmp/cphalcon/ext/kernel/object.c: In function â€˜zephir_read_propertyâ€™:
/tmp/cphalcon/ext/kernel/object.c:469: warning: passing argument 2 of â€˜zephir_lookup_class_ceâ€™ discards qualifiers from pointer target type
/tmp/cphalcon/ext/kernel/object.c:444: note: expected â€˜char *â€™ but argument is of type â€˜const char *â€™
/tmp/cphalcon/ext/kernel/object.c: In function â€˜zephir_update_property_arrayâ€™:
/tmp/cphalcon/ext/kernel/object.c:1078: warning: passing argument 2 of â€˜zephir_update_property_zvalâ€™ discards qualifiers from pointer target type
/tmp/cphalcon/ext/kernel/object.c:851: note: expected â€˜char *â€™ but argument is of type â€˜const char *â€™</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-fc3a0513ae71225a15f2bc64-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-fc3a0513ae71225a15f2bc64-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C5837" href="#C5837">
                <time itemprop="dateCreated" datetime="2014-03-04T08:53:51-07:00" class="action-date">Mar '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'll take a look at these compilation problems soon</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5837" data-cf-modified-fc3a0513ae71225a15f2bc64-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5837" data-cf-modified-fc3a0513ae71225a15f2bc64-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9675b1ef4270f99bd2a5511fe9713b4f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2842/vicaba" class="user-moderator-N"><span itemprop="name">vicaba</span></a>        </span>
        <br>

        <span class="karma">696</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14202" href="#C14202">
                <time itemprop="dateCreated" datetime="2014-12-16T06:50:54-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Same problem using Linux 3.13.0-35-generic x86_64.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14202" data-cf-modified-fc3a0513ae71225a15f2bc64-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14202" data-cf-modified-fc3a0513ae71225a15f2bc64-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1683" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>