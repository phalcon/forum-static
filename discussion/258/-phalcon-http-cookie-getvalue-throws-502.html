---
layout: default
title: '\Phalcon\Http\Cookie-&gt;getValue() throws 502 - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">\Phalcon\Http\Cookie-&gt;getValue() throws 502</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a></span>
            <time itemprop="dateCreated" datetime="2013-04-29T10:29:21-07:00">Apr '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-04-29T10:29:21-07:00">Apr '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">9</span>
                </td>
                <td>
                    <label>Views</label><br>1451</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">2</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a></span>
                <span class="karma">27.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C258" href="#C258">
        <time class="action-date">Apr '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hello.</p>
<p>I try to get cookie value, but the code below thows a 502 Bad Gateway error on calling getValue() function.</p>
<pre><code class="language-php">        $cookies = $this-&gt;di-&gt;get('cookies');
        $cookie = $cookies-&gt;get('cookie_name');
        var_dump($cookie-&gt;getValue()); exit;</code></pre>
<p>Where $this is an instance if \Phalcon\Session\AdapterInterface.</p>
<p>Phalcon 1.1.0.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-7cb04f2ee895526088d85100-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-7cb04f2ee895526088d85100-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1065" href="#C1065">
                <time itemprop="dateCreated" datetime="2013-04-29T11:00:34-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>$this-&gt;di is not available in instances of Phalcon\Session\AdapterInterface</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1065" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1065" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="1066" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '14</span>
              </span><br/><a name="C1066" href="#C1066">
                <time itemprop="dateCreated" datetime="2013-04-29T11:04:01-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I implement the InjectionAwareInterface in my class and inject it into:</p>
<pre><code class="language-php">$di-&gt;setShared('session', function() use ($di) {
    $session = new MyAdapter();
    $session-&gt;setDi($di);
    $session-&gt;start();
    return $session;
});</code></pre>
<p>And $cookie is a correct instance of \Phalcon\Http\Cookie</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1066" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1066" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1068" href="#C1068">
                <time itemprop="dateCreated" datetime="2013-04-29T11:18:22-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Somewhat like this? <a href="https://gist.github.com/phalcon/5483550">https://gist.github.com/phalcon/5483550</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1068" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1068" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1071" href="#C1071">
                <time itemprop="dateCreated" datetime="2013-04-29T12:05:41-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes, it's very similar.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1071" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1071" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1072" href="#C1072">
                <time itemprop="dateCreated" datetime="2013-04-29T12:16:16-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm running that Gist here: <a href="http://test.phalcon.io/session.php">http://test.phalcon.io/session.php</a> returning a normal response, can you please update the gist to obtain the error?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1072" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1072" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1073" href="#C1073">
                <time itemprop="dateCreated" datetime="2013-04-29T12:53:08-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Try to move x() calling into callback:</p>
<pre><code class="language-php">&lt;?php

class XSession extends Phalcon\Session\Adapter implements
    Phalcon\Session\AdapterInterface,
    Phalcon\DI\InjectionAwareInterface
{

    protected $_dependencyInjector;

    public function setDI($di)
    {
        $this-&gt;_dependencyInjector = $di;
    }

    public function getDI()
    {
        return $this-&gt;_dependencyInjector;
    }

    public function x()
    {
        $cookies = $this-&gt;getDI()-&gt;get('cookies');
        $cookie = $cookies-&gt;get('cookie_name');
        var_dump($cookie-&gt;getValue());
    }

}

$di = new Phalcon\DI\FactoryDefault();

$di-&gt;set('session', function() use ($di) {
    $session = new XSession();
    $session-&gt;setDI($di);
    echo $session-&gt;x();
    return $session;
});

$session = $di['session'];
echo $session-&gt;x();</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1073" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1073" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="1074" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '14</span>
              </span><br/><a name="C1074" href="#C1074">
                <time itemprop="dateCreated" datetime="2013-04-29T13:02:05-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I got a trace:</p>
<pre><code>Service 'crypt' wasn't found in the dependency injection container
File: [...]/app/plugins/MyAdapter.php, line: [...]

#0 [internal function]: Phalcon\DI-&gt;get('crypt', NULL)
#1 [internal function]: Phalcon\DI-&gt;getShared('crypt')
#2 [...]/app/plugins/MyAdapter.php([...]): Phalcon\Http\Cookie-&gt;getValue()
#3 [...]/public/index.php([...]): MyAdapter-&gt;start()
#4 {main}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1074" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1074" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1076" href="#C1076">
                <time itemprop="dateCreated" datetime="2013-04-29T13:33:21-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In recent commits in the 1.1.0 branch, the 'crypt' service is now automatically registered by DI\FactoryDefault, could you try compiling 1.1.0 again?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1076" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1076" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1077" href="#C1077">
                <time itemprop="dateCreated" datetime="2013-04-29T13:54:27-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Nothing changed. Can you test my code in Gist?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1077" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1077" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1078" href="#C1078">
                <time itemprop="dateCreated" datetime="2013-04-29T17:24:33-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yep I see the problem, but it's not Phalcon related, an infinite loop is being created because the 'cookies' service requires the 'session' service and 'session' service requires the 'cookies' service. Since you're using the cookies service when the 'session' service is not completely initialized, this problem is happening. PHP does not deal great with infinite loops and sometimes these situations are ending in segmentation faults. While other languages can tell the developer about this in a friendly manner, PHP sometimes just crash due to the infinite recursion causes an overflow of the C stack.</p>
<p>My suggestion is avoid this kind of infinite recursion using services when you're completely sure they're fully initialized.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1078" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1078" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1079" href="#C1079">
                <time itemprop="dateCreated" datetime="2013-04-30T04:13:28-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, but how to fix error with 'crypt' service?
Thr code below doesn't work.</p>
<pre><code class="language-php">&lt;?php

class XSession extends Phalcon\Session\Adapter implements
    Phalcon\Session\AdapterInterface,
    Phalcon\DI\InjectionAwareInterface
{

    protected $_dependencyInjector;

    public function setDI($di)
    {
        $this-&gt;_dependencyInjector = $di;
    }

    public function getDI()
    {
        return $this-&gt;_dependencyInjector;
    }

    public function start()
    {
        $cookies = $this-&gt;getDI()-&gt;get('cookies');
        $cookie = $cookies-&gt;get('session_id');
        var_dump($cookie-&gt;getValue());
    }

}

$di = new Phalcon\DI\FactoryDefault();

$di-&gt;set('session', function() use ($di) {
    $session = new XSession();
    $session-&gt;setDI($di);

    return $session;
});

$session = $di['session'];
echo $session-&gt;start();</code></pre>
<p>It throws the Fatal error only if cookie 'session_id' is provided by user.</p>
<pre><code class="language-code">Fatal error: Uncaught exception 'Phalcon\DI\Exception' with message 'Service 'crypt' wasn't found in the dependency injection container' in [...]/public/index.php:24
Stack trace:
#0 [internal function]: Phalcon\DI-&gt;get('crypt', NULL)
#1 [internal function]: Phalcon\DI-&gt;getShared('crypt')
#2 [...]/public/index.php(24): Phalcon\Http\Cookie-&gt;getValue()
#3 [...]/public/index.php(40): XSession-&gt;start()
#4 {main} thrown in [...]/public/index.php on line 24</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1079" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1079" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1085" href="#C1085">
                <time itemprop="dateCreated" datetime="2013-04-30T06:23:53-07:00" class="action-date">Apr '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In recent commits, the 'crypt' service is automatically registered by the DI\FactoryDefault :</p>
<p><a href="https://github.com/phalcon/cphalcon/blob/1.1.0/ext/di/factorydefault.c#L219">https://github.com/phalcon/cphalcon/blob/1.1.0/ext/di/factorydefault.c#L219</a>
<a href="https://github.com/phalcon/cphalcon/blob/1.1.0/ext/di/factorydefault.c#L324">https://github.com/phalcon/cphalcon/blob/1.1.0/ext/di/factorydefault.c#L324</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1085" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1085" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1122" href="#C1122">
                <time itemprop="dateCreated" datetime="2013-05-04T16:25:56-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I recompile it again and 'crypt' service is not missing now :)
But what about another problem?</p>
<pre><code class="language-code">Warning: mcrypt_decrypt(): The IV parameter must be as long as the blocksize in [...]/app/plugins/MyAdapter.php on line 80</code></pre>
<p>This warning shown on calling getValue().</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1122" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1122" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1127" href="#C1127">
                <time itemprop="dateCreated" datetime="2013-05-04T18:44:49-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think this is happening due to a missing encryption key for cookies. Phalcon automatically encrypts cookies before send them to the client and after obtain them from the client. You can set the encryption key this way: </p>
<p><a href="https://github.com/phalcon/vokuro/blob/8db65cf0e1ff771bc85327f7e5f9689931db5028/app/config/services.php#L96">https://github.com/phalcon/vokuro/blob/8db65cf0e1ff771bc85327f7e5f9689931db5028/app/config/services.php#L96</a></p>
<p>Or disable encryption (not recommended):</p>
<pre><code class="language-php">$di-&gt;set('cookies', function() {
  $cookies =  new Phalcon\Http\Response\Cookies();
  $cookies-&gt;useEncryption(false);
  return $cookies;
});</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1127" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1127" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1129" href="#C1129">
                <time itemprop="dateCreated" datetime="2013-05-04T22:25:45-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I get the salt from vokuro/app/config/config.php and used it, but nothing changed.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1129" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1129" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1132" href="#C1132">
                <time itemprop="dateCreated" datetime="2013-05-05T16:20:50-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Try removing the cookies from your browser manually, maybe there were encrypted wrong due to the missing key.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1132" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1132" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1133" href="#C1133">
                <time itemprop="dateCreated" datetime="2013-05-05T22:59:16-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes, but I think, this warning is a security issue. Isn't it?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1133" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1133" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f6a47c09830e8834a9f296d2b39dd605?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/146/SliceOfLife" class="user-moderator-N"><span itemprop="name">SliceOfLife</span></a>        </span>
        <br>

        <span class="karma">27.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1134" href="#C1134">
                <time itemprop="dateCreated" datetime="2013-05-05T23:00:22-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>By simple value changing we can get a full path disclosure.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1134" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1134" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C1135" href="#C1135">
                <time itemprop="dateCreated" datetime="2013-05-05T23:05:46-07:00" class="action-date">May '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I don't know you'll got warnings from PHP in several parts even if you're not aware of that. We can try to silent it, but what is really necessary is set the right error_reporting mode in production to avoid that any warning will be show to users.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="1135" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="1135" data-cf-modified-7cb04f2ee895526088d85100-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="258" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>