---
layout: default
title: 'php_pdo_get_dbh_ce error when running CLI app - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">php_pdo_get_dbh_ce error when running CLI app</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a></span>
            <time itemprop="dateCreated" datetime="2014-04-16T10:24:10-07:00">Apr '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-04-16T10:24:10-07:00">Apr '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Sep '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1053</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a></span>
                <span class="karma">125.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2102" href="#C2102">
        <time class="action-date">Apr '14</time>
    </a>
</div>
<div class="post-content"><div><p>When trying to run a command line file, I'm getting this error:</p>
<pre><code>PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20100525/phalcon.so' - /usr/lib/php5/20100525/phalcon.so: undefined symbol: php_pdo_get_dbh_ce in Unknown on line 0</code></pre>
<p>I've seen that others are having this issue when trying to run Phalcon via Apache, and the suggested solution was to make sure phalcon.so was loaded after the PDO functions.  I've done that as you can see here:</p>
<pre><code>lrwxrwxrwx 1 root root 29 Jun 17  2013 10-mysqlnd.ini -&gt; ../mods-available/mysqlnd.ini
lrwxrwxrwx 1 root root 25 Jun 17  2013 10-pdo.ini -&gt; ../mods-available/pdo.ini
lrwxrwxrwx 1 root root 26 Jun 17  2013 20-curl.ini -&gt; ../mods-available/curl.ini
lrwxrwxrwx 1 root root 24 Jun 17  2013 20-gd.ini -&gt; ../mods-available/gd.ini
lrwxrwxrwx 1 root root 26 Jun 17  2013 20-ldap.ini -&gt; ../mods-available/ldap.ini
lrwxrwxrwx 1 root root 28 Jun 25  2013 20-mcrypt.ini -&gt; ../mods-available/mcrypt.ini
lrwxrwxrwx 1 root root 30 Jun 17  2013 20-memcache.ini -&gt; ../mods-available/memcache.ini
lrwxrwxrwx 1 root root 28 Jun 17  2013 20-mysqli.ini -&gt; ../mods-available/mysqli.ini
lrwxrwxrwx 1 root root 27 Jun 17  2013 20-mysql.ini -&gt; ../mods-available/mysql.ini
lrwxrwxrwx 1 root root 31 Jun 17  2013 20-pdo_mysql.ini -&gt; ../mods-available/pdo_mysql.ini
-rw-r--r-- 1 root root 20 Apr 16 11:00 30-phalcon.ini
-rw-r--r-- 1 root root 60 Apr  3  2012 imagick.ini</code></pre>
<p>I should mention that I'm not having this problem when trying to use Phalcon on the web - just in the CLI application.  Calling phpinfo() from the CLI application shows that Phalcon is loaded, and all the proper .ini files have been loaded as well</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7280" href="#C7280">
                <time itemprop="dateCreated" datetime="2014-04-16T10:30:27-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I tried for 1/2 an hour to fix this before I posted.  3 minutes after posting, I found the solution - I had <code>extension=phalcon.so</code> in my main php.ini file, in addition to being in the separate 30-phalcon.ini file. That caused the Phalcon extension to be loaded too soon.  Removing the line from the main php.ini file fixed the problem</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7280" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7280" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/60de8d26f10965faea5643dba785adee?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2250/markthelaw" class="user-moderator-N"><span itemprop="name">Mark Law</span></a>        </span>
        <br>

        <span class="karma">89</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C11466" href="#C11466">
                <time itemprop="dateCreated" datetime="2014-09-20T17:37:11-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>removing the &quot;extension=phalcon.co&quot; does not work for me, any help? I already change the priority in conf.d folder, to 50-phalcon.co</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="11466" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="11466" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C11466"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/60de8d26f10965faea5643dba785adee?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Mark Law                    </a>
                </div><div class="posts-buttons" align="right"><a name="C11467" href="#C11467">
                <time itemprop="dateCreated" datetime="2014-09-20T17:58:48-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It must be:</p>
<pre><code>extension=phalcon.so</code></pre>
<blockquote>
<p>removing the &quot;extension=phalcon.co&quot; does not work for me, any help? I already change the priority in conf.d folder, to 50-phalcon.co</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="11467" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="11467" data-cf-modified-5d5260c9d543c198f8b24dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2102" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>