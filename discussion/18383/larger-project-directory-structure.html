---
layout: default
title: 'larger project - directory structure - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">larger project - directory structure</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/11301/milanmadar" class="user-moderator-N"><span itemprop="name">milanmadar</span></a></span>
            <time itemprop="dateCreated" datetime="2018-06-10T12:06:38-07:00">Jun '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-06-10T12:06:38-07:00">Jun '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>507</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/768090a547d11e67fd55c691946f10b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/11301/milanmadar" class="user-moderator-N"><span itemprop="name">milanmadar</span></a></span>
                <span class="karma">952</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C18383" href="#C18383">
        <time class="action-date">Jun '18</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,
I'm new to Phalcon. I'm porting my app from my custom framework (i know...) to Phalcon. I will have about 50+ models and controllers with possibly custom event managers, model managers, etc.</p>
<p>How would you structure your folders? I rather not have this:</p>
<ul>
<li>app</li>
<li>
<ul>
<li>config</li>
</ul>
</li>
<li>
<ul>
<li>library</li>
</ul>
</li>
<li>
<ul>
<li>models (with 50+ files)</li>
</ul>
</li>
<li>
<ul>
<li>controllers (with 50+ files)</li>
</ul>
</li>
<li>
<ul>
<li>eventmanagers (with 50+ files)</li>
</ul>
</li>
<li>
<ul>
<li>modelmanagers (with 50+ files)</li>
</ul>
</li>
<li>
<ul>
<li>forms (with 50+ files)</li>
</ul>
</li>
<li>
<ul>
<li>etc etc
Like this when I want to refactor something, I need to dig in different directories to find all the related classes of a model.</li>
</ul>
</li>
</ul>
<p>Instead how about this:</p>
<ul>
<li>app</li>
<li>
<ul>
<li>config</li>
</ul>
</li>
<li>
<ul>
<li>library</li>
</ul>
</li>
<li>
<ul>
<li>entities</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>Base</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>Model (extends \Phalcon\Model)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>Controller (extends \Phalcon\Controller)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>EventManager  (extends \Phalcon\EventManager)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>ModelManager (extends \Phalcon\ModelManager)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>Product</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>Model (extends Base/Model)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>Controller (extends Base/Contoller)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>EventManager (extends Base/EventManager)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>ModelManager (extends Base/ModelManager)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>Seller</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>Model (extends Base/Model)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>Controller (extends Base/Contoller)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>EventManager (extends Base/EventManager)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>ModelManager (extends Base/ModelManager)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>This way e.g. when I want to change something that effects all model, I just change that in the entities/Base/Model.
When I wanto to refactor the Product I change the related files only in that directory.
If an entity (e.g. Seller) has some more complex logic and maybe needs some helper classes, they can all be found in the entities/Seller folder.</p>
<p>Any opinion/advice/criticism is appreciated.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-701e4261f6a6481822504ef8-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-701e4261f6a6481822504ef8-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C56025" href="#C56025">
                <time itemprop="dateCreated" datetime="2018-06-10T12:09:05-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think better to switch to multi-module where you will try to make a proper modules dedicated for each part of application. This way you can have good directory structure and inside of every module directories like Model Controller, etc. Not sure for what you need ModelManager, you mean a class which consists all methods to findXYZ? Then it's called Repository.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56025" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56025" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/768090a547d11e67fd55c691946f10b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11301/milanmadar" class="user-moderator-N"><span itemprop="name">milanmadar</span></a>        </span>
        <br>

        <span class="karma">952</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="56027" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '18</span>
              </span><br/><a name="C56027" href="#C56027">
                <time itemprop="dateCreated" datetime="2018-06-10T12:45:36-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks, I will look into multi-module.</p>
<p>ModelManager: yes, a Repository. Im still reading the Phalcon docs, but as a first glance the Phalcon Model Manager seemed like a Repository, (or a DataMapper)? <a href="https://docs.phalcon.io/ja/3.3/api/Phalcon_Mvc_Model_Manager">https://docs.phalcon.io/ja/3.3/api/Phalcon_Mvc_Model_Manager</a> </p>
<p>Perhaps it deserves a separate discussion, but if you don't mind answering (or linking to a known good article):
Is there a common repository and datamapper strategy/pattern with Phalcon? (My edit: <a href="https://github.com/phalcon/mvc/tree/master/multiple-service-layer-model/apps/models/repositories">this</a> tells me there is no Phalcon-Specific repository thing)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56027" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56027" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C56029" href="#C56029">
                <time itemprop="dateCreated" datetime="2018-06-10T13:27:32-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Model manager is a service which handles all model related stuff, in 99% cases you don't need to create your own class like that.</p>
<p>Phalcon doesn't use datamapper pattern, it uses active record.</p>
<p>So repository classes are just your own thing to do pretty much if you want to have dedicated class with all methods to do all finding, so yes, there is no phalcon-specific repository thing, i think it's just better to put all complex queries to separated class.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56029" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56029" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6549777fa33638d0674db65d9111d400?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2145/DestinyMKas" class="user-moderator-N"><span itemprop="name">Karolis Mačiulskis</span></a>        </span>
        <br>

        <span class="karma">26.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C56031" href="#C56031">
                <time itemprop="dateCreated" datetime="2018-06-11T01:11:21-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I suggest to create App\Phalcon folder with same structure as phalcon and put there proxy files to phalcon fw. It's much easier to maintain on phalcon version update.</p>
<p>Example:</p>
<pre><code class="language-php">&lt;?php

namespace App\Phalcon\Mvc;

class Model extends \Phalcon\Mvc\Model
{
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56031" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56031" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9e1c02d47ce2ef87cd037828c840a47a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3738/jcdude" class="user-moderator-N"><span itemprop="name">Jed Fletcher</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C56027"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/768090a547d11e67fd55c691946f10b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        milanmadar                    </a>
                </div><div class="posts-buttons" align="right"><a name="C56043" href="#C56043">
                <time itemprop="dateCreated" datetime="2018-06-11T09:41:06-07:00" class="action-date">Jun '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This link should help with the multi-domain</p>
<p><a href="https://github.com/phalcon/mvc/tree/master/multiple">https://github.com/phalcon/mvc/tree/master/multiple</a></p>
<blockquote>
<p>Thanks, I will look into multi-module.</p>
<p>ModelManager: yes, a Repository. Im still reading the Phalcon docs, but as a first glance the Phalcon Model Manager seemed like a Repository, (or a DataMapper)? <a href="https://docs.phalcon.io/ja/3.3/api/Phalcon_Mvc_Model_Manager">https://docs.phalcon.io/ja/3.3/api/Phalcon_Mvc_Model_Manager</a> </p>
<p>Perhaps it deserves a separate discussion, but if you don't mind answering (or linking to a known good article):
Is there a common repository and datamapper strategy/pattern with Phalcon? (My edit: <a href="https://github.com/phalcon/mvc/tree/master/multiple-service-layer-model/apps/models/repositories">this</a> tells me there is no Phalcon-Specific repository thing)</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56043" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56043" data-cf-modified-701e4261f6a6481822504ef8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="18383" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>