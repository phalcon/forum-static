---
layout: default
title: 'afterFetch() - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">afterFetch()</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a></span>
            <time itemprop="dateCreated" datetime="2013-06-26T15:13:03-07:00">Jun '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-06-26T15:13:03-07:00">Jun '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '20</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>2231</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a></span>
                <span class="karma">40.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C498" href="#C498">
        <time class="action-date">Jun '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,
my database table for example &quot;names&quot;:
id int,
name varchar,
active int</p>
<p>I have something like this in model, yesterday or before yesterday it worked</p>
<pre><code class="language-php">class Names extends \Phalcon\Mvc\Model
{
    public function afterFetch()
    {
        if($this-&gt;id == 5)
        {
              $this-&gt;alert = "ALERT"; //alert isn't field in database
        }
    }
}

class IndexController extends \Phalcon\Mvc\Controller
{
   public function indexAction()
   {
       $names = Names::find()-&gt;toArrray();
       print_r($names);
   }
}</code></pre>
<p>i got:</p>
<pre><code class="language-php">Array
(
    [id] =&gt; 4
    [name] =&gt; Android
    [active] =&gt; 1
)
Array
(
    [id] =&gt; 5
    [name] =&gt; Android
    [active] =&gt; 1
)</code></pre>
<p>I need to get</p>
<pre><code class="language-php">Array
(
    [id] =&gt; 4
    [name] =&gt; Android
    [active] =&gt; 1
)
Array
(
    [id] =&gt; 5
    [name] =&gt; Android
    [active] =&gt; 1
    [alert] =&gt; Alert // &lt;----- HERE is what i need to exist
)</code></pre>
<p>only when i add field &quot;alert&quot; to database i can overwrite its value :(</p>
<p>Can you restore previous version?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-9461eb208cb778e09a7041a3-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-9461eb208cb778e09a7041a3-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2059" href="#C2059">
                <time itemprop="dateCreated" datetime="2013-06-26T22:32:21-07:00" class="action-date">Jun '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>toArray() only exports the fields that are present in the models meta-data, there is no previous version that takes into account arbitrary fields added to the model.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2059" data-cf-modified-9461eb208cb778e09a7041a3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2059" data-cf-modified-9461eb208cb778e09a7041a3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2061" href="#C2061">
                <time itemprop="dateCreated" datetime="2013-06-26T22:40:37-07:00" class="action-date">Jun '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sorry, everything is ok :)
I tested using toArray() if everything is ok because of simpliler view. I had bug in if/then which is more complicated than example.
It is because i recompile some times a day :D and though that something changed
Model method afterFetch() is amazing.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2061" data-cf-modified-9461eb208cb778e09a7041a3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2061" data-cf-modified-9461eb208cb778e09a7041a3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C2156" href="#C2156">
                <time itemprop="dateCreated" datetime="2013-07-02T20:39:22-07:00" class="action-date">Jul '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Please update documentation 1.2.0 about methods like afterFetch() with simple examples.
Only on this forum is information about this, nothing else. Maybe Framework offers more new undocumented useful methods like this one.
Now I use afterFetch() nearly with every model.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="2156" data-cf-modified-9461eb208cb778e09a7041a3-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="2156" data-cf-modified-9461eb208cb778e09a7041a3-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="498" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>