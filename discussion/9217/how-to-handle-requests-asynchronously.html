---
layout: default
title: 'How to handle requests asynchronously - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to handle requests asynchronously</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3169/zhudonghe" class="user-moderator-N"><span itemprop="name">zhudonghe</span></a></span>
            <time itemprop="dateCreated" datetime="2015-10-29T01:51:03-07:00">Oct '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-10-29T01:51:03-07:00">Oct '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">6</span>
                </td>
                <td>
                    <label>Views</label><br>803</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/80f4ff181b96d329ef2c5b9e90838a9e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3169/zhudonghe" class="user-moderator-N"><span itemprop="name">zhudonghe</span></a></span>
                <span class="karma">6.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C9217" href="#C9217">
        <time class="action-date">Oct '15</time>
    </a>
</div>
<div class="post-content"><div><p>I have a webpage including 3 ajax GET requests calling when openning the page.</p>
<p>The 3 requests refer to the same controller/view while the parameters are totally different. It means that most of the php code for the 3 requests are different.
And in every request MYSQL query is needed.</p>
<p>In the browser developer tool, I found that the 3 requests cannot be handled asynchronously. I don't know what factors block them. This problem happens both in Chrome and Firefox, hence it may not be a browser problem.</p>
<p>To make sure that it is a background problem. Three &quot;sleep(3);&quot; have been added to 3 parts of the code (refered to the 3 requests) in the view file. From the browser, the waiting times are 3.xx, 6.xx and 9.xx seconds.
Moreover, I open two browsers to open this page at the same time. The waiting time for the two browsers are both 3.xx, 6.xx, 9.xx, but not one browser are 3.xx, 6.xx, 9.xx while the another's are 12.xx, 15.xx, 18.xx.</p>
<p>I don't know whether the causes are from Phalcon or Apache settings.</p>
<p>Could any one help me solve this problem, thanks!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-4084ba0e7328d6ddcefea095-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-4084ba0e7328d6ddcefea095-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25365" href="#C25365">
                <time itemprop="dateCreated" datetime="2015-10-29T01:53:20-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>do you use jquery ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25365" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25365" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/80f4ff181b96d329ef2c5b9e90838a9e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3169/zhudonghe" class="user-moderator-N"><span itemprop="name">zhudonghe</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25365"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Izo                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25367" href="#C25367">
                <time itemprop="dateCreated" datetime="2015-10-29T01:55:47-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes, the ajax requests are called using jquery</p>
<blockquote>
<p>do you use jquery ?</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25367" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25367" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="25369" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '15</span>
              </span><br/><a name="C25369" href="#C25369">
                <time itemprop="dateCreated" datetime="2015-10-29T01:56:17-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code>var d1 = $.Deferred();
var d2 = $.Deferred();

function call_one(){
    //ajax goes here

    $.getJSON('MY URL', params, function(responce){
        d1.resolve();
    });
}

function call_two(){
    //ajax here
    $.getJSON('MY SECOND URL / params whatever ', params, function(responce){
        d2.resolve();
    });
}

function ajax_tree(){
    //ajax here

    // since its the final one call it and do what you gotta do
}

$.when( d1 ).done(function ( data ) {
    call_two(); //since first is done lets go for the second one
});

$.when( d2 ).done(function ( data ) {
    ajax_tree(); //call the final one
});

call_one(); //call the first ajax
</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25369" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25369" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25381" href="#C25381">
                <time itemprop="dateCreated" datetime="2015-10-29T02:56:20-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>did it work ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25381" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25381" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/660e8c9b157b0029b6e0ba24c0ea3eba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4363/lajosbencz" class="user-moderator-N"><span itemprop="name">Lajos Bencz</span></a>        </span>
        <br>

        <span class="karma">77.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25395" href="#C25395">
                <time itemprop="dateCreated" datetime="2015-10-29T05:50:43-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It will probably be something like this: <a href="http://stackoverflow.com/questions/10094348/concurrent-connections-with-apache-coming-from-same-client">http://stackoverflow.com/questions/10094348/concurrent-connections-with-apache-coming-from-same-client</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25395" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25395" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25415" href="#C25415">
                <time itemprop="dateCreated" datetime="2015-10-29T11:52:51-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Well, i just wonder why are you doing 3 requests to same controller/view ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25415" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25415" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/80f4ff181b96d329ef2c5b9e90838a9e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3169/zhudonghe" class="user-moderator-N"><span itemprop="name">zhudonghe</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25381"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Izo                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25445" href="#C25445">
                <time itemprop="dateCreated" datetime="2015-10-30T05:42:52-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I want to make the requests being handled asynchonnously to speed up the page loading time. The JS code above is to send requests Synchronously?</p>
<blockquote>
<p>did it work ?</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25445" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25445" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/80f4ff181b96d329ef2c5b9e90838a9e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3169/zhudonghe" class="user-moderator-N"><span itemprop="name">zhudonghe</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25415"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Wojciech Ślawski                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25449" href="#C25449">
                <time itemprop="dateCreated" datetime="2015-10-30T05:44:27-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Because there are almost 10 types of ajax requests in this page. So I put them in one controller/view and differ them with parameters.</p>
<blockquote>
<p>Well, i just wonder why are you doing 3 requests to same controller/view ?</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25449" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25449" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C25457" href="#C25457">
                <time itemprop="dateCreated" datetime="2015-10-30T05:52:48-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>my bad i was very sleepy yesturday and i was lazy to read carefully :D</p>
<p><a href="http://www.browserscope.org/?category=network">http://www.browserscope.org/?category=network</a></p>
<p>dont forget that your css js and so on are still calls to the server. User can change this values from their computers, but you can't change it from the code.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25457" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25457" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/80f4ff181b96d329ef2c5b9e90838a9e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3169/zhudonghe" class="user-moderator-N"><span itemprop="name">zhudonghe</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C25395"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/660e8c9b157b0029b6e0ba24c0ea3eba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Lajos Bencz                    </a>
                </div><div class="posts-buttons" align="right"><a name="C25465" href="#C25465">
                <time itemprop="dateCreated" datetime="2015-10-30T06:17:15-07:00" class="action-date">Oct '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes, I think it's the same issue. But I haven't found any config setting example to solve the problem. Could you please help me on this for some details? Thanks!</p>
<p>My environment is XAMPP for MAC.</p>
<p>I only found this page <a href="http://php.net/manual/es/memcached.sessions.php">http://php.net/manual/es/memcached.sessions.php</a>.
Some one had mentioned the parameters (MEMC_SESS_LOCK_ATTEMPTS MEMC_SESS_LOCK_WAIT MEMC_SESS_LOCK_EXPIRATION). It may helps but there is no details.</p>
<blockquote>
<p>It will probably be something like this: <a href="http://stackoverflow.com/questions/10094348/concurrent-connections-with-apache-coming-from-same-client">http://stackoverflow.com/questions/10094348/concurrent-connections-with-apache-coming-from-same-client</a></p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="25465" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="25465" data-cf-modified-4084ba0e7328d6ddcefea095-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="9217" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>