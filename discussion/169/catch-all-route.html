---
layout: default
title: 'Catch all route - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/13/routing">Routing</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Catch all route</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a></span>
            <time itemprop="dateCreated" datetime="2013-03-28T12:40:05-07:00">Mar '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-03-28T12:40:05-07:00">Mar '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Mar '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">5</span>
                </td>
                <td>
                    <label>Views</label><br>2119</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">3</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a></span>
                <span class="karma">9.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C169" href="#C169">
        <time class="action-date">Mar '13</time>
    </a>
</div>
<div class="post-content"><div><p>I have a route of the form: /{parent}/{child}/ which I pass to the CategoryController. However, if the {parent} category does not exist, I want to just continue the routing lookup. For example, if that /post/1 was received, and the CategoryController cannot find a category called &quot;post&quot; it will automatically pass it off the the PostController (which is the default behavior). Is there a good way to accomplish this?</p>
<p>Looking forward to this framework.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1492c8da3d88198c0361def89bd8c94a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/92/Agent-J" class="user-moderator-N"><span itemprop="name">Eugene</span></a>        </span>
        <br>

        <span class="karma">29.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C687" href="#C687">
                <time itemprop="dateCreated" datetime="2013-03-29T01:50:55-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You should use forward method</p>
<pre><code class="language-php">&lt;?php
class CategoryController extends \Phalcon\Mvc\Controller
{
    public function indexAction()
    {
        // simple example
        if($this-&gt;dispatcher-&gt;getParam('category') == 'post')
        {
            return $this-&gt;dispatcher-&gt;forward(array(
                'controller' =&gt; 'post',
                'action'     =&gt; 'index'
            ));
        }
    }
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="687" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="687" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a>        </span>
        <br>

        <span class="karma">9.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C688" href="#C688">
                <time itemprop="dateCreated" datetime="2013-03-29T02:22:51-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Is it possible to do that without enumerating all the possible &quot;non-categories&quot; such as 'post', 'authors', 'popular', etc? Otherwise I fear my code will require me to update the CategoryController and keep it in sync with all new controllers I add down the line.</p>
<p>Further, some of the new controllers may have multiple params such as <code>authors/2233/posts/business</code> which would mean the <code>forward()</code> method would need to be very generic to be able to handle all such requests and pass them along to the appropriate controller.</p>
<p>Thanks a bunch!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="688" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="688" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1492c8da3d88198c0361def89bd8c94a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/92/Agent-J" class="user-moderator-N"><span itemprop="name">Eugene</span></a>        </span>
        <br>

        <span class="karma">29.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C689" href="#C689">
                <time itemprop="dateCreated" datetime="2013-03-29T02:34:24-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>First of all you have to consider routing, think about any possible URL paths and specify all this parameters in the router.
Controller should not worry about it.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="689" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="689" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a>        </span>
        <br>

        <span class="karma">9.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C690" href="#C690">
                <time itemprop="dateCreated" datetime="2013-03-29T02:57:08-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>According to your suggestion I would have to modify my <code>CategoryController</code> every time I add a new route:</p>
<pre><code>if( in_array($this-&gt;dispatcher-&gt;getParam('category'), array('post', 'author', 'foo', 'bar' )) ...</code></pre>
<p>If tomorrow I add a new controller 'donations' then I must go back to <code>CategoryController</code> and add 'donations'` to that list. Right now, I don't add each controller to the routes list since by convention, it is called automatically.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="690" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="690" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1492c8da3d88198c0361def89bd8c94a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/92/Agent-J" class="user-moderator-N"><span itemprop="name">Eugene</span></a>        </span>
        <br>

        <span class="karma">29.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C691" href="#C691">
                <time itemprop="dateCreated" datetime="2013-03-29T03:18:53-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No. You should set all available routes in the router.</p>
<pre><code class="language-php">$router-&gt;add('/(\w+)/:params', [
    'controller' =&gt; 'category',
    'category' =&gt; 1,
    'params' =&gt; 2,
]);

$router-&gt;add('/(post|author|foo|bar)/:params', [
    'controller' =&gt; 1,
    'params' =&gt; 2,
]);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="691" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="691" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a>        </span>
        <br>

        <span class="karma">9.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C692" href="#C692">
                <time itemprop="dateCreated" datetime="2013-03-29T04:25:05-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hmm, that's exactly what I was hoping to avoid but I'll use that for lack of a better approach.</p>
<p>Right now in Phalcon and most MVC frameworks, a user creates 'FooController' and all routes starting with '/foo/' go to that controller automatically. This is a big part of MVC's &quot;convention over configuration&quot; approach. With your proposed solution, I'd have to configure every single route and that means the whole idea of using convention is negated (route names map to controllers of the same name which work with views and models of the same name, in most scenarios).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="692" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="692" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1492c8da3d88198c0361def89bd8c94a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/92/Agent-J" class="user-moderator-N"><span itemprop="name">Eugene</span></a>        </span>
        <br>

        <span class="karma">29.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C693" href="#C693">
                <time itemprop="dateCreated" datetime="2013-03-29T06:10:20-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You able to set route like this</p>
<pre><code class="language-php">$router-&gt;add(
    "/:controller/:action/:params",
    array(
        "controller" =&gt; 1,
        "action"     =&gt; 2,
        "params"     =&gt; 3,
    )
);</code></pre>
<p>and all routes starting with '/foo/' go to 'FooController' automatically</p>
<p>Check docs
<a href="https://docs.phalcon.io/en/latest/reference/routing.html">https://docs.phalcon.io/en/latest/reference/routing.html</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="693" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="693" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a>        </span>
        <br>

        <span class="karma">9.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C695" href="#C695">
                <time itemprop="dateCreated" datetime="2013-03-29T08:21:50-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It works but I ran into another minor snag. If the URL is <code>/about/index</code> it loads fine, but not if the URL is <code>/about/</code>. I tried adding </p>
<pre><code class="language-php">$router-&gt;setDefaultController("index");
$router-&gt;setDefaultAction("index");</code></pre>
<p>but no luck. In <code>AboutController</code>'s <code>Intiailize()</code> method I tried <code>die($this-&gt;router-&gt;getActionName());</code> which returns an empty string, meaning the action is empty and the default action is not called.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="695" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="695" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a>        </span>
        <br>

        <span class="karma">9.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C696" href="#C696">
                <time itemprop="dateCreated" datetime="2013-03-29T08:34:17-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It seems more complicated than that, the routes defined prior are handling the request instead of the generic :controller/:action/:params route which is defined at the bottom. Changing the order doesn't help either.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="696" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="696" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C699" href="#C699">
                <time itemprop="dateCreated" datetime="2013-03-30T03:30:14-07:00" class="action-date">Mar '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>If each route has corresponding controller and action and you want to catch those that don't, you can use notFound method of a router. </p>
<p>If routes are handled by controller that then decides whether request is valid or not valid by looking let's say in the database to check if category is there then controller itself should catch all not found data.</p>
<p>Please clarify and provide some examples.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="699" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="699" data-cf-modified-aa1cb5bcabf94bd174c820b9-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="169" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>