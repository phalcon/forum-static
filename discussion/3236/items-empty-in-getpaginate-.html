---
layout: default
title: 'items empty in getPaginate() - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/9/paginator">Paginator</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">items empty in getPaginate()</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/2172/dsabella84" class="user-moderator-N"><span itemprop="name">Dom</span></a></span>
            <time itemprop="dateCreated" datetime="2014-08-24T21:41:49-07:00">Aug '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-08-24T21:41:49-07:00">Aug '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">5</span>
                </td>
                <td>
                    <label>Views</label><br>1174</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/210803d2bf1f658b0d4ca1c7a4877196?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/2172/dsabella84" class="user-moderator-N"><span itemprop="name">Dom</span></a></span>
                <span class="karma">2.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C3236" href="#C3236">
        <time class="action-date">Aug '14</time>
    </a>
</div>
<div class="post-content"><div><p>When attempting to present data with a filter on the data.  Items are empty when displayed on view:</p>
<p>This is how im getting the result set:</p>
<pre><code class="language-php">$vehicles = Vehicles::find(array($vehicleWhere));

$paginator = new Paginator(array(
            "data" =&gt; $vehicles,
            "limit" =&gt; 10,
            "page" =&gt; $numberPage
        ));</code></pre>
<p>This is a vardump of the $vehicles, $numberPage, and $page.</p>
<pre><code>object(stdClass)[90]
  public 'items' =&gt; 
    array (size=0)
      empty
  public 'next' =&gt; int 1
  public 'first' =&gt; int 1
  public 'before' =&gt; int 1
  public 'current' =&gt; int 1
  public 'last' =&gt; int 1
  public 'total_pages' =&gt; int 1
  public 'total_items' =&gt; int 5</code></pre>
<pre><code>int 1</code></pre>
<pre><code>object(Phalcon\Mvc\Model\Resultset\Simple)[84]
  protected '_type' =&gt; int 0
  protected '_result' =&gt; 
    object(Phalcon\Db\Result\Pdo)[85]
      protected '_connection' =&gt; 
        object(Phalcon\Db\Adapter\Pdo\Mysql)[79]
          protected '_eventsManager' =&gt; 
            object(Phalcon\Events\Manager)[76]
              ...
          protected '_descriptor' =&gt; 
            array (size=4)
              ...
          protected '_dialect' =&gt; 
            object(Phalcon\Db\Dialect\Mysql)[81]
              ...
          protected '_connectionId' =&gt; int 1
          protected '_sqlStatement' =&gt; string 'SELECT `vehicles`.`Year` AS `Year` FROM `vehicles` GROUP BY `vehicles`.`Year` ORDER BY `vehicles`.`Year`' (length=104)
          protected '_sqlVariables' =&gt; null
          protected '_sqlBindTypes' =&gt; null
          protected '_transactionsWithSavepoints' =&gt; int 0
          protected '_pdo' =&gt; 
            object(PDO)[80]
              ...
          protected '_affectedRows' =&gt; null
          protected '_transactionLevel' =&gt; int 0
          protected '_type' =&gt; string 'mysql' (length=5)
          protected '_dialectType' =&gt; string 'mysql' (length=5)
      protected '_result' =&gt; null
      protected '_fetchMode' =&gt; int 2
      protected '_pdoStatement' =&gt; 
        object(PDOStatement)[86]
          public 'queryString' =&gt; string 'SELECT `vehicles`.`Id`, `vehicles`.`Vehicle_Makes_Id`, `vehicles`.`Vehicle_Models_Id`, `vehicles`.`Year` FROM `vehicles` WHERE `vehicles`.`Year` = 1998 AND `vehicles`.`Vehicle_Makes_Id` = 5' (length=189)
      protected '_sqlStatement' =&gt; string 'SELECT `vehicles`.`Id`, `vehicles`.`Vehicle_Makes_Id`, `vehicles`.`Vehicle_Models_Id`, `vehicles`.`Year` FROM `vehicles` WHERE `vehicles`.`Year` = 1998 AND `vehicles`.`Vehicle_Makes_Id` = 5' (length=189)
      protected '_bindParams' =&gt; null
      protected '_bindTypes' =&gt; null
      protected '_rowCount' =&gt; int 5
  protected '_cache' =&gt; null
  protected '_isFresh' =&gt; boolean true
  protected '_pointer' =&gt; int 0
  protected '_count' =&gt; int 5
  protected '_activeRow' =&gt; boolean false
  protected '_rows' =&gt; 
    array (size=5)
      0 =&gt; 
        array (size=4)
          'Id' =&gt; string '1065' (length=4)
          'Vehicle_Makes_Id' =&gt; string '5' (length=1)
          'Vehicle_Models_Id' =&gt; string '27' (length=2)
          'Year' =&gt; string '1998' (length=4)
      1 =&gt; 
        array (size=4)
          'Id' =&gt; string '1066' (length=4)
          'Vehicle_Makes_Id' =&gt; string '5' (length=1)
          'Vehicle_Models_Id' =&gt; string '28' (length=2)
          'Year' =&gt; string '1998' (length=4)
      2 =&gt; 
        array (size=4)
          'Id' =&gt; string '1067' (length=4)
          'Vehicle_Makes_Id' =&gt; string '5' (length=1)
          'Vehicle_Models_Id' =&gt; string '30' (length=2)
          'Year' =&gt; string '1998' (length=4)
      3 =&gt; 
        array (size=4)
          'Id' =&gt; string '1068' (length=4)
          'Vehicle_Makes_Id' =&gt; string '5' (length=1)
          'Vehicle_Models_Id' =&gt; string '31' (length=2)
          'Year' =&gt; string '1998' (length=4)
      4 =&gt; 
        array (size=4)
          'Id' =&gt; string '1069' (length=4)
          'Vehicle_Makes_Id' =&gt; string '5' (length=1)
          'Vehicle_Models_Id' =&gt; string '585' (length=3)
          'Year' =&gt; string '1998' (length=4)
  protected '_errorMessages' =&gt; null
  protected '_hydrateMode' =&gt; int 0
  protected '_model' =&gt; 
    object(WP\Models\Vehicles)[72]
      public 'Id' =&gt; null
      public 'Vehicle_Makes_Id' =&gt; null
      public 'Vehicle_Models_Id' =&gt; null
      public 'Year' =&gt; null
      protected '_dependencyInjector' =&gt;        
        object(Phalcon\DI\FactoryDefault)[5]
          public '_services' =&gt; 
            array (size=27)
              ...
          public '_sharedInstances' =&gt; 
            array (size=15)
              ...
          public '_freshInstance' =&gt; boolean true
      protected '_modelsManager' =&gt; 
        object(Phalcon\Mvc\Model\Manager)[70]
          protected '_dependencyInjector' =&gt; 
            object(Phalcon\DI\FactoryDefault)[5]
              ...
          protected '_eventsManager' =&gt; null
          protected '_customEventsManager' =&gt; null
          protected '_readConnectionServices' =&gt; null
          protected '_writeConnectionServices' =&gt; null
          protected '_aliases' =&gt; 
            array (size=2)
              ...
          protected '_hasMany' =&gt; null
          protected '_hasManySingle' =&gt; null
          protected '_hasOne' =&gt; null
          protected '_hasOneSingle' =&gt; null
          protected '_belongsTo' =&gt; 
            array (size=2)
              ...
          protected '_belongsToSingle' =&gt; 
            array (size=1)
              ...
          protected '_hasManyToMany' =&gt; null
          protected '_hasManyToManySingle' =&gt; null
          protected '_initialized' =&gt; 
            array (size=1)
              ...
          protected '_sources' =&gt; 
            array (size=1)
              ...
          protected '_schemas' =&gt; null
          protected '_behaviors' =&gt; null
          protected '_lastInitialized' =&gt; 
            &amp;object(WP\Models\Vehicles)[72]
          protected '_lastQuery' =&gt; null
          protected '_reusable' =&gt; null
          protected '_keepSnapshots' =&gt; null
          protected '_dynamicUpdate' =&gt; null
          protected '_namespaceAliases' =&gt; null
      protected '_modelsMetaData' =&gt; null
      protected '_errorMessages' =&gt; null
      protected '_operationMade' =&gt; int 0
      protected '_dirtyState' =&gt; int 1
      protected '_transaction' =&gt; null
      protected '_uniqueKey' =&gt; null
      protected '_uniqueParams' =&gt; null
      protected '_uniqueTypes' =&gt; null
      protected '_skipped' =&gt; null
      protected '_related' =&gt; null
      protected '_snapshot' =&gt; null
  protected '_columnMap' =&gt; null
  protected '_keepSnapshots' =&gt; boolean false         </code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6549777fa33638d0674db65d9111d400?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2145/DestinyMKas" class="user-moderator-N"><span itemprop="name">Karolis Mačiulskis</span></a>        </span>
        <br>

        <span class="karma">26.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C10665" href="#C10665">
                <time itemprop="dateCreated" datetime="2014-08-24T23:31:19-07:00" class="action-date">Aug '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Which adapter you use as Paginator class? If you want to use resultset as data, then you should use \Phalcon\Paginator\Adapter\Model </p>
<p>More info: <a href="https://docs.phalcon.io/en/latest/reference/pagination.html#adapters-usage">https://docs.phalcon.io/en/latest/reference/pagination.html#adapters-usage</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10665" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10665" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/210803d2bf1f658b0d4ca1c7a4877196?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2172/dsabella84" class="user-moderator-N"><span itemprop="name">Dom</span></a>        </span>
        <br>

        <span class="karma">2.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C10666" href="#C10666">
                <time itemprop="dateCreated" datetime="2014-08-24T23:33:35-07:00" class="action-date">Aug '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>That is the Adapter I am using:</p>
<pre><code class="language-php">use Phalcon\Paginator\Adapter\Model as Paginator;</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10666" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10666" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/996ff674702537917d6ea0b9f7d9e2de?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2392/Operaiter" class="user-moderator-N"><span itemprop="name">Operaiter</span></a>        </span>
        <br>

        <span class="karma">67</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C11748" href="#C11748">
                <time itemprop="dateCreated" datetime="2014-09-30T07:05:06-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hey,</p>
<p>sorry for injecting to your topic.</p>
<p>I've the same problem.
Did you solved it? May you can share your experience with me?</p>
<p>Thanks a lot
OP =)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="11748" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="11748" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b0118ac36d373acb24122c8183b087b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/578/JREAM" class="user-moderator-N"><span itemprop="name">Jesse Boyer</span></a>        </span>
        <br>

        <span class="karma">58.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="11756" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '14</span>
              </span><br/><a name="C11756" href="#C11756">
                <time itemprop="dateCreated" datetime="2014-09-30T11:02:41-07:00" class="action-date">Sep '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Try using the Builder, see below,</p>
<p>Here is what I do:</p>
<pre><code class="language-php">
    \Phalcon\Mvc\Model\Transaction\Manager as TransactionManager;

    /**
     * @return void
     */
    public function indexAction()
    {
        $page = (int) $this-&gt;request-&gt;get("page");
        $page = (!$page) ? 1 : (int) $page;

        $builder = $this-&gt;modelsManager-&gt;createBuilder()
            -&gt;columns('id, user_id, transaction_id, type, gateway, amount, created_at')
            -&gt;from('Transaction') // Notice the capitalized model name
            -&gt;orderBy('id');

        $paginator = new \Phalcon\Paginator\Adapter\QueryBuilder([
            "builder" =&gt; $builder,
            "limit"=&gt; 50,
            "page" =&gt; $page
        ]);

        // Get the paginated results
        $page = $paginator-&gt;getPaginate();

        $this-&gt;view-&gt;setVars([
            'page' =&gt; $page,
        ]);
        $this-&gt;view-&gt;pick('admin/transaction');
    }</code></pre>
<pre><code class="language-html">    {% raw %}{%{% endraw %} for transaction in page.items {% raw %}%}{% endraw %}
    ...
    &lt;tr&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.id {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.user_id {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.transaction_id {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.type {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.gateway {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.amount {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.amount_after_discount {% raw %}}}{% endraw %}&lt;/td&gt;
        &lt;td&gt;{% raw %}{{{% endraw %} transaction.created_at {% raw %}}}{% endraw %}&lt;/td&gt;
    &lt;/tr&gt;
    ...
    {% raw %}{%{% endraw %} endfor {% raw %}%}{% endraw %}

&lt;ul class="pagination pagination-large"&gt;
       &lt;l}&gt;&lt;a href="{% raw %}{{{% endraw %} url('admin/transaction') {% raw %}}}{% endraw %}"&gt;&lt;span class="glyphicon glyphicon-fast-backward"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a href="{% raw %}{{{% endraw %} url('admin/transaction') {% raw %}}}{% endraw %}?page=&lt;?= $page-&gt;before; ?&gt;"&gt;&lt;span class="glyphicon glyphicon-chevron-left"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a href="{% raw %}{{{% endraw %} url('admin/transaction') {% raw %}}}{% endraw %}?page=&lt;?= $page-&gt;next; ?&gt;"&gt;&lt;span class="glyphicon glyphicon-chevron-right"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a href="{% raw %}{{{% endraw %} url('admin/transaction') {% raw %}}}{% endraw %}?page=&lt;?= $page-&gt;last; ?&gt;"&gt;&lt;span class="glyphicon glyphicon-fast-forward"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="11756" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="11756" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6549777fa33638d0674db65d9111d400?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2145/DestinyMKas" class="user-moderator-N"><span itemprop="name">Karolis Mačiulskis</span></a>        </span>
        <br>

        <span class="karma">26.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C11775" href="#C11775">
                <time itemprop="dateCreated" datetime="2014-10-01T00:06:26-07:00" class="action-date">Oct '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This is fragment from my grid helper.</p>
<pre><code class="language-php">
    public function setData(Builder $data)
    {
        $this-&gt;_data = $data;
        return $this;
    }

    public function getData()
    {
        return $this-&gt;_data;
    }

    public function loadData()
    {
        if (is_null($this-&gt;_paginator))
        {
            $currentPage = ($this-&gt;request-&gt;has('page')) ? (int)$this-&gt;request-&gt;get('page') : 1;

            $data = clone $this-&gt;getData();
            $data-&gt;columns(sprintf('count(%s.id) as total', $this-&gt;getName()));
            $total = $data-&gt;getQuery()-&gt;execute()-&gt;getFirst()-&gt;total;

            if ($currentPage &gt; ceil($total / $this-&gt;getLimit()) || $currentPage &lt; 1)
                $currentPage = 1;

            $paginator = new \Phalcon\Paginator\Adapter\QueryBuilder(
                array(
                    "builder" =&gt; $this-&gt;getData(),
                    "limit"=&gt; $this-&gt;getLimit(),
                    "page" =&gt; $currentPage
                )
            );

            $this-&gt;_paginator = $paginator-&gt;getPaginate();
        }

        return $this-&gt;_paginator;
    }

    public function build()
    {
        return $this-&gt;viewSimple-&gt;render('blocks/grid/layout', array('grid' =&gt; $this, 'paginator' =&gt; $this-&gt;loadData()));
    }
</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="11775" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="11775" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/dd88f70e59338665cf34656e1a4ef662?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2736/damroyan" class="user-moderator-N"><span itemprop="name">damroyan</span></a>        </span>
        <br>

        <span class="karma">70</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13619" href="#C13619">
                <time itemprop="dateCreated" datetime="2014-11-25T02:16:42-07:00" class="action-date">Nov '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Solve this problem. If you use code from base example:</p>
<blockquote>
<p>$currentPage = (int) $_GET[&quot;page&quot;];</p>
</blockquote>
<p>The only problem is value of $currentPage. it will turn 0 for very first page (if $_GET['page'] is not defined). Thats why you receive empty array in $paginator-&gt;items</p>
<p>Use this construction:</p>
<blockquote>
<p>$currentPage = ($this-&gt;request-&gt;has('page')) ? (int)$this-&gt;request-&gt;get('page') : 1;</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13619" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13619" data-cf-modified-4b5bfdcc9e318380b04c832e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="3236" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>