---
layout: default
title: 'Skip columns - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Skip columns</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/6785/badluck81" class="user-moderator-N"><span itemprop="name">badluck81</span></a></span>
            <time itemprop="dateCreated" datetime="2017-06-30T06:57:40-07:00">Jun '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-06-30T06:57:40-07:00">Jun '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>347</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/4cba472a528fa6259bd39add5a5a497d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/6785/badluck81" class="user-moderator-N"><span itemprop="name">badluck81</span></a></span>
                <span class="karma">6.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C16453" href="#C16453">
        <time class="action-date">Jun '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hello!
I want to create a logic that will keep in pending specific columns from some tables and store them in a separate table (snapshots with status pending) and apply them on admin approval.
When user data is submitted, unmoderated rows will be updated instantly in table while moderated rows will processed in table &quot;snapshots&quot; (id, table, serializeddata, status) -&gt; if already pending, edit else insert pending data.
What can I do in model to achieve this ?
I was thinking for something like this &quot;pseudocode&quot; logic: </p>
<pre><code>beforeSave() {
    if usersubmited {
        $allowed = ['name', 'email'];
        self::save($userinputdata, ['allowed', 'columns']); 
        Revisions::save(["table"=&gt;self::getSource(), "data"=&gt;serialize($this-&gt;toArray(['skipped_columns']), 'status'=&gt;pending)]);
        return false;
    } 
}</code></pre>
<p>But i'm not if phalcon can do this:</p>
<pre><code>self::save($userinputdata, ['allowed', 'columns']);
OR
$this-&gt;toArray(['skipped_columns']),</code></pre>
<p>Any advice and suggestions will be greatly appreciated :D
Thanks!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-431ab3078e150df4651e602a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-431ab3078e150df4651e602a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/4bc65c6eab5e6a2344066da4598654cb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9611/phil67000" class="user-moderator-N"><span itemprop="name">phil67000</span></a>        </span>
        <br>

        <span class="karma">5.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C49269" href="#C49269">
                <time itemprop="dateCreated" datetime="2017-07-01T01:24:32-07:00" class="action-date">Jul '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi</p>
<p>I never have to  use it but in the doc</p>
<p><a href="https://docs.phalcon.io/fr/3.2/db-models#skipping-columns">https://docs.phalcon.io/fr/3.2/db-models#skipping-columns</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="49269" data-cf-modified-431ab3078e150df4651e602a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="49269" data-cf-modified-431ab3078e150df4651e602a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/4cba472a528fa6259bd39add5a5a497d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6785/badluck81" class="user-moderator-N"><span itemprop="name">badluck81</span></a>        </span>
        <br>

        <span class="karma">6.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C49271" href="#C49271">
                <time itemprop="dateCreated" datetime="2017-07-01T02:28:22-07:00" class="action-date">Jul '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hello,
That option is skipping columns even for admin... and is not what I need.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="49271" data-cf-modified-431ab3078e150df4651e602a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="49271" data-cf-modified-431ab3078e150df4651e602a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="16453" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>