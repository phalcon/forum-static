---
layout: default
title: 'Class Phalcon\\UserPlugin\\Plugin\\Security not found - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/16/security">Security</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Class Phalcon\\UserPlugin\\Plugin\\Security not found</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/10355/mikkelson" class="user-moderator-N"><span itemprop="name">James Mikkelson</span></a></span>
            <time itemprop="dateCreated" datetime="2017-10-26T10:42:15-07:00">Oct '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-10-26T10:42:15-07:00">Oct '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>1184</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/5b00ca0117c418742e6e3471e1db05d7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/10355/mikkelson" class="user-moderator-N"><span itemprop="name">James Mikkelson</span></a></span>
                <span class="karma">1.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17167" href="#C17167">
        <time class="action-date">Oct '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,</p>
<p>I'm attempting to implement the <a href="https://github.com/calinrada/PhalconUserPlugin/tree/v3.0.0">PhalconUserPlugin</a>.</p>
<p>So far I've installed a fresh copy of Phalcon and created a couple of controllers, views and models using the phalcon command line tools. With the exception of setting up database credentials, I've not altered any other files, such as those in config/.</p>
<p>I've installed the plugin with composer and can see the files in vendor/crada/phalcon-user-plugin.</p>
<p>I've added the following lines to config/services.php:</p>
<pre><code class="language-php">&lt;?php 

...
use Phalcon\UserPlugin\Plugin\Security as SecurityPlugin;
use Phalcon\Mvc\Dispatcher;
use Phalcon\Events\Manager as EventsManager;
use Phalcon\UserPlugin\Auth\Auth;
use Phalcon\UserPlugin\Acl\Acl;
use Phalcon\UserPlugin\Mail\Mail;

...

$di-&gt;setShared(
    'dispatcher',
    function() use ($di) {
        $eventsManager = $di-&gt;getShared('eventsManager');

        $security = new SecurityPlugin($di);
        $eventsManager-&gt;attach('dispatch', $security);

        $dispatcher = new Dispatcher();
        $dispatcher-&gt;setEventsManager($eventsManager);

        return $dispatcher;
    }
  );

  ...</code></pre>
<p>If I then try to reload in the browser any of my previously working controllers, I get the below error:</p>
<blockquote>
<p>PHP Fatal error:  Uncaught Error: Class 'Phalcon\UserPlugin\Plugin\Security' not found in /var/www/html/confab/app/config/services.php:45\nStack trace:\n#0 [internal function]: Closure-&gt;{closure}()\n#1 [internal function]: Phalcon\Di\Service-&gt;resolve(NULL, Object(Phalcon\Di\FactoryDefault))\n#2 [internal function]: Phalcon\Di-&gt;get('dispatcher', NULL)\n#3 [internal function]: Phalcon\Di-&gt;getShared('dispatcher')\n#4 /var/www/html/confab/public/index.php(42): Phalcon\Mvc\Application-&gt;handle()\n#5 {main}\n  thrown in /var/www/html/confab/app/config/services.php on line 45</p>
</blockquote>
<p>I looked through the closed issues on the plugins github. There was a complete example services.php posted, but only for earlier vesions of Pahlcon.</p>
<p>Any pointers would be appreciated.</p>
<p>Cheers,</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-15aee0db0c2372fcc122df68-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-15aee0db0c2372fcc122df68-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Åšlawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51805" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51805" href="#C51805">
                <time itemprop="dateCreated" datetime="2017-10-26T15:30:40-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This means such class doesn't exist/you didn't register it with loader.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51805" data-cf-modified-15aee0db0c2372fcc122df68-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51805" data-cf-modified-15aee0db0c2372fcc122df68-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5b00ca0117c418742e6e3471e1db05d7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/10355/mikkelson" class="user-moderator-N"><span itemprop="name">James Mikkelson</span></a>        </span>
        <br>

        <span class="karma">1.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51809" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51809" href="#C51809">
                <time itemprop="dateCreated" datetime="2017-10-27T00:43:26-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks, Wojciech. You were correct. I assumed that composer would have been autoloaded by phalcon automatically. I've not included the composer autoloader and the class is found.</p>
<p>Cheers</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51809" data-cf-modified-15aee0db0c2372fcc122df68-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51809" data-cf-modified-15aee0db0c2372fcc122df68-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17167" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>