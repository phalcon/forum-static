---
layout: default
title: 'Empty string in Model - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Empty string in Model</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/6049/robertkrzuk" class="user-moderator-N"><span itemprop="name">Robert Krzuk</span></a></span>
            <time itemprop="dateCreated" datetime="2017-04-13T12:24:31-07:00">Apr '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-04-13T12:24:31-07:00">Apr '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>780</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/12ec29610baf15f24baa7b2244552d2d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/6049/robertkrzuk" class="user-moderator-N"><span itemprop="name">Robert Krzuk</span></a></span>
                <span class="karma">4.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C15951" href="#C15951">
        <time class="action-date">Apr '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,
I have a question about some generic method for preventing inserting empty string into database for field another then TEXT e.g. Data.</p>
<p>Please imageine we have got form with two fileds:
name - varchar
dob - date</p>
<p>Now in controller I'm using assign method to insert that values to Model object.</p>
<p>If I don't fill dob field then to that field in model will be assigned &quot;&quot; so trying save to database will casue error. &quot;&quot; isn't correct date representation.</p>
<p>Another case is I have got correct date, object is saved into DB. Now I wanted to updated that object and clear date field. And here similar &quot;&quot; will be assigned to date field and error will be returned on Update query.</p>
<p>I was thinking about php arrayfilter to remove empty strings, null values , etc. but in that case I will be unable to clear value in text field.</p>
<p>What solution do You use.</p>
<p>thanks</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C47559" href="#C47559">
                <time itemprop="dateCreated" datetime="2017-04-13T13:02:01-07:00" class="action-date">Apr '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Just use validation and <code>Phalcon\Validation\Validator\Date</code></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="47559" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="47559" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/12ec29610baf15f24baa7b2244552d2d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6049/robertkrzuk" class="user-moderator-N"><span itemprop="name">Robert Krzuk</span></a>        </span>
        <br>

        <span class="karma">4.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C47561" href="#C47561">
                <time itemprop="dateCreated" datetime="2017-04-13T23:46:49-07:00" class="action-date">Apr '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think validator will check if date field is in correct format, so if it is proper date or null. But from web form if use would like to remove date then he will erase that input and that input will be provided as empty string so validator will recognize that this is incorect value, but from user point of view it is correct (user wanted to remove date value).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="47561" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="47561" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="47563" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '17</span>
              </span><br/><a name="C47563" href="#C47563">
                <time itemprop="dateCreated" datetime="2017-04-14T02:10:32-07:00" class="action-date">Apr '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No, it will check for not null too. You can also use allowEmpty and allow only null value(at least in latest phalcon) when disallow empty string.</p>
<p>Also you can also just use beforeValidationOnSave and if it's empty string then change value to null.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="47563" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="47563" data-cf-modified-1f1d2f8dbb5a7dd838c47715-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="15951" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>