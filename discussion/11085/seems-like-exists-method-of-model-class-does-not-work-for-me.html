---
layout: default
title: 'Seems like _exists() method of Model class does not work for me - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Seems like _exists() method of Model class does not work for me</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/3609/PaulSh84" class="user-moderator-N"><span itemprop="name">Paul</span></a></span>
            <time itemprop="dateCreated" datetime="2016-04-08T04:10:56-07:00">Apr '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-04-08T04:10:56-07:00">Apr '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>260</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/21e7f3deb49deffd563b413262ded48f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/3609/PaulSh84" class="user-moderator-N"><span itemprop="name">Paul</span></a></span>
                <span class="karma">14.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C11085" href="#C11085">
        <time class="action-date">Apr '16</time>
    </a>
</div>
<div class="post-content"><div><p>What are the unique columns, the function _exists in Model class is verifying?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/21e7f3deb49deffd563b413262ded48f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3609/PaulSh84" class="user-moderator-N"><span itemprop="name">Paul</span></a>        </span>
        <br>

        <span class="karma">14.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C32273" href="#C32273">
                <time itemprop="dateCreated" datetime="2016-04-08T04:12:18-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I can create and insert multiple events with the same data over and over again using create() method of the Model class :(</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32273" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32273" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/21e7f3deb49deffd563b413262ded48f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3609/PaulSh84" class="user-moderator-N"><span itemprop="name">Paul</span></a>        </span>
        <br>

        <span class="karma">14.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C32281" href="#C32281">
                <time itemprop="dateCreated" datetime="2016-04-08T05:01:56-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>How can i add columns by which it will verify, if such record exists or not?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32281" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32281" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1f92c8832155ca96cb3147af3cad27b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/6311/davihu" class="user-moderator-N"><span itemprop="name">David HÃ¼bner</span></a>        </span>
        <br>

        <span class="karma">9.3k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C32283" href="#C32283">
                <time itemprop="dateCreated" datetime="2016-04-08T05:16:23-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It checks if model exists by its primary key. So if you use Auto Increment in MySQL or Sequence in PostgreSQL as PK and do not set it, model will always create new row in DB.</p>
<p>If you want to check if some model column is unique, use Uniqueness validator.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32283" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32283" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/21e7f3deb49deffd563b413262ded48f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3609/PaulSh84" class="user-moderator-N"><span itemprop="name">Paul</span></a>        </span>
        <br>

        <span class="karma">14.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="32305" data-toggle="modal" data-target="#historyModal">
                edited <span>Apr '16</span>
              </span><br/><a name="C32305" href="#C32305">
                <time itemprop="dateCreated" datetime="2016-04-08T06:59:20-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/6311/davihu">@davihu</a>
Thanx, it works, but still it does not work like i need. :)
Here is my code:</p>
<pre><code class="language-php">    $this-&gt;validate(
     new Uniqueness(
                                    array(
                                            "field"   =&gt; "room_number",
                                            "field"   =&gt; "start_date",
                                            "field"   =&gt; "event_time",  
                                    "message" =&gt; "This appt is already scheduled. Please choose another Room, Date or Time"
                                    )
                    )
                          );

     if ($this-&gt;validationHasFailed() == true) 
     {
                return false;
          }</code></pre>
<p>But i want it to work only if all 3 fields are indentical to the previous records. Can you advise? Thnx</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32305" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32305" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/21e7f3deb49deffd563b413262ded48f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3609/PaulSh84" class="user-moderator-N"><span itemprop="name">Paul</span></a>        </span>
        <br>

        <span class="karma">14.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C32311" href="#C32311">
                <time itemprop="dateCreated" datetime="2016-04-08T09:46:58-07:00" class="action-date">Apr '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Already found the solution in the forum. Thanx</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="32311" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="32311" data-cf-modified-26ae7a19b6761e49ad8869f4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="11085" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>