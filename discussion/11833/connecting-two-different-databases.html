---
layout: default
title: 'Connecting two different databases - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Connecting two different databases</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/5305/muhammadahsan1991" class="user-moderator-N"><span itemprop="name">muhammadahsan1991</span></a></span>
            <time itemprop="dateCreated" datetime="2016-06-14T23:55:02-07:00">Jun '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-06-14T23:55:02-07:00">Jun '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>677</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/4ada282ac8a583e0c957fb674afc11ea?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/5305/muhammadahsan1991" class="user-moderator-N"><span itemprop="name">muhammadahsan1991</span></a></span>
                <span class="karma">14.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C11833" href="#C11833">
        <time class="action-date">Jun '16</time>
    </a>
</div>
<div class="post-content"><div><p>I have a situation:</p>
<p>I want to create connection of two entirely different databases, one for fetching the records and use these records to insert it into another database which is used by my phalcon application.</p>
<p>Note: This is not for master-slave architecture!!!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-aa7221e2e044fa7deceeda06-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-aa7221e2e044fa7deceeda06-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C35507" href="#C35507">
                <time itemprop="dateCreated" datetime="2016-06-15T01:25:25-07:00" class="action-date">Jun '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Well, you'd need to create two services in your DI. It's just that if any component relies on existance of 'db' component, your code might not work as desired, i.e. Models. But in Phalcon everything can be overriden.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="35507" data-cf-modified-aa7221e2e044fa7deceeda06-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="35507" data-cf-modified-aa7221e2e044fa7deceeda06-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/4ada282ac8a583e0c957fb674afc11ea?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5305/muhammadahsan1991" class="user-moderator-N"><span itemprop="name">muhammadahsan1991</span></a>        </span>
        <br>

        <span class="karma">14.7k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C35507"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Jonathan Aaron Steel                    </a>
                </div><div class="posts-buttons" align="right"><a name="C35521" href="#C35521">
                <time itemprop="dateCreated" datetime="2016-06-15T01:48:37-07:00" class="action-date">Jun '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>can you please share the code example if possible to elaborate your answer.</p>
<blockquote>
<p>Well, you'd need to create two services in your DI. It's just that if any component relies on existance of 'db' component, your code might not work as desired, i.e. Models. But in Phalcon everything can be overriden.</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="35521" data-cf-modified-aa7221e2e044fa7deceeda06-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="35521" data-cf-modified-aa7221e2e044fa7deceeda06-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="35525" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '16</span>
              </span><br/><a name="C35525" href="#C35525">
                <time itemprop="dateCreated" datetime="2016-06-15T01:51:59-07:00" class="action-date">Jun '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>/**</p>
<ul>
<li>Database connection is created based in the parameters defined in the configuration file</li>
<li>NOTE: The mysql libraries and PDO will automatically use Unix sockets if the host is defined as 'localhost'.</li>
<li>To force TCP/IP you need to set an IP address 127.0.0.1 in config.ini, which doesn't make sense on a same box, it needs to be changed to a real IPv4 where MySQL instance is hosted remotely.
*/</li>
</ul>
<pre><code class="language-php">$di-&gt;setShared('db', function () use ($config) {
    $dbConfig = $config-&gt;database-&gt;toArray();
    //set your DB as usual....
    }

$di-&gt;setShared('dbAudit', function () use ($config) { //this is used for Audit purposes i.e. only inserts
    $dbConfig = $config-&gt;databaseAudit-&gt;toArray();
    //set your DB as usual....
    }</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="35525" data-cf-modified-aa7221e2e044fa7deceeda06-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="35525" data-cf-modified-aa7221e2e044fa7deceeda06-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="11833" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>