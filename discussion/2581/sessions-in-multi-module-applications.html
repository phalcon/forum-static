---
layout: default
title: 'Sessions in Multi Module applications - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Sessions in Multi Module applications</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1792/adamellsworth" class="user-moderator-N"><span itemprop="name">Adam</span></a></span>
            <time itemprop="dateCreated" datetime="2014-06-16T13:47:56-07:00">Jun '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-06-16T13:47:56-07:00">Jun '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>None</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">0</span>
                </td>
                <td>
                    <label>Views</label><br>881</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/201939e2d2d7f5e4c874fa0a5a7f9d2d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1792/adamellsworth" class="user-moderator-N"><span itemprop="name">Adam</span></a></span>
                <span class="karma">965</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2581" href="#C2581">
        <time class="action-date">Jun '14</time>
    </a>
</div>
<div class="post-content"><div><p>I was wondering what stipulations there were for utilizing Phalcon\Session\Adapter\Files in multi module applications.</p>
<p>I have two modules and start the session (only once) in my config file in a boilerplate fashion:</p>
<pre><code>$di-&gt;setShared('session', function() {
    $session = new Phalcon\Session\Adapter\Files();
    $session-&gt;start();
    return $session;
});</code></pre>
<p>However, in only one module, when I dump the session variable, do I get <code>protected _started =&gt; boolean true</code>. </p>
<p>I realize this isn't a lot to go on, but I've been debugging it all morning to no avail.</p>
<p>Both module's routing is working as it should.</p>
<hr />
<p>Edit:
what really drives me nuts is that on our production server the session is started in both modules, so only in the dev environment is it not. which means this probably isn't really phalcon related.</p>
<hr />
<p>When I go to a controller, say IndexController.php, and put in <code>$this-&gt;session-&gt;start();</code> in the indexAction() it still fails to return <code>true</code> in the view. But if in the view is use <code>&lt;?php session_start(); var_dump($_SESSION); ?&gt;</code> it works. And if I try the Volt alternative <code>{% raw %}{{{% endraw %} this.session.start() {% raw %}}}{% endraw %}</code> it says a session is already started. :p</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-ca6cf67dea6d6c210e22cc97-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-ca6cf67dea6d6c210e22cc97-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2581" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>