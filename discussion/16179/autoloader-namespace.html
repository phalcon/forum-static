---
layout: default
title: 'Autoloader Namespace - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/25/configuration">Configuration</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Autoloader Namespace</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/7497/LudwigBr" class="user-moderator-N"><span itemprop="name">Ludwig Breitsprecher</span></a></span>
            <time itemprop="dateCreated" datetime="2017-05-23T08:09:56-07:00">May '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-05-23T08:09:56-07:00">May '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>801</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/cc9bb20a5646d0ffea2fd3c71e652b8a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/7497/LudwigBr" class="user-moderator-N"><span itemprop="name">Ludwig Breitsprecher</span></a></span>
                <span class="karma">5.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C16179" href="#C16179">
        <time class="action-date">May '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hello everyone,</p>
<p>I am trying to use the Phalcon Autoloader and include my custom Namespace
I registered my namespace wiht &quot;$loader-&gt;registerNamespaces()&quot; and when dumping the information afterwards it seems like it worked:
array(1) {
[&quot;woh&quot;]=&gt;
array(1) {
[0]=&gt;
string(8) &quot;app/src/&quot;
}
}</p>
<p>But when I try to use new woh\AccessRouteControl();
I just get
Fatal error: Uncaught Error: Class 'woh\AccessRouteControl' not found </p>
<p>the Class is located in /app/src/AccessRouteControl.php</p>
<p>What am I doing wrong?
Best Regards</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-222c6fb321978302a284fe2a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-222c6fb321978302a284fe2a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e527d7bd9f5a49b921abedad26819841?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/9455/elroliv" class="user-moderator-N"><span itemprop="name">elroliv</span></a>        </span>
        <br>

        <span class="karma">3.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48325" href="#C48325">
                <time itemprop="dateCreated" datetime="2017-05-23T08:19:13-07:00" class="action-date">May '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>can you post some part files like $loader-&gt;registerNamespaces() and your controller ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48325" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48325" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e527d7bd9f5a49b921abedad26819841?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/9455/elroliv" class="user-moderator-N"><span itemprop="name">elroliv</span></a>        </span>
        <br>

        <span class="karma">3.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="48327" data-toggle="modal" data-target="#historyModal">
                edited <span>May '17</span>
              </span><br/><a name="C48327" href="#C48327">
                <time itemprop="dateCreated" datetime="2017-05-23T08:31:19-07:00" class="action-date">May '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>in your bootstrap :</p>
<pre><code class="language-php">$namespace =  [
    'woh'  =&gt; APP_PATH . '/.../Controller/',
];

$loader = new Loader();

$loader-&gt;registerNamespaces($namespace);

$loader-&gt;register();</code></pre>
<pre><code class="language-php">use woh\AccessRouteControl;

class MyController
{
    public function indexAction()
    {
        $obj = new AccessRouteControl();
    }</code></pre>
<p>but if you use this AccessRouteControl in the bootstrap, before </p>
<pre><code class="language-php">$this-&gt;setApplication(new Application());
$this-&gt;setDi($di));</code></pre>
<p>I think it's not registered yet</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48327" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48327" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e527d7bd9f5a49b921abedad26819841?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/9455/elroliv" class="user-moderator-N"><span itemprop="name">elroliv</span></a>        </span>
        <br>

        <span class="karma">3.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48329" href="#C48329">
                <time itemprop="dateCreated" datetime="2017-05-23T08:33:32-07:00" class="action-date">May '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>to registered namespace before bootstrap init, I use something like this</p>
<pre><code class="language-php">spl_autoload_register(function ($class) {

    // project-specific namespace prefix
    $prefix = 'woh\\AccessRouteControl\\';

    // base directory for the namespace prefix
    $base_dir = __DIR__ . '/';

    // does the class use the namespace prefix?
    $len = strlen($prefix);
    if (strncmp($prefix, $class, $len) !== 0) {
        // no, move to the next registered autoloader
        return;
    }

    // get the relative class name
    $relative_class = substr($class, $len);

    // replace the namespace prefix with the base directory, replace namespace
    // separators with directory separators in the relative class name, append
    // with .php
    $file = $base_dir . str_replace('\\', '/', $relative_class) . '.php';

    // if the file exists, require it
    if (file_exists($file)) {
        require $file;
    }
});</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48329" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48329" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/cc9bb20a5646d0ffea2fd3c71e652b8a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/7497/LudwigBr" class="user-moderator-N"><span itemprop="name">Ludwig Breitsprecher</span></a>        </span>
        <br>

        <span class="karma">5.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="48333" data-toggle="modal" data-target="#historyModal">
                edited <span>May '17</span>
              </span><br/><a name="C48333" href="#C48333">
                <time itemprop="dateCreated" datetime="2017-05-23T09:09:08-07:00" class="action-date">May '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">$di-&gt;setShared('loader', function () {
    $loader = new Loader();
    $config = $this-&gt;getConfig();

    $loader-&gt;registerDirs(
        [
            $config-&gt;application-&gt;controllersDir,
            $config-&gt;application-&gt;modelsDir,
            $config-&gt;application-&gt;formsDir,
        ]
    );
    $loader-&gt;registerNamespaces(
        [
            'woh' =&gt; 'app/src/'
        ]
    );
    $loader-&gt;register();

    return $loader;
});</code></pre>
<p>Thats my autoloader part in the bootstrap.
I just want to use the autoloader in my Controller so there is no need for me to register it before bootstrap init.</p>
<p>and in my Controller I try to use it like this:</p>
<pre><code class="language-php">$acr = new woh\AccessRouteControl();</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48333" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48333" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e527d7bd9f5a49b921abedad26819841?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/9455/elroliv" class="user-moderator-N"><span itemprop="name">elroliv</span></a>        </span>
        <br>

        <span class="karma">3.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48335" href="#C48335">
                <time itemprop="dateCreated" datetime="2017-05-23T09:11:38-07:00" class="action-date">May '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>look that, loader don't make part of DI It's init before</p>
<p><a href="https://docs.phalcon.io/en/latest/reference/tutorial.html#putting-everything-together"><a href="https://docs.phalcon.io/en/latest/reference/tutorial.html#putting-everything-together">https://docs.phalcon.io/en/latest/reference/tutorial.html#putting-everything-together</a></a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48335" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48335" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/cc9bb20a5646d0ffea2fd3c71e652b8a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/7497/LudwigBr" class="user-moderator-N"><span itemprop="name">Ludwig Breitsprecher</span></a>        </span>
        <br>

        <span class="karma">5.9k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="48337" data-toggle="modal" data-target="#historyModal">
                edited <span>May '17</span>
              </span><br/><a name="C48337" href="#C48337">
                <time itemprop="dateCreated" datetime="2017-05-23T09:18:26-07:00" class="action-date">May '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Solved. </p>
<p>As taken from the Documentation I thought a relative path would work: <a href="https://docs.phalcon.io/en/3.0.2/reference/loader.html">https://docs.phalcon.io/en/3.0.2/reference/loader.html</a></p>
<p>To solve my problem I just had to use the full path:</p>
<pre><code class="language-php">    $loader-&gt;registerNamespaces(
        [
            'woh' =&gt; APP_PATH.'/app/src/'
        ]
    );</code></pre>
<p>edit: I just took an probably outdated phalcon project skeleton generated by the developer tools, but you are right, probably its better to use the Autoloader without the DI because there is no reason to share it.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48337" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48337" data-cf-modified-222c6fb321978302a284fe2a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="16179" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>