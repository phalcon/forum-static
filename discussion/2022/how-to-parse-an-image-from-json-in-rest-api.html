---
layout: default
title: 'How to parse an image from JSON in REST Api - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/22/micro">Micro</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to parse an image from JSON in REST Api</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1407/pusoiuandrei" class="user-moderator-N"><span itemprop="name">pusoiuandrei</span></a></span>
            <time itemprop="dateCreated" datetime="2014-04-08T01:25:03-07:00">Apr '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-04-08T01:25:03-07:00">Apr '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>10428</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/6236ea49e8d5a25901660c9d501b2a65?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1407/pusoiuandrei" class="user-moderator-N"><span itemprop="name">pusoiuandrei</span></a></span>
                <span class="karma">15.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2022" href="#C2022">
        <time class="action-date">Apr '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hello guys,</p>
<p>I'm working on a API for a mobile app. It will be quite big so I have two questions that I don't find any answear. </p>
<ol>
<li>How to pares images that the mobile app will send to my server? Images will be sent in the JSON with POST</li>
<li>It's normal to have all the routes of the API in the index file, like in the tutorial No.3 &quot;RESTful API&quot;? This will be a big API so the index file will get very big. </li>
</ol>
<p>Here is my Post code:</p>
<p>$app-&gt;post('/image/{id:[0-9]+}', function() use ($app){
$user = $app-&gt;request-&gt;getJsonRawBody();</p>
<p>Thank you so much!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6959" href="#C6959">
                <time itemprop="dateCreated" datetime="2014-04-08T01:34:09-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><ol>
<li>
<p>You have to base64_encode on your mobile app, and base64_decode in your server app. You can learn about BSON (binary json), maybe you can use it too. </p>
</li>
<li>example is only example not one and only patter which you have to setup, you can split index.php as you like, include your routes from other files, lile in example for full MVC.</li>
</ol></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6959" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6959" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6236ea49e8d5a25901660c9d501b2a65?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1407/pusoiuandrei" class="user-moderator-N"><span itemprop="name">pusoiuandrei</span></a>        </span>
        <br>

        <span class="karma">15.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6960" href="#C6960">
                <time itemprop="dateCreated" datetime="2014-04-08T01:38:16-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for your answear!
I know about BSON but I think, for me, is more suitable to do it with URL. </p>
<p>I wonder If you have a pice of code about how save image into a folder and return the url? Or if you have the documentation about this?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6960" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6960" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/693cd29a926f2659ccec45ba126abd71?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11/doit76" class="user-moderator-N"><span itemprop="name">Karol Marcinkiewicz</span></a>        </span>
        <br>

        <span class="karma">40.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6963" href="#C6963">
                <time itemprop="dateCreated" datetime="2014-04-08T01:46:59-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I will write evening, now i am at work. Please write what you want to do step by step.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6963" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6963" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6236ea49e8d5a25901660c9d501b2a65?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1407/pusoiuandrei" class="user-moderator-N"><span itemprop="name">pusoiuandrei</span></a>        </span>
        <br>

        <span class="karma">15.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6969" href="#C6969">
                <time itemprop="dateCreated" datetime="2014-04-08T03:10:10-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ok, it wil be very helpful</p>
<ol>
<li>
<p>First thing I want to ask if I can create an API from a Simple application (the one that is generate by the dev tool from command line)? Can I use controllers to manage the requests? It's very hard to understand for me. Where will I put the PhQL querries?</p>
</li>
<li>
<p>Second: the mobile app will send me 3 photoes with http. What is the best way to send or parse them? In json? or with parameters? If with parameters how will I parse it with Phalcon.</p>
</li>
<li>Is there a book or something about phalcon? The documentation is good but it gives to many ways to do the same thing that really confuses me. I just need an example of how to do a good API and a website in one project. </li>
</ol>
<p>Thank you very much again!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6969" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6969" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6985" href="#C6985">
                <time itemprop="dateCreated" datetime="2014-04-08T07:45:21-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I posted some resources for you in Stack Overflow that would help you with your task.</p>
<p><a href="http://stackoverflow.com/questions/22931201/how-to-parse-an-image-from-json-in-phalcon">http://stackoverflow.com/questions/22931201/how-to-parse-an-image-from-json-in-phalcon</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6985" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6985" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C6969"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/6236ea49e8d5a25901660c9d501b2a65?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        pusoiuandrei                    </a>
                </div><div class="posts-buttons" align="right"><a name="C6988" href="#C6988">
                <time itemprop="dateCreated" datetime="2014-04-08T07:49:44-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Answers to your questions</p>
<blockquote>
<ol>
<li>First thing I want to ask if I can create an API from a Simple application (the one that is generate by the dev tool from command line)? Can I use controllers to manage the requests? It's very hard to understand for me. Where will I put the PhQL querries?</li>
</ol>
</blockquote>
<p>You can do anything you like :) You can use the micro framework or the full blown framework that Phalcon offers. Where you put your PHQL queries is entirely up to you. Some people put them in their models, while others put them in their controllers. There are endless discussions as to which approach is the coorrect one. For me, whatever works for you.</p>
<blockquote>
<ol start="2">
<li>Second: the mobile app will send me 3 photoes with http. What is the best way to send or parse them? In json? or with parameters? If with parameters how will I parse it with Phalcon.</li>
</ol>
</blockquote>
<p>If the mobile app sends you binary data (aka photos) you can get them from the POST array and then parse them appropriately (see my previous reply about JSON resources in SO). You can create a class that will do just that i.e. parse binary data from responses or put that functionality in a controller that would do this.</p>
<blockquote>
<ol start="3">
<li>Is there a book or something about phalcon? The documentation is good but it gives to many ways to do the same thing that really confuses me. I just need an example of how to do a good API and a website in one project. </li>
</ol>
</blockquote>
<p>You can have a look at the available tutorials. Additionally you can google the API creation terms and see implementations from different languages. The code of those languages can be easily adapted to work with Phalcon.</p>
<p>Any other question - we are here to help :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6988" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6988" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6236ea49e8d5a25901660c9d501b2a65?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1407/pusoiuandrei" class="user-moderator-N"><span itemprop="name">pusoiuandrei</span></a>        </span>
        <br>

        <span class="karma">15.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6995" href="#C6995">
                <time itemprop="dateCreated" datetime="2014-04-08T08:08:37-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you again Nikolaos.
It seems that in Phalcon comunity, are very nice people. </p>
<p>I already started doing the api with simple application and it works perfectly. I putted the queries in controllers. </p>
<p>Have a very nice day!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6995" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6995" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6236ea49e8d5a25901660c9d501b2a65?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1407/pusoiuandrei" class="user-moderator-N"><span itemprop="name">pusoiuandrei</span></a>        </span>
        <br>

        <span class="karma">15.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C6996" href="#C6996">
                <time itemprop="dateCreated" datetime="2014-04-08T08:10:04-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="http://stackoverflow.com/questions/22931201/how-to-parse-an-image-from-json-in-phalcon">http://stackoverflow.com/questions/22931201/how-to-parse-an-image-from-json-in-phalcon</a></p>
<p>Here is the url with answears to stackoverflow, if someone else is seeking to resolve the same problem.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="6996" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="6996" data-cf-modified-c3f2f477c960ec2878a0a7cb-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2022" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>