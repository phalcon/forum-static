---
layout: default
title: 'Is this delay for view directory path correct? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/13/routing">Routing</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Is this delay for view directory path correct?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/2638/OpenEX" class="user-moderator-N"><span itemprop="name">OpenEX</span></a></span>
            <time itemprop="dateCreated" datetime="2015-09-08T13:35:06-07:00">Sep '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-09-08T13:35:06-07:00">Sep '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>None</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">0</span>
                </td>
                <td>
                    <label>Views</label><br>401</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7d07df1c3468ad43eaeaaf58e2623676?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/2638/OpenEX" class="user-moderator-N"><span itemprop="name">OpenEX</span></a></span>
                <span class="karma">9.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C8425" href="#C8425">
        <time class="action-date">Sep '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hello, in a module controller i changed for a while in the initialize function of the controller for a view object ($di['view']) in its EventsManager for a view level only (VIew::LEVEL_ACTION_VIEW) for beforeRenderView event setViewsDir to my module views dir and then for afterRenderView i changed for the previes, original path for views.
But as i noticed (a couple days ago) the change with paths was in place for the next .volt file (i could have noticed it of course only after i had removed temporarily afterRenerView path restoration). There are some functions - get active path or something which show there is going to be used old views path anyway.</p>
<p>Shouldn't it work immediately after i change the directory?
I ask this mainly becaouse in the future this can change in some Phalcon version.</p>
<p>I actually found a workaround - in the main boostrap file for the routing service when i beforeMatch event detects some Module route it sets up the views dir and then i restore the original default views dir in the module controller in on beforeRenderView first invokation (or after) and the actual change is delayed until another view action. Maybe it would work on initialize function also but i used the beforeRenderView</p>
<p>Sorry if i was wrong with this post.</p>
<p>As a matter of explanation: My modules will be using  some classess and files from main application part not module.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-1037e1d92b5909183dfdebcb-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-1037e1d92b5909183dfdebcb-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="8425" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>