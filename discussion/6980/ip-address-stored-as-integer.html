---
layout: default
title: 'IP address stored as Integer - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">IP address stored as Integer</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/3980/n3st0r" class="user-moderator-N"><span itemprop="name">n3st0r</span></a></span>
            <time itemprop="dateCreated" datetime="2015-06-04T07:12:04-07:00">Jun '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-06-04T07:12:04-07:00">Jun '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>880</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7b88e2a11e3cf93875948e4518fe4435?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/3980/n3st0r" class="user-moderator-N"><span itemprop="name">n3st0r</span></a></span>
                <span class="karma">955</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C6980" href="#C6980">
        <time class="action-date">Jun '15</time>
    </a>
</div>
<div class="post-content"><div><p>I prepare to rewrite one of our applications using Phalcon framework. In the database we store the IP addresses of our devices, and IP allocated to customers as the number (integer). The same applies to the MAC address.</p>
<p>How to write the conversion of the IP address and MAC address to the numbers?</p>
<p>I care about the termination of operating in two directions:</p>
<ul>
<li>insert, update</li>
<li>select</li>
</ul>
<p>I have not found mention in the documentation on the subject. Below I've included links to documentation of how it is possible to do Symfony/Doctrine:</p>
<ul>
<li><a href="http://symfony.com/doc/current/cookbook/form/data_transformers.html">How to Use Data Transformers</a></li>
<li><a href="https://gist.github.com/l3l0/3086241">Show IP as string and save IP as INT</a></li>
</ul>
<p>Thank you in advance for help</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-ee05b344a6bebfd056234e3b-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-ee05b344a6bebfd056234e3b-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7b88e2a11e3cf93875948e4518fe4435?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3980/n3st0r" class="user-moderator-N"><span itemprop="name">n3st0r</span></a>        </span>
        <br>

        <span class="karma">955</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19039" href="#C19039">
                <time itemprop="dateCreated" datetime="2015-06-04T10:00:57-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OK, maybe I will explain how I do it today. In my app I use SQL command like this:</p>
<p><strong>SELECT INET_NTOA( ip1 ) AS ip1, INET_NTOA( ip2 ) AS ip2 FROM table WHERE id=1</strong></p>
<p>When I update IP address in DB, I use command like this:</p>
<p><strong>UPDATE table SET name=foo, ip=INET_ATON(127.0.0.1) WHERE id=1</strong></p>
<p>or use <strong>ip2long</strong> from PHP.</p>
<p>I am convinced that the ORM eloquent it can be written very nicely;)</p>
<p>Or should I try to use Phalcon with the Doctrine?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19039" data-cf-modified-ee05b344a6bebfd056234e3b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19039" data-cf-modified-ee05b344a6bebfd056234e3b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19040" href="#C19040">
                <time itemprop="dateCreated" datetime="2015-06-04T11:42:57-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Try this:</p>
<pre><code class="language-php">$data = $this-&gt;db-&gt;fetchOne("SELECT INET_NTOA( ip1 ) AS ip1, INET_NTOA( ip2 ) AS ip2 FROM table WHERE id=1");</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19040" data-cf-modified-ee05b344a6bebfd056234e3b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19040" data-cf-modified-ee05b344a6bebfd056234e3b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7b88e2a11e3cf93875948e4518fe4435?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3980/n3st0r" class="user-moderator-N"><span itemprop="name">n3st0r</span></a>        </span>
        <br>

        <span class="karma">955</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19083" href="#C19083">
                <time itemprop="dateCreated" datetime="2015-06-06T07:46:16-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Not exactly what I meant. That's why I gave a link to an alternative solution for Symfony. However, if no one will give a better solution it will accept this solution.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19083" data-cf-modified-ee05b344a6bebfd056234e3b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19083" data-cf-modified-ee05b344a6bebfd056234e3b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="6980" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>