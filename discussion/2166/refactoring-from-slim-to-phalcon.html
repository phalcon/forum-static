---
layout: default
title: 'Refactoring from Slim to Phalcon - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Refactoring from Slim to Phalcon</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1527/boedy" class="user-moderator-N"><span itemprop="name">Boudewijn Geiger</span></a></span>
            <time itemprop="dateCreated" datetime="2014-04-24T04:02:37-07:00">Apr '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-04-24T04:02:37-07:00">Apr '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Apr '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1009</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/820d6aa837c7ba4e1584dd5b338e43ac?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1527/boedy" class="user-moderator-N"><span itemprop="name">Boudewijn Geiger</span></a></span>
                <span class="karma">8.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2166" href="#C2166">
        <time class="action-date">Apr '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,</p>
<p>We are running a medium sized website called <a href="http://kollekt.fm">kollekt.fm</a> which is currently build on top of the <a href="http://www.slimframework.com/">Slim framework</a> which is used as a RESTfull backend. I've been the only backend developer working on the project thus far and we’re currently in the process of getting more developers to join the team. I’ve been reviewing our current architecture to see if this is futureproof and will holdup as the project grows. </p>
<p>The slim framework; As the name dictates, is a very slim framework :). It does not include an ORM for example and we only use it for handling the REST calls. I decided to write my own persistence layer which implements the data mapper pattern and repository pattern. I’m quite fond of these patterns as they don’t break the single <a href="http://en.wikipedia.org/wiki/Single_responsibility_principle">responsibility principle</a>. I must say however, I’m not very familiar with the active record pattern, but from what I understand, the models usually map to a table in the database, which is not the case in our project.</p>
<p>The website runs fine on the following system:</p>
<ul>
<li><strong>OS:</strong> Ubuntu 12.04</li>
<li><strong>Document server:</strong> Ngnix</li>
<li><strong>Lanuage:</strong> PHP5.5 (FPM)</li>
<li><strong>Database:</strong> MySql</li>
<li><strong>Caching:</strong> Memcached</li>
</ul>
<p>Phalcon and Zephir got my attention a couple of weeks ago and I couldn't get it out of my mind. I really like the idea of it being compiled into C. Things I like about phalcon:</p>
<ol>
<li>Performance</li>
<li>Database migrations</li>
<li>Similar to Slim (easy to do a refactor)</li>
<li>Logger</li>
</ol>
<p>I'd like to know if this performance is still noticable if I decide not to use the ORM and where phalcon can prove its qualities?</p>
<p>-Cheers</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-e103384eeaee0dc395d9b622-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-e103384eeaee0dc395d9b622-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/533985d102feef881f5c41933bd43bfb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/283/calinrada" class="user-moderator-N"><span itemprop="name">Calin Rada</span></a>        </span>
        <br>

        <span class="karma">51.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7455" href="#C7455">
                <time itemprop="dateCreated" datetime="2014-04-24T07:32:56-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/boedy">@boedy</a>, first of all, let me tell you that the the kollekt.fm idea is very very cool ! I will use it for sure ! Then ... </p>
<p>Is strictly my opinion: using ANY ORM without powerfull hardware resources, will be a pain in the ass. If you want performance, use plain / raw sql ! If you are going to have X developers working on the backend, then the ORM is a must, if you don't want to cry later. </p>
<p>You mentioned that you like the DB migrations from Phalcon. I am not sure if you can use them without ORM - maybe<a href="https://forum.phalcon.io/user/0/phalcon"> @phalcon</a> can answer to that. As for your question &quot;where phalcon can prove it qualities&quot; my answer is: we have developed an API application that handles 97 tables (and growing) and we are expecting &gt; 1.000.000 transactions / day very soon. The server specs are like yours but we are using Redis - way better than Memcached. The DB and Redis storage are on a sepparated machine (16 cores and 48 GB of RAM).</p>
<p>Hope it helped and good luck.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7455" data-cf-modified-e103384eeaee0dc395d9b622-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7455" data-cf-modified-e103384eeaee0dc395d9b622-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7475" href="#C7475">
                <time itemprop="dateCreated" datetime="2014-04-24T18:59:32-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The ORM will always be a bottleneck as Calin pointed out. Based on your requirements you can fix that by either using elastic services (AWS) setting up memory servers, slaves and master etc.</p>
<p>DB Migrations cannot be used without the ORM - they are all part of Phalcon. Once you have it installed everything is there for you. If you don't like the migrations the way Phalcon does it, there is a project dedicated to migrations <a href="http://drarok.com/ladder/">http://drarok.com/ladder/</a> which I have used successfully in the past.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7475" data-cf-modified-e103384eeaee0dc395d9b622-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7475" data-cf-modified-e103384eeaee0dc395d9b622-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/820d6aa837c7ba4e1584dd5b338e43ac?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1527/boedy" class="user-moderator-N"><span itemprop="name">Boudewijn Geiger</span></a>        </span>
        <br>

        <span class="karma">8.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C7493" href="#C7493">
                <time itemprop="dateCreated" datetime="2014-04-25T14:07:40-07:00" class="action-date">Apr '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks Calin, Great to hear!</p>
<p>I'm thinking of using doctrine 2 as it uses the datamapper pattern. Would it make sense to swap out slim for phalcon just to handle the REST calls?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="7493" data-cf-modified-e103384eeaee0dc395d9b622-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="7493" data-cf-modified-e103384eeaee0dc395d9b622-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2166" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>