---
layout: default
title: 'Changing Volt expression tags - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/3/volt">Volt</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Changing Volt expression tags</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/480/integry" class="user-moderator-N"><span itemprop="name">Rinalds Uzkalns</span></a></span>
            <time itemprop="dateCreated" datetime="2013-08-24T06:00:35-07:00">Aug '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-08-24T06:00:35-07:00">Aug '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">8</span>
                </td>
                <td>
                    <label>Views</label><br>3990</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">3</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/d1fd38675d277973f78615a6b0680ef5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/480/integry" class="user-moderator-N"><span itemprop="name">Rinalds Uzkalns</span></a></span>
                <span class="karma">18.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C811" href="#C811">
        <time class="action-date">Aug '13</time>
    </a>
</div>
<div class="post-content"><div><p>I recently discovered Phalcon and was blown away by how well designed the framework is - so much that I'm throwing away my well treasured self-built framework and ORM library and started to port a pretty large application to Phalcon. While doing so, I'm consulting the docs a lot and they're too nothing short of amazing. Still, not everything can be put there, so here I am with my first question :)</p>
<p>My application is going to use AngularJS quite heavily and it has the same markup as Volt for expressions - {% raw %}{{{% endraw %} expression {% raw %}}}{% endraw %}</p>
<p>I know that I could change this in Angular, however I would prefer to do this in Volt instead, since I'll be using quite a few 3rd party Angular libraries and {% raw %}{{{% endraw %} {% raw %}}}{% endraw %} is the standard. Of course, I could intercept the Volt compilation and force my own tags this way using a bunch of regexes, but perhaps there's a cleaner way to do this via configuration?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-99f57a602076f73b200b3522-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-99f57a602076f73b200b3522-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C3158" href="#C3158">
                <time itemprop="dateCreated" datetime="2013-08-24T08:14:16-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>At the moment there is no way to change the markers of Volt in the volt layer.</p>
<p>You can however change it in AngularJS as you said. In one of my projects I did this:</p>
<pre><code class="language-php">var ngModule = angular.module('HHF', ['ngResource', 'ui'])
    .config(function($interpolateProvider) {
        $interpolateProvider.startSymbol('[[');
        $interpolateProvider.endSymbol(']]');
    })
):</code></pre>
<p>so for angular I would use [[ data.results ]] and in volt I would use {% raw %}{{{% endraw %} expression {% raw %}}}{% endraw %}</p>
<p>Sample here: <a href="https://github.com/niden/phalcon-angular-harryhogfootball/blob/master/public/js/utils.js">https://github.com/niden/phalcon-angular-harryhogfootball/blob/master/public/js/utils.js</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="3158" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span><span itemprop="downvoteCount">1</span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="3158" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d1fd38675d277973f78615a6b0680ef5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/480/integry" class="user-moderator-N"><span itemprop="name">Rinalds Uzkalns</span></a>        </span>
        <br>

        <span class="karma">18.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C3160" href="#C3160">
                <time itemprop="dateCreated" datetime="2013-08-24T08:42:45-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thank you for the answer. I'm really not sure if this would work well with 3rd party Angular libraries like AngularUI Bootstrap.</p>
<p>I guess I'll explore my options to implement this via template compilation functions then.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="3160" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="3160" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/396011c9c28f04f34414c2e249c08ab4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/121/inzurrekt" class="user-moderator-N"><span itemprop="name">AlonsoSoto</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C3162" href="#C3162">
                <time itemprop="dateCreated" datetime="2013-08-24T10:09:27-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I do this way In volt Class</p>
<pre><code class="language-php">
$this-&gt;getCompiler()-&gt;addFunction('ng', function($input) {
  return '"{% raw %}{{{% endraw %}".' . $input . '."{% raw %}}}{% endraw %}"';
});</code></pre>
<p>and in your volt templates</p>
<pre><code class="language-php">{% raw %}{{{% endraw %}ng('Model.prop'){% raw %}}}{% endraw %} 
</code></pre>
<p>will compile</p>
<pre><code class="language-php">{% raw %}{{{% endraw %}Model.prop{% raw %}}}{% endraw %}
</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="3162" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="3162" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-positive reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d1fd38675d277973f78615a6b0680ef5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/480/integry" class="user-moderator-N"><span itemprop="name">Rinalds Uzkalns</span></a>        </span>
        <br>

        <span class="karma">18.4k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C3206" href="#C3206">
                <time itemprop="dateCreated" datetime="2013-08-28T01:41:41-07:00" class="action-date">Aug '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>My approach to change the Volt expression format to [[ expression ]] - seems to work just fine</p>
<pre><code class="language-php">class LiveVolt extends \Phalcon\Mvc\View\Engine\Volt
{
    public function getCompiler()
    {
        if (empty($this-&gt;_compiler))
        {
            $this-&gt;_compiler = new LiveVoltCompiler($this-&gt;getView());
            $this-&gt;_compiler-&gt;setOptions($this-&gt;getOptions());
            $this-&gt;_compiler-&gt;setDI($this-&gt;getDI());
        }

        return $this-&gt;_compiler;
    }
}

class LiveVoltCompiler extends \Phalcon\Mvc\View\Engine\Volt\Compiler
{
    protected function _compileSource($source, $something = null)
    {
        $source = str_replace('{% raw %}{{{% endraw %}', '&lt;' . '?php $ng = &lt;&lt;&lt;NG' . "\n" . '\x7B\x7B', $source);
        $source = str_replace('{% raw %}}}{% endraw %}', '\x7D\x7D' . "\n" . 'NG;' . "\n" . ' echo $ng; ?' . '&gt;', $source);

        $source = str_replace('[[', '{% raw %}{{{% endraw %}', $source);
        $source = str_replace(']]', '{% raw %}}}{% endraw %}', $source);

        return parent::_compileSource($source, $something);
    }
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="3206" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="3206" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">4</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a57d1d29a0dc4dbcaf4576ad0955cfe1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2127/nerfe" class="user-moderator-N"><span itemprop="name">Ef</span></a>        </span>
        <br>

        <span class="karma">2.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="10438" data-toggle="modal" data-target="#historyModal">
                edited <span>Aug '14</span>
              </span><br/><a name="C10438" href="#C10438">
                <time itemprop="dateCreated" datetime="2014-08-17T03:11:11-07:00" class="action-date">Aug '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Can you share to us where will we place your code<a href="https://forum.phalcon.io/user/0/rinalds"> @rinalds</a>, thanks.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="10438" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="10438" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7bc077b09a4bac2cba08e3df6c097b21?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3003/zo0m" class="user-moderator-N"><span itemprop="name">zo0m</span></a>        </span>
        <br>

        <span class="karma">90</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C3206"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/d1fd38675d277973f78615a6b0680ef5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Rinalds Uzkalns                    </a>
                </div><div class="posts-buttons" align="right"><a name="C14874" href="#C14874">
                <time itemprop="dateCreated" datetime="2015-01-13T17:04:50-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><strong>THANK YOU VERY MUCH!</strong></p>
<blockquote>
<p>My approach to change the Volt expression format to [[ expression ]] - seems to work just fine</p>
<pre><code class="language-php">class LiveVolt extends \Phalcon\Mvc\View\Engine\Volt
{
  public function getCompiler()
  {
      if (empty($this-&gt;_compiler))
      {
          $this-&gt;_compiler = new LiveVoltCompiler($this-&gt;getView());
          $this-&gt;_compiler-&gt;setOptions($this-&gt;getOptions());
          $this-&gt;_compiler-&gt;setDI($this-&gt;getDI());
      }

      return $this-&gt;_compiler;
  }
}

class LiveVoltCompiler extends \Phalcon\Mvc\View\Engine\Volt\Compiler
{
  protected function _compileSource($source, $something = null)
  {
      $source = str_replace('{% raw %}{{{% endraw %}', '&lt;' . '?php $ng = &lt;&lt;&lt;NG' . "\n" . '\x7B\x7B', $source);
      $source = str_replace('{% raw %}}}{% endraw %}', '\x7D\x7D' . "\n" . 'NG;' . "\n" . ' echo $ng; ?' . '&gt;', $source);

      $source = str_replace('[[', '{% raw %}{{{% endraw %}', $source);
      $source = str_replace(']]', '{% raw %}}}{% endraw %}', $source);

      return parent::_compileSource($source, $something);
  }
}</code></pre>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14874" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14874" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7bc077b09a4bac2cba08e3df6c097b21?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3003/zo0m" class="user-moderator-N"><span itemprop="name">zo0m</span></a>        </span>
        <br>

        <span class="karma">90</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C10438"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/a57d1d29a0dc4dbcaf4576ad0955cfe1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Ef                    </a>
                </div><div class="posts-buttons" align="right"><a name="C14875" href="#C14875">
                <time itemprop="dateCreated" datetime="2015-01-13T17:12:38-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi, </p>
<p>you need to change Legacy Volt engine to LiveVolt.</p>
<p>You could find in scafolded services.php:</p>
<p>/**</p>
<ul>
<li>
<p>Setting up the view component
*/
$di-&gt;set('view', function () use ($config) {</p>
<p>$view = new View();</p>
<p>$view-&gt;setViewsDir($config-&gt;application-&gt;viewsDir);</p>
<p>$view-&gt;registerEngines(array(
'.volt' =&gt; function ($view, $di) use ($config) {</p>
<pre><code>    $volt = new LiveVolt($view, $di);

    $volt-&gt;setOptions(array(
        'compiledPath' =&gt; $config-&gt;application-&gt;cacheDir,
        'compiledSeparator' =&gt; '_',
        'compileAlways' =&gt; true // TODO remove!! just in dev
    ));

    return $volt;
},
'.phtml' =&gt; 'Phalcon\Mvc\View\Engine\Php'</code></pre>
<p>));</p>
<p>return $view;
}, true);</p>
</li>
</ul>
<blockquote>
<p>Can you share to us where will we place your code<a href="https://forum.phalcon.io/user/0/rinalds"> @rinalds</a>, thanks.</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14875" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14875" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/54ff381afc4626a2c138d5e6da3c505c?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/852/Exoool" class="user-moderator-N"><span itemprop="name">Exoool</span></a>        </span>
        <br>

        <span class="karma">171</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14886" href="#C14886">
                <time itemprop="dateCreated" datetime="2015-01-13T23:55:32-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/3003/zo0m">@zo0m</a> <a href="https://forum.phalcon.io/user/0/CodeB100d"> @CodeB100d</a></p>
<p>Let me describe how do I place the code.</p>
<h3>Namespace:</h3>
<p>My project name is <em>PhalconNamecards</em>, so the namecaspes start with <em>PhalconNamecards</em>.</p>
<p>This project has a module called &quot;frontend&quot;, it is actually the only module for this small project, so the namecaspes usually, in fact, start with <em>PhalconNamecards\Frontend</em>.</p>
<h3>folder structure</h3>
<p>The folder structure of this small project is like below:</p>
<pre><code>
PhalconNamecards/
├── apps
│   └── frontend
│       ├── cache
│       ├── config
│       ├── controllers
│       ├── forms
│       ├── models
│       └── views
├── config
├── doc
├── logs
├── public
│   ├── css
│   ├── files
│   ├── img
│   ├── js
├── schemas
└── vendor
    ├── composer
    ├── phpoffice
    ├── react
    └── swiftmailer</code></pre>
<h3>Steps:</h3>
<h4>Step 1,  <em>Register a autoloader path/namespace</em></h4>
<p>First we need to register  a path for the custom libraries to autoload for later use in this project.</p>
<p>For example the file content in my case is as below:</p>
<p>File path: <em>apps/frontend/config/loader.php</em></p>
<pre><code class="language-php">&lt;?php
$loader = new \Phalcon\Loader();

//We're a registering a set of directories taken from the configuration file 
$loader-&gt;registerNamespaces(array(
    'PhalconNamecards\Frontend\Models' =&gt; $config-&gt;application-&gt;modelsDir,
    'PhalconNamecards\Frontend\Controllers' =&gt; $config-&gt;application-&gt;controllersDir,
    'PhalconNamecards\Frontend\Forms' =&gt; $config-&gt;application-&gt;formsDir,
    'PhalconNamecards\Frontend' =&gt; $config-&gt;application-&gt;libraryDir                    
    //Note this path is where we put our own libraries / classes.
    //and it's defined in the config.php with value of :   'libraryDir' =&gt; __DIR__ . '/../library/',
    //and the config.php is located as apps/frontend/config/config.php
));

$loader-&gt;register();

// Use composer autoloader to load vendor classes
require_once __DIR__ . '/../../../vendor/autoload.php';</code></pre>
<p>So here the path &quot;apps/library/&quot; is registered as a location for the autoloader to search for. Any class found in that folder will need to have &quot;PhalconNamecards\Frontend&quot; as a prefix to be the very first part of its namespace.</p>
<h4>Step 2, Create new folders and a new file</h4>
<p>Create folders in the order of: apps/frontend/library, apps/frontend/library/View, apps/frontend/library/View/Engine, and then in the &quot;Engine&quot; folder.</p>
<p>Please note that the folder and file names are case-sensitive.</p>
<p>Now the folder structure is like below:</p>
<pre><code>apps
└── frontend
    ├── cache
    │   ├── acl
    │   ├── metaData
    │   ├── swift
    │   └── volt
    ├── config
    ├── controllers
    ├── forms
    ├── library
    │   ├── Mail
    │   └── View
    │       └── Engine
    ├── models
    └── views
        ├── about
        ├── ......</code></pre>
<p>Now create a file named &quot;LiveVolt.php&quot; under the newly created folder of &quot;apps/frontend/library/View/Engine&quot;, then put the code from<a href="https://forum.phalcon.io/user/0/rinalds"> @rinalds</a> into it,  remember to <em>change the namespace</em> to be &quot;PhalconNamecards\Frontend\View\Engine&quot;.</p>
<p>My LiveVolt.php content is below for your reference:</p>
<p>File path: <strong>apps/frontend/library/View/Engine/LiveVolt.php</strong></p>
<pre><code class="language-php">
&lt;?php
namespace PhalconNamecards\Frontend\View\Engine;

class LiveVolt extends \Phalcon\Mvc\View\Engine\Volt
{
    public function getCompiler()
    {
        if (empty($this-&gt;_compiler))
        {
            $this-&gt;_compiler = new LiveVoltCompiler($this-&gt;getView());
            $this-&gt;_compiler-&gt;setOptions($this-&gt;getOptions());
            $this-&gt;_compiler-&gt;setDI($this-&gt;getDI());
        }

        return $this-&gt;_compiler;
    }
}

class LiveVoltCompiler extends \Phalcon\Mvc\View\Engine\Volt\Compiler
{
    protected function _compileSource($source, $something = null)
    {
        $source = str_replace('{% raw %}{{{% endraw %}', '&lt;' . '?php $ng = &lt;&lt;&lt;NG' . "\n" . '\x7B\x7B', $source);
        $source = str_replace('{% raw %}}}{% endraw %}', '\x7D\x7D' . "\n" . 'NG;' . "\n" . ' echo $ng; ?' . '&gt;', $source);

        $source = str_replace('[[', '{% raw %}{{{% endraw %}', $source);
        $source = str_replace(']]', '{% raw %}}}{% endraw %}', $source);

        return parent::_compileSource($source, $something);
    }
}
</code></pre>
<p>Now we have this new volt engine ready to use.</p>
<h4>Step 3, the final step: Use the new volt engihe.</h4>
<p>So we need to change the default volt engine to our customized one.</p>
<p>That is, from  <em>Phalcon\Mvc\View\Engine\Volt</em> to <strong>PhalconNamecards\Frontend\View\Engine\LiveVolt</strong></p>
<p>The change will be done in the file where the <code>view component</code>, and generally also the <code>$di</code> are defined and set.</p>
<p>In my case it is the file of &quot;service.php&quot;.
Code sample as below:</p>
<p>File path: <em>app/frontend/config/service.php</em></p>
<pre><code class="language-php">/**
 * Setting up the view component
 */
$di ['view'] = function () use ($config) {

    $view = new View();

    $view-&gt;setViewsDir($config-&gt;application-&gt;viewsDir);

    $view-&gt;registerEngines(array( 
        ".phtml" =&gt; 'Phalcon\Mvc\View\Engine\Php',
        '.volt' =&gt; function ($view, $di) use ($config) {

            //~ $volt = new Phalcon\Mvc\View\Engine\Volt($view, $di);
            $volt = new PhalconNamecards\Frontend\View\Engine\LiveVolt($view, $di);

            $volt-&gt;setOptions(array(
                'compiledPath' =&gt; $config-&gt;application-&gt;cacheDir . 'volt/',
                'compiledSeparator' =&gt; '_'
            ));

            return $volt;
        },
            ));

            return $view;
        };</code></pre>
<p>Up to this step, we are done, now is the time to use <code>[[</code> and <code>]]</code> instead of <code>{% raw %}{{{% endraw %}</code> and <code>{% raw %}}}{% endraw %}</code> in the volt templates.</p>
<p>Let me know for any questions. I am following this post.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14886" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14886" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7dfdf2c0d2aae13a7df334d91bda57dd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3094/rarutu" class="user-moderator-N"><span itemprop="name">rarutu</span></a>        </span>
        <br>

        <span class="karma">771</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="15387" data-toggle="modal" data-target="#historyModal">
                edited <span>Jan '15</span>
              </span><br/><a name="C15387" href="#C15387">
                <time itemprop="dateCreated" datetime="2015-01-27T05:30:51-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>my 2 cents: if u really really want to do as little changes as possible use this:</p>
<p>{% raw %}{{{% endraw %}&quot;{% raw %}{{{% endraw %}connectedToChat ? username : 'Stranger'{% raw %}}}{% endraw %}&quot;{% raw %}}}{% endraw %}</p>
<p>include angular expressions inside a volt output expression ...</p>
<p>take care</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15387" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15387" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a57d1d29a0dc4dbcaf4576ad0955cfe1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2127/nerfe" class="user-moderator-N"><span itemprop="name">Ef</span></a>        </span>
        <br>

        <span class="karma">2.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C35189" href="#C35189">
                <time itemprop="dateCreated" datetime="2016-06-07T21:13:10-07:00" class="action-date">Jun '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks<a href="https://forum.phalcon.io/user/0/exool"> @exool</a>, very detailed. </p>
<p>I also tried<a href="https://forum.phalcon.io/user/0/NikolaosDimopoulos"> @NikolaosDimopoulos</a> solution using $interpolateProvider with the angular libraries and angular ui bootstrap and it worked well.</p>
<p>Thumbs up!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="35189" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="35189" data-cf-modified-99f57a602076f73b200b3522-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="811" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>