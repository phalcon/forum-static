---
layout: default
title: 'Phalcon Partial Recursive - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/3/volt">Volt</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Phalcon Partial Recursive</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/5501/mstoelzle" class="user-moderator-N"><span itemprop="name">Maximilian Stölzle</span></a></span>
            <time itemprop="dateCreated" datetime="2016-10-12T02:31:00-07:00">Oct '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-10-12T02:31:00-07:00">Oct '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>479</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7f3255b23bc4be5c7fbb93fdb9cf5751?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/5501/mstoelzle" class="user-moderator-N"><span itemprop="name">Maximilian Stölzle</span></a></span>
                <span class="karma">1.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C14445" href="#C14445">
        <time class="action-date">Oct '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,
We are using Phalcon Partials with variables recursively. Since the Phalcon v3 update, we have the problem, that the variables of the parent partial is overwritten by the child partial. In v2 everything worked fine.
As an example for our usecase:</p>
<p>initialization:</p>
<p><em>{% raw %}{{{% endraw %} partial(&quot;partials/category&quot;, ['category': category]) {% raw %}}}{% endraw %}</em></p>
<p>partials/category.volt</p>
<p><em>{% raw %}{{{% endraw %} category.getId() {% raw %}}}{% endraw %} //everything is fine</em></p>
<p><em>{% raw %}{{{% endraw %} partial(&quot;partials/category&quot;, ['category': category.getChildCategory()]) {% raw %}}}{% endraw %}</em></p>
<p><em>{% raw %}{{{% endraw %} category.getId() {% raw %}}}{% endraw %} //displays category id of child</em></p>
<p>Do you have any idea how we could prevent this?
Thanks a lot</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-503c8b50dbd15a29193f0044-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-503c8b50dbd15a29193f0044-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C41561" href="#C41561">
                <time itemprop="dateCreated" datetime="2016-10-12T03:02:27-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>i dont pass params to particials i just use them, but havent test it in volt</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="41561" data-cf-modified-503c8b50dbd15a29193f0044-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="41561" data-cf-modified-503c8b50dbd15a29193f0044-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c0ce8f5e133750a4dfea4712e533a178?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/15/le51" class="user-moderator-N"><span itemprop="name">le51</span></a>        </span>
        <br>

        <span class="karma">43.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C41569" href="#C41569">
                <time itemprop="dateCreated" datetime="2016-10-12T12:23:56-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi,</p>
<p>what'is strange here, is that this partial rendering change between v2 and v3. </p>
<p>But the hierarchical rendering process could expalin it and looks quiet logical: child partial is populated with &quot;category:category.getChildCategory()&quot;, so calling after that data fetching category.getId()  will naturaly give you the id of the child category.</p>
<p>My thought: create a copy of partials/category (say partials/chlidCategory) and pass him partial(&quot;partials/childCategory&quot;, ['childCategory': category.getChildCategory()])</p>
<p>And, finally, it is known as good mvc practice to populate data in the controller and the pass data to the view.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="41569" data-cf-modified-503c8b50dbd15a29193f0044-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="41569" data-cf-modified-503c8b50dbd15a29193f0044-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7f3255b23bc4be5c7fbb93fdb9cf5751?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5501/mstoelzle" class="user-moderator-N"><span itemprop="name">Maximilian Stölzle</span></a>        </span>
        <br>

        <span class="karma">1.4k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C41577" href="#C41577">
                <time itemprop="dateCreated" datetime="2016-10-12T23:15:34-07:00" class="action-date">Oct '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi,<a href="https://forum.phalcon.io/user/15/le51">
@le51</a> thanks for your answer.
Our problem why we can't implement a &quot;parent partial&quot; and a &quot;child partial&quot; is that we theoretically have an unlimited depth, so the parent category could have for example a child, a child-child and so on. We now solved the problem by implementing a method which renders the partial with a simple view. As a simple view doesn't override the variables of its parent simple view this works fine, although it isn't really code-wise a really nice solution. I still think it would be nice if you could partials recursively like you could in phalcon 2.x.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="41577" data-cf-modified-503c8b50dbd15a29193f0044-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="41577" data-cf-modified-503c8b50dbd15a29193f0044-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="14445" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>