---
layout: default
title: 'How to copy records from a template table to another table with current id when creating new record. - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to copy records from a template table to another table with current id when creating new record.</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/4483/gerkle" class="user-moderator-N"><span itemprop="name">gerkle</span></a></span>
            <time itemprop="dateCreated" datetime="2015-07-25T06:22:42-07:00">Jul '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-07-25T06:22:42-07:00">Jul '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>837</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/64859b8cb57cb06627b7870845a9f2ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/4483/gerkle" class="user-moderator-N"><span itemprop="name">gerkle</span></a></span>
                <span class="karma">2.2k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C7785" href="#C7785">
        <time class="action-date">Jul '15</time>
    </a>
</div>
<div class="post-content"><div><p>I have a template table with records. When there is a new record created I want to copy the template table records to another table and add the id of the new record.</p>
<p>New record table1:
New record=&gt; field 1=id=1, field 2=info=&quot;hello there&quot;</p>
<p>Template table:
record1=&gt; field 1=id=1, field 2=info=&quot;green&quot;
record2=&gt; field 2=id=2, field 2=info=&quot;yellow&quot;</p>
<p>Total table:</p>
<p>new record1=&gt; field 1=id=1, field 2=template_id=1, field3=template_info=green, field 4=table1_id=1</p>
<p>new record2=&gt; field 1=id=2, field 2=template_id=2, field3=template_info=yellow, field 4=table1_id=1</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a20d655bbeff97e2c393510348ddb7cd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3162/Graphmatic" class="user-moderator-N"><span itemprop="name">graphmatic</span></a>        </span>
        <br>

        <span class="karma">11.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="21099" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '15</span>
              </span><br/><a name="C21099" href="#C21099">
                <time itemprop="dateCreated" datetime="2015-07-25T08:59:36-07:00" class="action-date">Jul '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi,</p>
<p>it's easy (tested)
(supposing your two models have exactly the same structure)
$sourceRecord = mytemplatetable::findFirst(yourSortingParam);
$sourceRecord-&gt;id = &quot;&quot;; (or use php unset());
$destRecord = new DestRecord();
$destRecord = $sourceRecord;
$sourceRecord-&gt;create();</p>
<p>EDIT: maybe rather than using a &quot;template&quot; table you can use &quot;default values&quot; function of your database, no?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="21099" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="21099" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/64859b8cb57cb06627b7870845a9f2ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4483/gerkle" class="user-moderator-N"><span itemprop="name">gerkle</span></a>        </span>
        <br>

        <span class="karma">2.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C21119" href="#C21119">
                <time itemprop="dateCreated" datetime="2015-07-25T23:09:44-07:00" class="action-date">Jul '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It's a good idea to use &quot;default values&quot; but eventually the template table contains different templates (set of rows) so i want to chose which set of rows to copy. And the rows can vary from time to time. I think i need another solution, right?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="21119" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="21119" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a20d655bbeff97e2c393510348ddb7cd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3162/Graphmatic" class="user-moderator-N"><span itemprop="name">graphmatic</span></a>        </span>
        <br>

        <span class="karma">11.6k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C21123" href="#C21123">
                <time itemprop="dateCreated" datetime="2015-07-26T02:54:42-07:00" class="action-date">Jul '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>the solution I give you should work, and if you're working with models that differs from each other, instead of assigning one model instance to the other one, just assign recursively values from your template model instance to your new object then save it.
ex: in your TotaltableController:</p>
<pre><code class="language-php">    &lt;?php
    use Templatetable as template; //import your other model

    public function createRowFromTemplateAction($templateID) {
            $choosenTemplate = template::findFirst($templateID);
            $newRecord = new Totaltable();
            $newRecord-&gt;template_id = $choosenTemplate-&gt;id;
            $newRecord-&gt;info = $choosenTemplate-&gt;info;
            etc...
            $newRecord-&gt;create();</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="21123" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="21123" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/64859b8cb57cb06627b7870845a9f2ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4483/gerkle" class="user-moderator-N"><span itemprop="name">gerkle</span></a>        </span>
        <br>

        <span class="karma">2.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C21125" href="#C21125">
                <time itemprop="dateCreated" datetime="2015-07-26T03:22:39-07:00" class="action-date">Jul '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yes, this works. Thank you.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="21125" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="21125" data-cf-modified-bde4372cee8b15939ba8c8b2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="7785" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>