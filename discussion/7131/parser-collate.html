---
layout: default
title: 'Parser - COLLATE - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Parser - COLLATE</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/1895/michalcharvat" class="user-moderator-N"><span itemprop="name">michalcharvat</span></a></span>
            <time itemprop="dateCreated" datetime="2015-06-12T07:01:27-07:00">Jun '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-06-12T07:01:27-07:00">Jun '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>532</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/c9d418a459eafcf648bd5ce64e0949c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/1895/michalcharvat" class="user-moderator-N"><span itemprop="name">michalcharvat</span></a></span>
                <span class="karma">10.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C7131" href="#C7131">
        <time class="action-date">Jun '15</time>
    </a>
</div>
<div class="post-content"><div><p>In <a href="https://forum.phalcon.io/discussion/1810/orm-collate-postgresql">https://forum.phalcon.io/discussion/1810/orm-collate-postgresql</a>- you describe how to use collate with PG however I would like to ask you if there is anyone who can add COLLATE expression to version 1.3.5 and 2.x?</p>
<p>With MSSQL adapter and dialect is possible use COLLATE in WHERE condition only when you write whole SQL manually but it brings more issues with function call in columns. With ORM I get following error: <strong>unexpected token IDENTIFIER(COLLATE)</strong>, What I found problem is in internal parser where you dont count with COLLATE in WHERE condition. Reason why I need COLLATE before LIKE expression is simple - people find records in DB with or without accents so I wanted simply replace:</p>
<pre><code>$_conditions[] = $queryField . " LIKE '%" . $_filter-&gt;value ."%'";</code></pre>
<p>with</p>
<pre><code>$_conditions[] = $queryField . " COLLATE Latin1_general_CI_AI LIKE '%" . $_filter-&gt;value . "%'";</code></pre>
<p>Does anybody can help me with this problem? Its long time ago I made anything with lexical analyzator.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-2321f0a85518388a0a032743-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-2321f0a85518388a0a032743-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19409" href="#C19409">
                <time itemprop="dateCreated" datetime="2015-06-12T08:09:20-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You can use the new custom functions feature to extend PHQL to support this feature: <a href="https://blog.phalcon.io/post/phalcon-2-0-3-released">https://blog.phalcon.io/post/phalcon-2-0-3-released</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19409" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19409" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c9d418a459eafcf648bd5ce64e0949c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1895/michalcharvat" class="user-moderator-N"><span itemprop="name">michalcharvat</span></a>        </span>
        <br>

        <span class="karma">10.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19419" href="#C19419">
                <time itemprop="dateCreated" datetime="2015-06-12T11:26:05-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Did you change internal query builder for functions like &quot;<strong>find</strong>&quot;, &quot;<strong>findFirst</strong>&quot; etc? I dont have problem with dialect self. Because you formally does not support MSSQLI made custom dialect. However when I use find function I get error before dialect select function is called. Custom dialog function is great when there are internal changes. I'll take a look and let you know if I find any issues. How much is current version stable for production usage? Application / API is deployed in Azure and run as service on IIS.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19419" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19419" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19421" href="#C19421">
                <time itemprop="dateCreated" datetime="2015-06-12T12:35:32-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You can create a custom function that allows to set a COLLATE/LIKE as explained in the article. Phalcon 2.0.3 does not have major stability issues that I know</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19421" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19421" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c9d418a459eafcf648bd5ce64e0949c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1895/michalcharvat" class="user-moderator-N"><span itemprop="name">michalcharvat</span></a>        </span>
        <br>

        <span class="karma">10.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C19425" href="#C19425">
                <time itemprop="dateCreated" datetime="2015-06-12T17:23:43-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Excellent feature :) Need more testing in whole API however for this you have big plus :) Keep it up.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19425" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19425" data-cf-modified-2321f0a85518388a0a032743-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="7131" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>