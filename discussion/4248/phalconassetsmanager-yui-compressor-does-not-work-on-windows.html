---
layout: default
title: 'Phalcon\Assets\Manager YUI Compressor does not work on Windows - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/18/escaping-filtering">Escaping/Filtering</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Phalcon\Assets\Manager YUI Compressor does not work on Windows</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/2775/edwardhew" class="user-moderator-N"><span itemprop="name">Edward Hew</span></a></span>
            <time itemprop="dateCreated" datetime="2014-12-14T01:35:53-07:00">Dec '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-12-14T01:35:53-07:00">Dec '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>893</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/2f0942cfa836b766da6c060c84eb8703?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/2775/edwardhew" class="user-moderator-N"><span itemprop="name">Edward Hew</span></a></span>
                <span class="karma">5.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4248" href="#C4248">
        <time class="action-date">Dec '14</time>
    </a>
</div>
<div class="post-content"><div><p>Title may be a misleading, this isn't directly Phalcon issue it appears, running the examples as <a href="http://docs.phalcon.io/en/latest/reference/assets.html#custom-filters">shown here</a> won't work on Windows 8, below is a simplified direct test, it just won't produce any output. If I try the command directly in the command line, I do get the compressed CSS file output.</p>
<pre><code class="language-php">$result = shell_exec('java -jar d:/yuicompressor-2.4.8.jar --type css --charset utf-8 main.css -o main-min.css'); // $result is empty</code></pre>
<p>I've tried system() as documentation example shows, and exec() as well.</p>
<p>Is there some setting within Windows, Java exe or PHP that will allow this to happen, or is using PHP to execute a .jar file a dead end on Windows 8?</p>
<p>Thanks.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-66ca05a34a97f491f1f05681-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-66ca05a34a97f491f1f05681-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b58ae5d515c7285229c9f07af9a11e39?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1727/Mechzeit" class="user-moderator-N"><span itemprop="name">Mitchell Macpherson</span></a>        </span>
        <br>

        <span class="karma">6.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14180" href="#C14180">
                <time itemprop="dateCreated" datetime="2014-12-15T16:06:56-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>What is the output if you run the same command in CMD?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14180" data-cf-modified-66ca05a34a97f491f1f05681-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14180" data-cf-modified-66ca05a34a97f491f1f05681-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2f0942cfa836b766da6c060c84eb8703?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2775/edwardhew" class="user-moderator-N"><span itemprop="name">Edward Hew</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C14189" href="#C14189">
                <time itemprop="dateCreated" datetime="2014-12-16T01:17:35-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi, thanks for your reply. Only the minified file will be produced, the YUI .jar file does not provide status result when run in CMD. exec(&quot;java -version&quot;), or when full path to Java, return nothing as well, exec(&quot;dir&quot;) does return the directory files for examle.</p>
<p>I've given up this approach, just using a custom asset filter as a file joiner, I'll minify them with YUI manually, there are PHP based minifiers but not as simple as YUI compressor, only one .jar file, one command. I cannot use Phalcon minifiers because of the &quot;non-free&quot; error on Windows.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14189" data-cf-modified-66ca05a34a97f491f1f05681-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14189" data-cf-modified-66ca05a34a97f491f1f05681-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2f0942cfa836b766da6c060c84eb8703?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2775/edwardhew" class="user-moderator-N"><span itemprop="name">Edward Hew</span></a>        </span>
        <br>

        <span class="karma">5.7k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="14200" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '15</span>
              </span><br/><a name="C14200" href="#C14200">
                <time itemprop="dateCreated" datetime="2014-12-16T04:16:19-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Edit: Months later after installing Java 1.8, and Windows 10, this no longer works, I don't know if its a security thing on Windows or PHP, but nothing happens. I tried calling nodejs modules, they won't respond either via exec, nodejs itself will respond but not a module.</p>
<p>Ok I got it working now!</p>
<pre><code class="language-php">// On my machine, only full path to Java.exe worked.
echo shell_exec('CALL "C:\Program Files\Java\jre7\bin\java.exe" -jar d:/yuicompressor-2.4.8.jar --type css --charset utf-8 main.css -o main-min.css');</code></pre>
<p><strong>CALL</strong> made it work.</p>
<p>I was trying to find out if I could run Java via a Windows batch file, same thing, using CALL worked from PHP, CALL is not needed if running the batch file directly in CMD. Here is the bat file, if anyone is interested.</p>
<pre><code class="language-dos">@echo off

IF "%1"=="" (
    ECHO 'No arguments! 3 required. 1-type-js/css 2-input-file 3-compressed-file'
) ELSE (
    CALL "C:\Program Files\Java\jre7\bin\java.exe" -jar d:/yuicompressor-2.4.8.jar --type %1 --charset utf-8 %2 -o %3
)</code></pre>
<p>Called like this:</p>
<pre><code class="language-dos">run_yui_compressor.bat css main.css main-min.css</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="14200" data-cf-modified-66ca05a34a97f491f1f05681-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="14200" data-cf-modified-66ca05a34a97f491f1f05681-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4248" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>