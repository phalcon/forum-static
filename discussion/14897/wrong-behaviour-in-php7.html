---
layout: default
title: 'Wrong behaviour in php7 - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/13/routing">Routing</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Wrong behaviour in php7</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/5315/4dri-wtf" class="user-moderator-N"><span itemprop="name">4dri-wtf</span></a></span>
            <time itemprop="dateCreated" datetime="2016-11-28T05:35:19-07:00">Nov '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-11-28T05:35:19-07:00">Nov '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>325</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/88a99ad8caf86ef5e4dd8730bca09a06?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/5315/4dri-wtf" class="user-moderator-N"><span itemprop="name">4dri-wtf</span></a></span>
                <span class="karma">1.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C14897" href="#C14897">
        <time class="action-date">Nov '16</time>
    </a>
</div>
<div class="post-content"><div><p>So, we had a working aplication on php5.6 and we updated to 7.0. Most of the app is still working properly but there is this one thing we cannot sort out.</p>
<p>When I navigate to '/ajax/sendContact' it returns a 404 error and shows the 404 error page but I've got a controller named AjaxController whit a sendContact. So i went to the dispacher and deactivated the not found handler.
Now, instead of the 404 page it dumps the code in the controller and throws an exception. Anybody knows whats happening?</p>
<pre><code class="language-php">//
            var_dump($e);
            $contenido = ob_get_contents();
            ob_end_clean();
            $new_contacto-&gt;soap_exception = $contenido;

            if ($new_contacto-&gt;save() === false) {
                var_dump("error");
            } 
        }

        if ($new_contacto-&gt;save() === false) {
            var_dump("error");
        }

        echo $new_contacto-&gt;http_response_code;

    }

}</code></pre>
<pre><code>AjaxController handler class cannot be loaded

#0 [internal function]: Phalcon\Mvc\Dispatcher-&gt;_throwDispatchException('AjaxController ...', 2)
#1 [internal function]: Phalcon\Dispatcher-&gt;_dispatch()
#2 [internal function]: Phalcon\Dispatcher-&gt;dispatch()
#3 /var/www/html/webpromos_adri/public/index.php(28): Phalcon\Mvc\Application-&gt;handle()
#4 {main}</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-97b14354be59f86b76ac7cb2-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-97b14354be59f86b76ac7cb2-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/660e8c9b157b0029b6e0ba24c0ea3eba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4363/lajosbencz" class="user-moderator-N"><span itemprop="name">Lajos Bencz</span></a>        </span>
        <br>

        <span class="karma">77.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C43349" href="#C43349">
                <time itemprop="dateCreated" datetime="2016-11-28T07:18:25-07:00" class="action-date">Nov '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><code>AjaxController handler class cannot be loaded</code> is fairly self-explanatory; your autoloader cannot find the file to load the class.</p>
<p>What is your AL strategy? Phalcon/composer/custom?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="43349" data-cf-modified-97b14354be59f86b76ac7cb2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="43349" data-cf-modified-97b14354be59f86b76ac7cb2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/88a99ad8caf86ef5e4dd8730bca09a06?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/5315/4dri-wtf" class="user-moderator-N"><span itemprop="name">4dri-wtf</span></a>        </span>
        <br>

        <span class="karma">1.4k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C43355" href="#C43355">
                <time itemprop="dateCreated" datetime="2016-11-28T08:19:40-07:00" class="action-date">Nov '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sorry pals, short tags was not active and was used in that controller.
I guess thats why I got the controller code dumped as response</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="43355" data-cf-modified-97b14354be59f86b76ac7cb2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="43355" data-cf-modified-97b14354be59f86b76ac7cb2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C43359" href="#C43359">
                <time itemprop="dateCreated" datetime="2016-11-28T08:57:39-07:00" class="action-date">Nov '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No one should be using short tags at first place.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="43359" data-cf-modified-97b14354be59f86b76ac7cb2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="43359" data-cf-modified-97b14354be59f86b76ac7cb2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="14897" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>