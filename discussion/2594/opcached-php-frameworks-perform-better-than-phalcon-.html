---
layout: default
title: 'OPcached PHP Frameworks perform better than Phalcon? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">OPcached PHP Frameworks perform better than Phalcon?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/1831/satorumoriwaki" class="user-moderator-N"><span itemprop="name">satorumoriwaki</span></a></span>
            <time itemprop="dateCreated" datetime="2014-06-17T23:17:28-07:00">Jun '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-06-17T23:17:28-07:00">Jun '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jan '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2685</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">-1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img  src="https://secure.gravatar.com/avatar/1b0c93f241c793fb9fc7df797a0cf6d2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/1831/satorumoriwaki" class="user-moderator-N"><span itemprop="name">satorumoriwaki</span></a></span>
                <span class="karma">2.8k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2594" href="#C2594">
        <time class="action-date">Jun '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi all,</p>
<p>I've created a simple &quot;Hello World&quot; application with Phalcon, CodeIgniter, and my own PHP framework to run performance benchmaks and both of PHP frameworks performed much faster than Phalcon.</p>
<p>They all have no complex setups (IndexController-&gt;indexAction() that simply displays &quot;Hello World&quot; in view) and I run Apache Bench, just like the document explains (2,000 requests with 10 concurrent requests each).  The only difference is that I used OPcache instead of APC. My machine is MacBook Pro 15&quot; Retina (2.7 GHz Intel Core i7 with 16GB 1600 Mhz DDR3) and all of the applications were installed from Homebrew (PHP 5.5 with Phalcon).</p>
<p>Has anyone tried a similar test and got the same result?</p>
<p>Is there a way to make Phalcon faster like OPcached PHP frameworks?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-990bb782c74957f293b7805f-="">
        <span class="glyphicon glyphicon-thumbs-down"></span><span itemprop="downvoteCount">7</span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-990bb782c74957f293b7805f-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">6</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/5e765e30b2def171a913a5501de37faa?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a>        </span>
        <br>

        <span class="karma">8.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="8763" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '14</span>
              </span><br/><a name="C8763" href="#C8763">
                <time itemprop="dateCreated" datetime="2014-06-18T01:51:40-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Wow, what's with all the downvoting? (Zealotry?)</p>
<p>If in your tests Phalcon is truly (much) slower, I am certainly interested in this?</p>
<p>btw; what do you mean with <code>OPcached frameworks</code>? OPcache is enabled or it isn't right? So I assume you also tested Phalcon with OPcache enabled?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8763" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8763" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/1b0c93f241c793fb9fc7df797a0cf6d2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1831/satorumoriwaki" class="user-moderator-N"><span itemprop="name">satorumoriwaki</span></a>        </span>
        <br>

        <span class="karma">2.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8764" href="#C8764">
                <time itemprop="dateCreated" datetime="2014-06-18T02:35:29-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I have no idea why everyone is giving me the negative votes without leaving any comments (but I don't care. Everyone has different opinions.)</p>
<p>Don't give me wrong, I like Phalcon.  It's clean, easy to setup, and very fast. (and I don't like most of the PHP frameworks because they are too messy and hard to setup.)</p>
<p>I just wanted to know if someone else has done the same thing and got the similar result.</p>
<p>Here are the results from Apache Bench.</p>
<p>&quot;Hello World&quot; CodeIgniter with no Opcache extension</p>
<pre><code>$ ab -n 2000 -c 10 https://localhost/codeigniter/index.php
This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, https://www.zeustech.net/
Licensed to The Apache Software Foundation, https://www.apache.org/

Benchmarking localhost (be patient)
Completed 200 requests
Completed 400 requests
Completed 600 requests
Completed 800 requests
Completed 1000 requests
Completed 1200 requests
Completed 1400 requests
Completed 1600 requests
Completed 1800 requests
Completed 2000 requests
Finished 2000 requests

Server Software:        Apache/2.2.27
Server Hostname:        localhost
Server Port:            80

Document Path:          /codeigniter/index.php
Document Length:        67 bytes

Concurrency Level:      10
Time taken for tests:   10.455 seconds
Complete requests:      2000
Failed requests:        0
Write errors:           0
Total transferred:      580000 bytes
HTML transferred:       134000 bytes
Requests per second:    191.29 [#/sec] (mean)
Time per request:       52.277 [ms] (mean)
Time per request:       5.228 [ms] (mean, across all concurrent requests)
Transfer rate:          54.17 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       1
Processing:    32   52   9.6     51     137
Waiting:       31   52   9.6     51     137
Total:         32   52   9.5     51     137

Percentage of the requests served within a certain time (ms)
  50%     51
  66%     53
  75%     54
  80%     55
  90%     58
  95%     62
  98%     91
  99%    100
 100%    137 (longest request)</code></pre>
<p>&quot;Hello World&quot; Phalcon with no Opcache extension</p>
<pre><code>$ ab -n 2000 -c 10 https://localhost/phalcon/index.php
This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, https://www.zeustech.net/
Licensed to The Apache Software Foundation, https://www.apache.org/

Benchmarking localhost (be patient)
Completed 200 requests
Completed 400 requests
Completed 600 requests
Completed 800 requests
Completed 1000 requests
Completed 1200 requests
Completed 1400 requests
Completed 1600 requests
Completed 1800 requests
Completed 2000 requests
Finished 2000 requests

Server Software:        Apache/2.2.27
Server Hostname:        localhost
Server Port:            80

Document Path:          /phalcon/index.php
Document Length:        168 bytes

Concurrency Level:      10
Time taken for tests:   4.150 seconds
Complete requests:      2000
Failed requests:        0
Write errors:           0
Total transferred:      814000 bytes
HTML transferred:       336000 bytes
Requests per second:    481.98 [#/sec] (mean)
Time per request:       20.748 [ms] (mean)
Time per request:       2.075 [ms] (mean, across all concurrent requests)
Transfer rate:          191.57 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       1
Processing:     9   21   9.6     19      90
Waiting:        9   20   9.6     19      90
Total:          9   21   9.6     19      90

Percentage of the requests served within a certain time (ms)
  50%     19
  66%     20
  75%     21
  80%     21
  90%     23
  95%     24
  98%     72
  99%     78
 100%     90 (longest request)</code></pre>
<p>Phalcon is much faster than CodeIgniter without Opcache extension.</p>
<p>&quot;Hello World&quot; CodeIgniter with Opcache extension</p>
<pre><code>$ ab -n 2000 -c 10 https://localhost/codeigniter/index.php
This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, https://www.zeustech.net/
Licensed to The Apache Software Foundation, https://www.apache.org/

Benchmarking localhost (be patient)
Completed 200 requests
Completed 400 requests
Completed 600 requests
Completed 800 requests
Completed 1000 requests
Completed 1200 requests
Completed 1400 requests
Completed 1600 requests
Completed 1800 requests
Completed 2000 requests
Finished 2000 requests

Server Software:        Apache/2.2.27
Server Hostname:        localhost
Server Port:            80

Document Path:          /codeigniter/index.php
Document Length:        67 bytes

Concurrency Level:      10
Time taken for tests:   0.452 seconds
Complete requests:      2000
Failed requests:        0
Write errors:           0
Total transferred:      580000 bytes
HTML transferred:       134000 bytes
Requests per second:    4429.53 [#/sec] (mean)
Time per request:       2.258 [ms] (mean)
Time per request:       0.226 [ms] (mean, across all concurrent requests)
Transfer rate:          1254.46 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   1.2      0      52
Processing:     1    2   3.4      2      53
Waiting:        1    2   3.4      1      53
Total:          1    2   3.6      2      54

Percentage of the requests served within a certain time (ms)
  50%      2
  66%      2
  75%      2
  80%      2
  90%      3
  95%      3
  98%      4
  99%      4
 100%     54 (longest request)</code></pre>
<p>&quot;Hello World&quot; Phalcon with Opcache extension</p>
<pre><code>$ ab -n 2000 -c 10 https://localhost/phalcon/index.php
This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, https://www.zeustech.net/
Licensed to The Apache Software Foundation, https://www.apache.org/

Benchmarking localhost (be patient)
Completed 200 requests
Completed 400 requests
Completed 600 requests
Completed 800 requests
Completed 1000 requests
Completed 1200 requests
Completed 1400 requests
Completed 1600 requests
Completed 1800 requests
Completed 2000 requests
Finished 2000 requests

Server Software:        Apache/2.2.27
Server Hostname:        localhost
Server Port:            80

Document Path:          /phalcon/index.php
Document Length:        168 bytes

Concurrency Level:      10
Time taken for tests:   1.872 seconds
Complete requests:      2000
Failed requests:        0
Write errors:           0
Total transferred:      814000 bytes
HTML transferred:       336000 bytes
Requests per second:    1068.57 [#/sec] (mean)
Time per request:       9.358 [ms] (mean)
Time per request:       0.936 [ms] (mean, across all concurrent requests)
Transfer rate:          424.71 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       1
Processing:     4    9   2.3      9      28
Waiting:        4    9   2.3      9      28
Total:          4    9   2.3      9      28

Percentage of the requests served within a certain time (ms)
  50%      9
  66%     10
  75%     10
  80%     10
  90%     11
  95%     13
  98%     14
  99%     22
 100%     28 (longest request)</code></pre>
<p>As you can see, CodeIgniter with Opcache extension is much faster than Phalcon with Opcache extension.</p>
<p>I'm using Homebrew php55 and php55-phalcon on Mac OS X 10.7.5.</p>
<pre><code>php --version
PHP 5.5.12 (cli) (built: May  9 2014 14:03:50) 
Copyright (c) 1997-2014 The PHP Group
Zend Engine v2.5.0, Copyright (c) 1998-2014 Zend Technologies
    with Zend OPcache v7.0.4-dev, Copyright (c) 1999-2014, by Zend Technologies</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8764" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8764" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/5e765e30b2def171a913a5501de37faa?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/506/oh-ren" class="user-moderator-N"><span itemprop="name">ren</span></a>        </span>
        <br>

        <span class="karma">8.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="8766" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '14</span>
              </span><br/><a name="C8766" href="#C8766">
                <time itemprop="dateCreated" datetime="2014-06-18T03:00:40-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for posting your results.
I don't know what could explain the difference, but it would be interesting to hear something from a dev or someone who has perhaps experience in the matter.. :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8766" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8766" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/c393137504e3c8e04fec99f187fcc33e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1057/maxgalbu" class="user-moderator-N"><span itemprop="name">Max Galbusera</span></a>        </span>
        <br>

        <span class="karma">3.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8767" href="#C8767">
                <time itemprop="dateCreated" datetime="2014-06-18T03:04:35-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm interested too, here are some questions:</p>
<ul>
<li>can you share the code you used?</li>
<li>did you try to run the code at least twice with opcache enabled?</li>
<li>can you try with another test tool like wrk (<a href="https://github.com/wg/wrk">https://github.com/wg/wrk</a> or <code>brew install wrk</code>)</li>
</ul></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8767" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8767" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/1b0c93f241c793fb9fc7df797a0cf6d2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1831/satorumoriwaki" class="user-moderator-N"><span itemprop="name">satorumoriwaki</span></a>        </span>
        <br>

        <span class="karma">2.8k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C8768" href="#C8768">
                <time itemprop="dateCreated" datetime="2014-06-18T03:22:32-07:00" class="action-date">Jun '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi Max,</p>
<p>Actually not much to share because I really didn't change that much.</p>
<p>For CodeIgniter, just download it from the website, unzip it, copy the files into codeigniter directory, and edit the application/views/welcome_message.php to display &quot;Hello World&quot; HTML. That's it.</p>
<p>For Phalcon, I used Phalcon devtool to generate a project, edit the app/config/services.php to remove everyting except url and view from $di because I don't use them, and edit the app/views/index/index.volt to display &quot;Hello World&quot; HTML. That's all.</p>
<p>I did run multiple tests but same results.</p>
<p>I'll try wrk later.  It's not hard to setup, so you can try and let me know the result too.</p>
<p>By the way, CodeIgniter is still not my choice because I don't like the architecture.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="8768" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="8768" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/d83a0e416f7edc265715465ae2b9e7ea?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/5973/jessegreathouse" class="user-moderator-N"><span itemprop="name">Jesse Greathouse</span></a>        </span>
        <br>

        <span class="karma">119</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C28875" href="#C28875">
                <time itemprop="dateCreated" datetime="2016-01-13T10:49:03-07:00" class="action-date">Jan '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>OPcache saves the bytecode result of interpreting that PHP code on execution, so that the application doesn't have to be interpreted every time its executed. The crux of Phalcon is that the core of its framework is compiled as C so that it executes faster at runtime. All things being equal, if the bytecode is being cached, it doesn't matter if the phalcon is being compiled as C because the code is not being interpreted every time it executes, the application is simply executing the machine code that it had already cached; so what you're left comparing in the efficiency of the machine code artifacts to be executed per request. Really the speed gains of Phalcon only shine when you're not using Opcache, APC or HHVM JIT. That's not to say that Phalcon is bad, but I think people have these really weird expectations because they don't understand modern dynamic language methods of JIT and bytecode caching.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28875" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28875" data-cf-modified-990bb782c74957f293b7805f-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2594" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>