---
layout: default
title: 'Inline js to footer and css to header - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/3/volt">Volt</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Inline js to footer and css to header</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/647/EikeKre" class="user-moderator-N"><span itemprop="name">Eike</span></a></span>
            <time itemprop="dateCreated" datetime="2013-11-12T05:30:18-07:00">Nov '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-11-12T05:30:18-07:00">Nov '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2458</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">2</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/9bdeeeeee5300afd5cd1316db0750d2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/647/EikeKre" class="user-moderator-N"><span itemprop="name">Eike</span></a></span>
                <span class="karma">12.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1166" href="#C1166">
        <time class="action-date">Nov '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hi community,</p>
<p>i have inline javascript in a view which should be loaded in the footer for performance reasons. Same with css-style which should come to the header. How can this be implemented?
Should I use blocks? I load the views by the {% raw %}{{{% endraw %} content() {% raw %}}}{% endraw %} call and  I currently do not use blocks views.</p>
<p>My first try is to define a block in the main index.volt and in the views I do the following:</p>
<pre><code class="language-html">&lt;body&gt;
{% raw %}{%{% endraw %}block js_footer {% raw %}%}{% endraw %}
alert("This code should be in the footer not in the middle of the content!");
{% raw %}{%{% endraw %}endblock {% raw %}%}{% endraw %}

&lt;h1&gt;Html HTML HTML HTML&lt;/h1&gt;</code></pre>
<p>The Output:</p>
<pre><code class="language-html">&lt;body&gt;
&lt;h1&gt;Html HTML HTML HTML&lt;/h1&gt;
&lt;script type="text/javascript&gt;
alert("This code should be in the footer not in the middle of the content!");
&lt;/script&gt;</code></pre>
<p>But I get the error &quot;Embedding blocks into other blocks is not supported&quot;</p>
<p>greetings
Eike</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-a89071844d1bfcef4781e553-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-a89071844d1bfcef4781e553-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9bdeeeeee5300afd5cd1316db0750d2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/647/EikeKre" class="user-moderator-N"><span itemprop="name">Eike</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4188" href="#C4188">
                <time itemprop="dateCreated" datetime="2013-11-12T05:55:13-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sorry, I didn't see the possibility to add self defined functions/extensions to volt. I will now write an extension like {js_header}alert(&quot;I want to the footer&quot;){/js_header}</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4188" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4188" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7578579205c2103576b553edd4880b3d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/120/aleemb" class="user-moderator-N"><span itemprop="name">aleemb</span></a>        </span>
        <br>

        <span class="karma">9.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4189" href="#C4189">
                <time itemprop="dateCreated" datetime="2013-11-12T06:19:49-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Eike, how will you render the code inside js_header at the very to of the page? (assuming you write the code in the middle but want it to show at the top). I am in a similar situation.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4189" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4189" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9bdeeeeee5300afd5cd1316db0750d2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/647/EikeKre" class="user-moderator-N"><span itemprop="name">Eike</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="4190" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '14</span>
              </span><br/><a name="C4190" href="#C4190">
                <time itemprop="dateCreated" datetime="2013-11-12T06:49:49-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi aleemb,</p>
<p>I have in the index.volt</p>
<pre><code class="language-html">{% raw %}{{{% endraw %} assets.outputJs('footer') {% raw %}}}{% endraw %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>So in the self defined function I do the same as I actually do in the controllers:</p>
<pre><code class="language-php">$this-&gt;assets-&gt;collection("footer")-&gt;addJs("js/bootstrap/bootstrap.js")</code></pre>
<p>Update1: I think I will put the rendered code in an extra file which I add to a js-collection. The code has to be rendered because I may want to assign variables from the controller to the js.
Update2: Assets is the Phalcon-AssetsManager registered as a service in the DI:</p>
<pre><code class="language-php">$di-&gt;set('assets', function () {
    return new Phalcon\Assets\Manager();
}, true);</code></pre>
<p>Update3: Another solution could be to collect the content of all the {% raw %}{%{% endraw %} js_header {% raw %}%}{% endraw %} in an array and loop through it before rendering the view like I do with metatags <a href="https://forum.phalcon.io/discussion/1135/-solved-dynamically-add-variables-to-loop">https://forum.phalcon.io/discussion/1135/-solved-dynamically-add-variables-to-loop</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4190" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4190" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/306b83436a7d0d972007bf2daebf51fd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/21/benfavre" class="user-moderator-N"><span itemprop="name">Webdesign29</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4228" href="#C4228">
                <time itemprop="dateCreated" datetime="2013-11-14T12:51:14-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi,
Interesting thread.
About rendering code into a file ...
I think you'd be better off outputing all of the configuration parameters from the DB into a Javascript variable inside the HTML document like so :</p>
<p>&lt;script type=&quot;text/javascript&quot;&gt;
var php_var = &quot;&lt;?php echo $php_var; ?&gt;&quot;;
&lt;/script&gt;</p>
<p>Edit: obviously that's just plain PHP :D</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4228" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4228" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9bdeeeeee5300afd5cd1316db0750d2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/647/EikeKre" class="user-moderator-N"><span itemprop="name">Eike</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4235" href="#C4235">
                <time itemprop="dateCreated" datetime="2013-11-15T02:25:01-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi<a href="https://forum.phalcon.io/user/0/benvafre"> @benvafre</a>,</p>
<p>I think u have missunderstood me. I already have my PHP-Values assigned to the template but due to performance reasons I want to put this javascript including the assignment to the footer (or to the header if nessessary).
Thanks anyway! ;)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4235" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4235" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/306b83436a7d0d972007bf2daebf51fd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/21/benfavre" class="user-moderator-N"><span itemprop="name">Webdesign29</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4237" href="#C4237">
                <time itemprop="dateCreated" datetime="2013-11-15T06:36:20-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/Eike">@Eike</a> This is not me missunderstanding, this is me showing you a best practice for reading dynamic values from a database in javascript.
You place the script in the footer, and it reads values from the variable you output in the body.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4237" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4237" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/306b83436a7d0d972007bf2daebf51fd?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/21/benfavre" class="user-moderator-N"><span itemprop="name">Webdesign29</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4239" href="#C4239">
                <time itemprop="dateCreated" datetime="2013-11-15T06:52:09-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/Eike">@Eike</a> On another note, if you use caching appropriately, you are worse of conditionnaly loading JS scripts, you should minify everything into one file, hence the variables that let you decide what to do based on the page.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4239" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4239" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/9bdeeeeee5300afd5cd1316db0750d2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/647/EikeKre" class="user-moderator-N"><span itemprop="name">Eike</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4240" href="#C4240">
                <time itemprop="dateCreated" datetime="2013-11-15T08:32:29-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ah okay! I think got your approach! I will try that and give feedback </p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4240" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4240" data-cf-modified-a89071844d1bfcef4781e553-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1166" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>