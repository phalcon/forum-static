---
layout: default
title: 'Seting up Amazon Linux: nginx + php 5.6 fpm + phalcon + mongodb - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Seting up Amazon Linux: nginx + php 5.6 fpm + phalcon + mongodb</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/2759/nahuelthc" class="user-moderator-N"><span itemprop="name">nahuelthc</span></a></span>
            <time itemprop="dateCreated" datetime="2014-11-28T10:20:42-07:00">Nov '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-11-28T10:20:42-07:00">Nov '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>3225</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/6edb3d8e7c63b62c3dcd8490c87afa73?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/2759/nahuelthc" class="user-moderator-N"><span itemprop="name">nahuelthc</span></a></span>
                <span class="karma">4.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4124" href="#C4124">
        <time class="action-date">Nov '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hello:</p>
<p>¿Is there any phalcon yum package out there?</p>
<p>I'm doing a setup on amazon linux, so I don't have apt but have yum. I don't want to compile phalcon on machine every time is setup, son if I have no luck with yum, I was thinking to make my own .os and then just deliver it to machines.</p>
<p>Any ideas wellcome!</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-b56a6ecd2e55cf957862712c-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-b56a6ecd2e55cf957862712c-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f14f7a0c1c40e4c1aee7f4c26287e5f6?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2566/TrogWarZ" class="user-moderator-N"><span itemprop="name">Roman</span></a>        </span>
        <br>

        <span class="karma">21.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="13762" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '14</span>
              </span><br/><a name="C13762" href="#C13762">
                <time itemprop="dateCreated" datetime="2014-11-28T15:20:36-07:00" class="action-date">Nov '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You need to install epel repository to get full php features on centos/RH. Phalcon will be there too.</p>
<pre><code class="language-bash">$ cat /etc/*-release
CentOS release 6.6 (Final)
LSB_VERSION=base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch
CentOS release 6.6 (Final)
CentOS release 6.6 (Final)

$ yum repolist
Loaded plugins: presto, priorities, security
2444 packages excluded due to repository priority protections
repo id                    repo name                                 status
base                       CentOS-6 - Base                                 6,518
elrepo                     ELRepo.org Community Enterprise Linux Rep       324+2
epel                       Extra Packages for Enterprise Linux 6 - x  10,440+786
extras                     CentOS-6 - Extras                                  35
nginx-release              nginx repo                                         69
remi                       Les RPM de remi pour Enterpise Linux 6 -        2,342
rpmforge-rhel5             RPMForge RHEL5 packages                   3,166+1,552
updates                    CentOS-6 - Updates                                388
repolist: 24,671

$ yum install php-phalcon
Loaded plugins: presto, priorities, security
Setting up Install Process
2444 packages excluded due to repository priority protections
Package php-phalcon-1.3.4-1.el6.remi.5.4.x86_64 already installed and latest version
Nothing to do</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13762" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13762" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6edb3d8e7c63b62c3dcd8490c87afa73?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2759/nahuelthc" class="user-moderator-N"><span itemprop="name">nahuelthc</span></a>        </span>
        <br>

        <span class="karma">4.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="13763" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '14</span>
              </span><br/><a name="C13763" href="#C13763">
                <time itemprop="dateCreated" datetime="2014-11-28T17:10:26-07:00" class="action-date">Nov '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks roman; you post didn't fix my issue, but I is pointing me some where....
I enabled the epel repository that came by default in amazon linux, it look like is fedora 6 based, but also looks like it doesn't have phacon in.
¿Is possible to use other repository like the one that you are using? ¿can you provide me the url so I can add it to cloudinit?</p>
<p>Here is my data:
<img src="https://dl.dropboxusercontent.com/u/5758892/terminal.png" alt="screen" /></p>
<p>ps: can you tell me how you did mark up to terminal? I tried ''' but din't work.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13763" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13763" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/f14f7a0c1c40e4c1aee7f4c26287e5f6?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2566/TrogWarZ" class="user-moderator-N"><span itemprop="name">Roman</span></a>        </span>
        <br>

        <span class="karma">21.7k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="13764" data-toggle="modal" data-target="#historyModal">
                edited <span>Nov '14</span>
              </span><br/><a name="C13764" href="#C13764">
                <time itemprop="dateCreated" datetime="2014-11-28T18:03:34-07:00" class="action-date">Nov '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yup. I've double checked which repo is exactly installed phalcon (i have always many repos) and this is REMI (not EPEL). Sorry for confusing.</p>
<p>Url for REMI mirrorlist in my system is <a href="https://rpms.famillecollet.com/enterprise/$releasever/remi/mirror">https://rpms.famillecollet.com/enterprise/$releasever/remi/mirror</a></p>
<p>To install them you can use (fedora 18+, change 20 to number of your system release):</p>
<pre><code class="language-bash">$ wget https://rpms.famillecollet.com/remi-release-20.rpm
$ yum install remi-release-20.rpm
$ nano /etc/yum.repos.d/remi.repo # Change "enabled" to 1</code></pre>
<p>ps: after three backticks just write language name as described <a href="https://forum.phalcon.io/help/markdown">here</a>. &quot;bash&quot; works too.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13764" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13764" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6edb3d8e7c63b62c3dcd8490c87afa73?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2759/nahuelthc" class="user-moderator-N"><span itemprop="name">nahuelthc</span></a>        </span>
        <br>

        <span class="karma">4.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="13832" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '14</span>
              </span><br/><a name="C13832" href="#C13832">
                <time itemprop="dateCreated" datetime="2014-12-01T18:05:03-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'm up and running nginx + php 5.6 fpm + mongodb on amazon linux. So for the ones to come, here my cloud init:</p>
<pre><code class="language-bash">#cloud-config
#
# We update all packages
repo_upgrade: all
# Set extra repositories
yum_repos:
    # The name of the repository
    mongodb:
        # Any repository configuration optionsa
        #
        # This one is required!
        baseurl: https://downloads-distro.mongodb.org/repo/redhat/os/x86_64/
        enabled: 1
        gpgcheck: 0
        name: MongoDB Repository
#            
# We install what we can we available reps
packages:
 - nginx
 - git
 - mongodb-org
#
# Set &amp; start services
runcmd:
 - service mongod start
 - chkconfig mongod on
 - service nginx start
 - chkconfig nginx on
 - yum-config-manager --enable epel
 - wget https://rpms.famillecollet.com/enterprise/remi-release-6.rpm
 - rpm -Uvh remi-release-6*.rpm
 - yum-config-manager --enable remi remi-php56
 - yum install php56-php-phalcon php56-php-fpm php56-php-pecl-mongo -y
 - service php56-php-fpm start
#</code></pre>
<p>Thanks to roman for pointing me to remi repositories.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13832" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13832" data-cf-modified-b56a6ecd2e55cf957862712c-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4124" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>