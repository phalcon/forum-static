---
layout: default
title: 'How to redirect (Phalcon\Http\Response) from static method in model - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/26/http-environment">HTTP Environment</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How to redirect (Phalcon\Http\Response) from static method in model</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/10632/joostdelange" class="user-moderator-N"><span itemprop="name">Joost de Lange</span></a></span>
            <time itemprop="dateCreated" datetime="2018-08-08T13:05:31-07:00">Aug '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-08-08T13:05:31-07:00">Aug '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Aug '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>347</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7ca2b8cb4d44991912b60c2224b2a835?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/10632/joostdelange" class="user-moderator-N"><span itemprop="name">Joost de Lange</span></a></span>
                <span class="karma">1.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C18691" href="#C18691">
        <time class="action-date">Aug '18</time>
    </a>
</div>
<div class="post-content"><div><p>I'm trying to create a reusable static function which redirects if true.
This function will be in a model.</p>
<pre><code class="language-php">    public static function checkEmtpy(ResultsetInterface $resultset)
    {
        $di = \Phalcon\DI::getDefault();

        if (empty($resultset-&gt;toArray())) {

            $di-&gt;get('flash')-&gt;error('Page not found.');
            return $di-&gt;get('response')-&gt;redirect('content');

        } else {

            return false;

        }
    }</code></pre>
<p>I tried several ways to redirect but I can't get it to redirect from the model.</p>
<p>What can I change to make this work or isn't this possible at all?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-a60c7ce8e402ef68bd48a907-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-a60c7ce8e402ef68bd48a907-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Åšlawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C56943" href="#C56943">
                <time itemprop="dateCreated" datetime="2018-08-08T14:41:56-07:00" class="action-date">Aug '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Model shouldn't really do stuff like this. What you mean you can't get it working? Redirect is pretty straight forward, it just uses Location internally, this code should work, what exactly happens for you?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56943" data-cf-modified-a60c7ce8e402ef68bd48a907-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56943" data-cf-modified-a60c7ce8e402ef68bd48a907-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C56955" href="#C56955">
                <time itemprop="dateCreated" datetime="2018-08-09T09:17:33-07:00" class="action-date">Aug '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Yeah - the model should report the state back to the controller, which then handles the redirecting.  In the controller, you can then just go <code>$this-&gt;response-&gt;redirect(...)</code></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="56955" data-cf-modified-a60c7ce8e402ef68bd48a907-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="56955" data-cf-modified-a60c7ce8e402ef68bd48a907-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="18691" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>