---
layout: default
title: 'Setting up and loading Phalcon modules via composer - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Setting up and loading Phalcon modules via composer</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/7573/garyrutland" class="user-moderator-N"><span itemprop="name">Gary Rutland</span></a></span>
            <time itemprop="dateCreated" datetime="2016-09-22T03:33:54-07:00">Sep '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-09-22T03:33:54-07:00">Sep '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Sep '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>726</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/8ce8f55d2f81ac1f73df55eabacd3d9a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/7573/garyrutland" class="user-moderator-N"><span itemprop="name">Gary Rutland</span></a></span>
                <span class="karma">6.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C13771" href="#C13771">
        <time class="action-date">Sep '16</time>
    </a>
</div>
<div class="post-content"><div><p>Hi,</p>
<p>I've been working with Phalcon 3 (and previously Phalcon 2) for a while now and really like it as a framework.</p>
<p>I'm starting a new project which will comprise of both a MVC and Micro implementation but have a lot of shared code (eg models, libraries, etc) so looking to create composer libraries for each module so they can be independent.<br />
I have a parent repository for both MVC and Micro which would require these packages.  </p>
<p>However, I haven't quite worked out how that would work in regards to controllers and/or views for each.  </p>
<p>At the moment I've been looking to set up something along the lines of the following:</p>
<ul>
<li>config/</li>
<li>library/</li>
<li>models/</li>
<li>Module.php</li>
</ul>
<p>Would I be best to put all controllers and views in here as well?<br />
For the MVC part that works with no issue, but how could I incorporate the Micro framework?
The Module.php file has the DI setting up the <code>view</code> component which isn't needed by it but it does set up the <code>db</code> component which would be needed by both MVC and Micro.</p>
<p>I guess what I'm asking is, is there a way of setting this kind of project up?</p>
<p>Thanks,<br />
Gary</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-abec2e9896175adf21a6e35b-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-abec2e9896175adf21a6e35b-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="40665" data-toggle="modal" data-target="#historyModal">
                edited <span>Sep '16</span>
              </span><br/><a name="C40665" href="#C40665">
                <time itemprop="dateCreated" datetime="2016-09-22T08:09:16-07:00" class="action-date">Sep '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Why you need both micro and mvc ? Just stick only to mvc imho :) Just create something like api module which will return only json and that's it.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="40665" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="40665" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8ce8f55d2f81ac1f73df55eabacd3d9a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/7573/garyrutland" class="user-moderator-N"><span itemprop="name">Gary Rutland</span></a>        </span>
        <br>

        <span class="karma">6.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C40669" href="#C40669">
                <time itemprop="dateCreated" datetime="2016-09-22T08:39:25-07:00" class="action-date">Sep '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I guess for now I can keep working on the MVC part and figure out the micro later.<br />
The reason for both is that one is the web UI and the other is an API which was stripped down as much as possible so it processed less on each request.<br />
I'll see if I can figure that out later then.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="40669" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="40669" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Ślawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C40671" href="#C40671">
                <time itemprop="dateCreated" datetime="2016-09-22T09:26:50-07:00" class="action-date">Sep '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>So only performance ? To be honest i wouldn't care about it if i was you. Well i myself im putting controllers and views which are used for certain module to Module directory too. Well models therotically should be outside of modules - because i just guess you will use models certain models across modules, so you will still need to register models before dispatching to certain modules. Some for library - if you will want to use some library class in other module - you need obviously register it too in loader.</p>
<p>Obviously composer is building loader for all the things so i guess it won't be a problem.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="40671" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="40671" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb86a03b78026a223f83ca3162cf7eb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4789/xerron" class="user-moderator-N"><span itemprop="name">Edwin Manuel Cerrón Angeles</span></a>        </span>
        <br>

        <span class="karma">40.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C40747" href="#C40747">
                <time itemprop="dateCreated" datetime="2016-09-23T09:43:49-07:00" class="action-date">Sep '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Check:</p>
<p><a href="https://github.com/drupal-composer/drupal-project">https://github.com/drupal-composer/drupal-project</a></p>
<dl>
<dt>Composer move directories to modules, themes, core.</dt>
<dd><p>3</p></dd>
</dl></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="40747" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="40747" data-cf-modified-abec2e9896175adf21a6e35b-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="13771" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>