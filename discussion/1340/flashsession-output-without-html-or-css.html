---
layout: default
title: 'flashSession output without html or css - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">flashSession output without html or css</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/810/nfn" class="user-moderator-N"><span itemprop="name">Nuno</span></a></span>
            <time itemprop="dateCreated" datetime="2013-12-15T05:04:09-07:00">Dec '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-12-15T05:04:09-07:00">Dec '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>2396</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/e3422c426b1966f788c653c2f2f2a3b2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/810/nfn" class="user-moderator-N"><span itemprop="name">Nuno</span></a></span>
                <span class="karma">4.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1340" href="#C1340">
        <time class="action-date">Dec '13</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,</p>
<p>I would like to output flashSession message without any html/css format</p>
<p>I tried this without success:</p>
<pre><code class="language-php">$di-&gt;set('flash', function() {
    $flash = new \Phalcon\Flash\Session();
    $flash-&gt;setAutomaticHtml(false);
    return $flash;
});</code></pre>
<p>How can I remove html/css</p>
<p>Thanks</p>
<p>Nuno</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-dddc7625165eb039aadcbc51-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-dddc7625165eb039aadcbc51-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/63dc1fa1adc218aa2e8b1e30d17d2d0a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/718/TommyBs" class="user-moderator-N"><span itemprop="name">TommyBs</span></a>        </span>
        <br>

        <span class="karma">12.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4740" href="#C4740">
                <time itemprop="dateCreated" datetime="2013-12-20T11:42:58-07:00" class="action-date">Dec '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This seems to work for me.Can you show us the code where you are outputting the message? Are you calling the output method of your flash service as it is session based?
e.g</p>
<p>$this-&gt;flash-&gt;output();</p>
<p>Also make sure you haven't set-up another service called &quot;flash&quot; that uses Flash\Direct() as if that is defined after your session one then it will be used and that might not have automaticHtml set to false</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4740" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4740" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e3422c426b1966f788c653c2f2f2a3b2?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/810/nfn" class="user-moderator-N"><span itemprop="name">Nuno</span></a>        </span>
        <br>

        <span class="karma">4.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4744" href="#C4744">
                <time itemprop="dateCreated" datetime="2013-12-21T09:42:34-07:00" class="action-date">Dec '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi,</p>
<p>Yes, it's a session based. I was using:</p>
<pre><code class="language-php">{% raw %}{{{% endraw %} flashSession.output() {% raw %}}}{% endraw %}</code></pre>
<p>shoud be:</p>
<pre><code class="language-php">{% raw %}{{{% endraw %} flash.output() {% raw %}}}{% endraw %}</code></pre>
<p>inside volt template. That's the only way it works.</p>
<p>But how can I check if I have a message? I'm using jquery popup window to display the success of an action and would like to validate flash.output() before inseting the javascript code in the volt template.
is there a way to do it? something like this.</p>
<pre><code class="language-js">  {% raw %}{%{% endraw %} if message is defined {% raw %}%}{% endraw %}
  &lt;script&gt;
    $( document ).ready(function() {
      $.gritter.add({
        title: 'Info!',
        text: '{% raw %}{{{% endraw %} flash.output() {% raw %}}}{% endraw %}'
    });
    return false;
  });
  &lt;/script&gt;
  {% raw %}{%{% endraw %} endif {% raw %}%}{% endraw %}</code></pre>
<p>Thanks</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4744" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4744" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/ccc9abdf9963f3452808cff0e77679a1?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1126/wkjagt" class="user-moderator-N"><span itemprop="name">Willem</span></a>        </span>
        <br>

        <span class="karma">10</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C5642" href="#C5642">
                <time itemprop="dateCreated" datetime="2014-02-24T11:31:39-07:00" class="action-date">Feb '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I haven't seen an &quot;official&quot; way to do this, but the following should work.</p>
<pre><code class="language-js">{% raw %}{%{% endraw %} set output = flash.output() {% raw %}%}{% endraw %}
{% raw %}{%{% endraw %} if output|length {% raw %}%}{% endraw %}
    &lt;script&gt;
        $( document ).ready(function() {
        $.gritter.add({
        title: 'Info!',
        text: '{% raw %}{{{% endraw %} output {% raw %}}}{% endraw %}'
    });
    return false;
    });
    &lt;/script&gt;
{% raw %}{%{% endraw %} endif {% raw %}%}{% endraw %}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="5642" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="5642" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/47f389ac06cd3be6143a45057a9f8c05?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1533/pixiesky" class="user-moderator-N"><span itemprop="name">Andy Myers</span></a>        </span>
        <br>

        <span class="karma">10.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="19365" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '15</span>
              </span><br/><a name="C19365" href="#C19365">
                <time itemprop="dateCreated" datetime="2015-06-11T06:42:03-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I know this is old but it come top in search results so I'm going to take you through what I do. I have a situation where I need just plain old string output to integrate into a javacript call to Materialize.toast (which is a bit like a bootstrap style framework and has a little toast pop up feature, see <a href="https://materializecss.com/dialogs.html">https://materializecss.com/dialogs.html</a>).</p>
<p>The html in the flash messages was making life difficult so I made my own Messages component:</p>
<p>within my components directory I created Messages.php</p>
<pre><code class="language-php">    &lt;?php

    use Phalcon\Mvc\User\Plugin;

    /**
     * String only messages as an alternative to html formatted flash messages.
     */
    class Messages extends Plugin {

        public function set($message = null){
            if(empty($message)) return false;

            $this-&gt;session-&gt;set("message", $message);
        }

        public function has() {
            return $this-&gt;session-&gt;has("message");
        }

        public function output() {
            if($this-&gt;has()){
                $return = $this-&gt;session-&gt;get("message");
                $this-&gt;session-&gt;remove("message");
                return $return;
            }

            return false;
        }
    }
</code></pre>
<p>Extending <code>Plugin</code> allows me to use $this-&gt;session to handle the storage of the message.</p>
<p>I register this class (look up Phalcon Loader) and then use it in my services.php file:</p>
<pre><code class="language-php">    $di-&gt;set('messages', function() {
        $messages = new Messages();
        return $messages;
    }, true);
</code></pre>
<p>So I have <code>set</code>, <code>has</code> and <code>output</code> method I can use in my views. For example, say a log in fails we can set the message with <code>$this-&gt;messages-&gt;set("Sorry, try again");</code> and in our view (in volt):</p>
<pre><code class="language-php">        {% raw %}{%{% endraw %} if  messages.has() {% raw %}%}{% endraw %}
            &lt;script type="text/javascript"&gt;
               Materialize.toast("{% raw %}{{{% endraw %} messages.output() {% raw %}}}{% endraw %}", 4000);
            &lt;/script&gt;
        {% raw %}{%{% endraw %} endif {% raw %}%}{% endraw %}</code></pre>
<p>Hey presto, I have my toast popup! You can also simply just use <code>{% raw %}{{{% endraw %} messages.output() {% raw %}}}{% endraw %}</code> within your view.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19365" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19365" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e41149d6d271567d7252fc93b49c31f5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1621/kimthangatm" class="user-moderator-N"><span itemprop="name">kimthangatm</span></a>        </span>
        <br>

        <span class="karma">2.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="19369" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '15</span>
              </span><br/><a name="C19369" href="#C19369">
                <time itemprop="dateCreated" datetime="2015-06-11T07:43:03-07:00" class="action-date">Jun '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>See and Custom that...
<a href="https://github.com/kimthangatm/zcms/blob/master/app/config/services.php"><a href="https://github.com/kimthangatm/zcms/blob/master/app/config/services.php">https://github.com/kimthangatm/zcms/blob/master/app/config/services.php</a></a></p>
<p><a href="https://github.com/kimthangatm/zcms/blob/master/app/templates/backend/default/flashSession.volt"><a href="https://github.com/kimthangatm/zcms/blob/master/app/templates/backend/default/flashSession.volt">https://github.com/kimthangatm/zcms/blob/master/app/templates/backend/default/flashSession.volt</a></a></p>
<p>Replace: &lt;strong&gt;{% raw %}{{{% endraw %} __('gb_flash<em>session</em>' ~ key) {% raw %}}}{% endraw %}:&lt;/strong&gt; {% raw %}{{{% endraw %} (childItem) {% raw %}}}{% endraw %} <strong>To</strong> &lt;strong&gt;{% raw %}{{{% endraw %} key {% raw %}}}{% endraw %}:&lt;/strong&gt; {% raw %}{{{% endraw %} childItem {% raw %}}}{% endraw %}</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="19369" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="19369" data-cf-modified-dddc7625165eb039aadcbc51-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1340" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>