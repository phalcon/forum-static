---
layout: default
title: 'Баг в Router - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Баг в Router</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a></span>
            <time itemprop="dateCreated" datetime="2013-11-22T04:27:57-07:00">Nov '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-11-22T04:27:57-07:00">Nov '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Nov '13</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">16</span>
                </td>
                <td>
                    <label>Views</label><br>1386</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">2</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a></span>
                <span class="karma">10.2k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1230" href="#C1230">
        <time class="action-date">Nov '13</time>
    </a>
</div>
<div class="post-content"><div><p>Я снова с новым багом к вам). В этот раз баг в роутере.</p>
<p>Работающий роут:</p>
<pre><code class="language-php">$router
    -&gt;add('/admin/:controller(/:action(/:params)?)?', array(
        'module'     =&gt; 'backend',
        'controller' =&gt; 1,
        'action'     =&gt; 2,
        'params'     =&gt; 4,
    ))
    -&gt;setName('backend');</code></pre>
<p>Не работающий роут:</p>
<pre><code class="language-php">$router
    -&gt;add('/admin(/:controller(/:action(/:params)?)?)?', array(
        'module'     =&gt; 'backend',
        'controller' =&gt; 2,
        'action'     =&gt; 4,
        'params'     =&gt; 6,
    ))
    -&gt;setName('backend');</code></pre>
<p>Проверка:</p>
<pre><code class="language-php">$this-&gt;url-&gt;get(array('for'=&gt;'backend', 'controller'=&gt;'users'))</code></pre>
<p>Результат первого роута: /admin/users
Результат второго роута: /adminusers?</p>
<p>Внимание, вопрос: ЧТО ДЕЛАТЬ?! Исходники фреймворка так и не смотрел, но не верю я, что специально заложили всего 2 уровня вложенности в регулярное выражение. Есть идеи, как обойти данный баг?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-e897d1cd1c687cd98d64433a-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-e897d1cd1c687cd98d64433a-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/23f127b8afebc5e0cedb57e4eb524af7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/33/xboston" class="user-moderator-Y"><span itemprop="name">Nikolay Kirsh</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4388" href="#C4388">
                <time itemprop="dateCreated" datetime="2013-11-22T04:45:31-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Скажи какого результата хочешь добиться. Какого типа ссылки и какие параметры.</p>
<p>PS. Общение на русском тут не особо поддерживается, может в группе тему создашь <a href="http://vk.com/phalconphp">http://vk.com/phalconphp</a> ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4388" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4388" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4389" href="#C4389">
                <time itemprop="dateCreated" datetime="2013-11-22T05:45:09-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Нужны ссылки:</p>
<p>/admin
/admin/users
/admin/users/edit/123
/admin/config/edit
/admin/pages/new
и т.д.</p>
<p>Т.е., любые ссылки, начинающиеся с /admin, далее может быть какой-либо роут, за ним может появится действие, ну и возможны любые параметры...</p>
<p>По поводу vk - я пас, не перевариваю вконтакте.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4389" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4389" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/23f127b8afebc5e0cedb57e4eb524af7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/33/xboston" class="user-moderator-Y"><span itemprop="name">Nikolay Kirsh</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4393" href="#C4393">
                <time itemprop="dateCreated" datetime="2013-11-22T13:07:20-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Про vk понял.</p>
<p>Хочешь все ссылки с /admin/<strong>****</strong> отправлять в один action, а там уже разруливать?
Есть такая тема с группами роутов, когда можно казать базовый преффикс, и дальше уже рулить, но как понимаю это не совсем то: <a href="http://docs.phalcon.io/en/latest/reference/routing.html#groups-of-routes">http://docs.phalcon.io/en/latest/reference/routing.html#groups-of-routes</a></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4393" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4393" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4396" href="#C4396">
                <time itemprop="dateCreated" datetime="2013-11-22T14:00:00-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Правильнее - это совсем не то. Мне надо по определенному префиксу (/admin) отправлять в определенный модуль (backend). В разные контроллеры, в разные действия.
Сегодня потратил на эту задачу больше 4х часов - не смог решить. Даже если сформировать готовую регулярку, возникают проблемы. А подменять класс роута мне не хочется, и так уже мало что осталось от самого фреймворка.</p>
<p>Буду подбирать другой фреймворк. Выйдет 2-я версия phalcon - может попробую использовать еще раз.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4396" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4396" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d256c23599c7ddbb7085ee23f2499f6e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/741/vanchelo" class="user-moderator-N"><span itemprop="name">Брежнев Иван</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4397" href="#C4397">
                <time itemprop="dateCreated" datetime="2013-11-22T14:07:51-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>А вы слышали про Префиксы к маршрутам? В документации есть конкретные примеры, зачем пихать admin в URL, если можно указать единый префикс?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4397" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4397" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d256c23599c7ddbb7085ee23f2499f6e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/741/vanchelo" class="user-moderator-N"><span itemprop="name">Брежнев Иван</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4398" href="#C4398">
                <time itemprop="dateCreated" datetime="2013-11-22T14:10:26-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Из доков</p>
<pre><code class="language-php">$blog = new \Phalcon\Mvc\Router\Group(array(
    'module' =&gt; 'blog',
    'controller' =&gt; 'index'
));
$blog-&gt;setPrefix('/blog')</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4398" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4398" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4399" href="#C4399">
                <time itemprop="dateCreated" datetime="2013-11-23T04:09:19-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Да вы шутите... Реально думаете, что человек способен потратить несколько часов не изучить документацию от и до?!
Как группы (которые в реале как-раз и пихают префикс к урлам) помогут в моей проблеме? Вы бы хоть протестировали... Вот пример для тестов: нужна возможность обрабатывать и генерировать(!!!) следующие урлы:</p>
<p>/admin
/admin/users
/admin/users/1
/admin/users/1/edit
/admin/pages
/admin/pages/contacts
/admin/pages/contacts/edit</p>
<p>Роут должен быть только 1(!), чтобы можно было генерировать урлы подобным образом:</p>
<p>$this-&gt;url-&gt;get(array('for'=&gt;'admin', 'controller'=&gt;'users'));
$this-&gt;url-&gt;get(array('for'=&gt;'admin', 'controller'=&gt;'users', 'action' =&gt; 'edit', 'id' =&gt; 1));
$this-&gt;url-&gt;get(array('for'=&gt;'admin', 'controller'=&gt;'pages', 'action' =&gt; 'edit', 'id' =&gt; 'contacts'));</p>
<p>Ну как, помогут тут группы?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4399" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4399" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4400" href="#C4400">
                <time itemprop="dateCreated" datetime="2013-11-23T05:26:10-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Чудак человек, гвозди тоже можно забивать микроскопом. Группа связывает твой /admin с модулем backbend и неким контроллером по умолчанию. Дальше ты только перечисляешь нужные actions. </p>
<p>И не стоит рассчитывать что можно задать мега регулярку, которая опишет все возможные варианты. Что в фалконе, что в других фреймворках - чем проще тем лучше, даже если придётся наплодить раутов.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4400" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4400" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4401" href="#C4401">
                <time itemprop="dateCreated" datetime="2013-11-23T05:38:08-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Во, еще один... Ты хоть попробуй реализовать, для начала.
Мне не нужна мегарегулярка, мне нужна 1 регулярка, которая решает задачу выше. Реализуешь? В kohana делается элементарно, как и в других fw. Более того, даже в phalcon это реализуется, но только на обработку запроса, на генерацию урла уже не работает правильно, о чем было сказано в самом начале. Или это так и задумано - обработать можно, а сгенерировать нет?)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4401" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4401" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4402" href="#C4402">
                <time itemprop="dateCreated" datetime="2013-11-23T05:55:27-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Щяс поставлю на таблетку IDE и буду реализовывать, вроде мне больше нечем в полночь заняться. Нет уж батенька, вы уж сами. Попробуй так:</p>
<pre><code>'controller' =&gt; 1,
'action'     =&gt; 2,
'params'     =&gt; 3,</code></pre>
<p>Циферки, это позиции не slug в URL, а параметров.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4402" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4402" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4403" href="#C4403">
                <time itemprop="dateCreated" datetime="2013-11-23T07:13:50-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ну тогда хотя-бы перестаньте умничать и начните хотя-бы читать... Например, самый первый пост, там тоже &quot;циферки&quot;. Повторить, что не работает это в phalcon или смысла нет?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4403" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4403" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4404" href="#C4404">
                <time itemprop="dateCreated" datetime="2013-11-23T07:36:41-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Уважаемый, не делайте мне больную голову! Циферки циферкам рознь или вам одинаково давали в детстве ремня за 2 и 5?! Я не большой специалист по впиханию невпихуемого и именно в этом вашем случае боюсь техника, наука и медицина бессильны.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4404" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4404" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4405" href="#C4405">
                <time itemprop="dateCreated" datetime="2013-11-23T08:48:33-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Т.е., вы не посмотрев роут поставили с потолка свои циферки и довольны?)) Вы не большой специалист вообще везде, похоже. Даю основу: данные циферки - результат preg_match. Дальше справитесь? Нет?! Ок, в роуте скобочки видите? Вопросительные знаки видите? Ну уже хорошо...</p>
<p>Так вот, для особо одаренных. Роуты правильно разбирают урл, но не могут сгенерировать по ним ссылку. Специально для тупых индивидуумов, которые прикрываются таблетками, хотя просто имеют кривые, ни на что не способные, руки: класс роутов в phalcon не может правильно сгенерировать ссылку для роута, который правильно разбирает урл.</p>
<p>Хотя, смысла разговаривать с вами нет. Вы обычный, глупый троль, который сам не может сделать, но других троллить любит.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4405" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4405" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d256c23599c7ddbb7085ee23f2499f6e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/741/vanchelo" class="user-moderator-N"><span itemprop="name">Брежнев Иван</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4406" href="#C4406">
                <time itemprop="dateCreated" datetime="2013-11-23T09:58:39-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Я не особо разбираюсь в регулярках, но что у меня получилось</p>
<pre><code class="language-php">$url = '/admin/controller/action/params1/param2';
$pattern = '|/admin(/[a-zA-Z]{1,}(/[a-zA-Z]{1,}(/[a-zA-Z\d]{1,})?)?)?|i';
preg_match($pattern, $url, $matches);

print_r($matches);</code></pre>
<p>Вывод</p>
<pre><code class="language-php">Array
(
    [0] =&gt; /admin/controller/action/params1
    [1] =&gt; /controller/action/params1
    [2] =&gt; /action/params1
    [3] =&gt; /params1
)</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4406" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4406" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4407" href="#C4407">
                <time itemprop="dateCreated" datetime="2013-11-23T10:57:46-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Что логично, не находишь? Ты не обособил controller, action и параметры. Правильная, для твоего случая, регулярка:</p>
<pre><code class="language-php">|/admin(/([a-zA-Z]{1,})(/([a-zA-Z]{1,})(/([a-zA-Z\d]{1,}))?)?)?|i</code></pre>
<p>Но даже это не вариант, т.к. route в phalcon формируется иначе:</p>
<pre><code class="language-php">#^/admin(/([a-zA-Z0-9\_\-]+)(/([a-zA-Z0-9\_\-]+)((/.*)*)?)?)?$#</code></pre>
<p>Для сравнения, вот регулярка для данного роута, которая формируется в kohana:</p>
<pre><code class="language-php">#^/admin(?:/(?P&lt;controller&gt;[^/.,;?\n]++)(?:/(?P&lt;action&gt;[^/.,;?\n]++)(?:/(?P&lt;params&gt;[^/.,;?\n]++))?)?)?$#uD</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4407" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4407" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d256c23599c7ddbb7085ee23f2499f6e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/741/vanchelo" class="user-moderator-N"><span itemprop="name">Брежнев Иван</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4408" href="#C4408">
                <time itemprop="dateCreated" datetime="2013-11-23T11:05:29-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Т.е. бага в роутере или в конструкторе URL'a?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4408" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4408" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4409" href="#C4409">
                <time itemprop="dateCreated" datetime="2013-11-23T11:20:30-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Честно? Без понятия. Если бы исходники были в виде php-кода, я бы быстро разобрался и назвал точное местоположение проблемы. А вот в си-коде мне ковыряться совсем не хочется.
Судя по исходникам фреймворка, проблема в функции phalcon_replace_paths (<a href="https://github.com/phalcon/cphalcon/blob/master/ext/mvc/url.c#L342">https://github.com/phalcon/cphalcon/blob/master/ext/mvc/url.c#L342</a>). Или в получаемой регулярке (<a href="https://github.com/phalcon/cphalcon/blob/master/ext/mvc/url.c#L330">https://github.com/phalcon/cphalcon/blob/master/ext/mvc/url.c#L330</a>). Как бы там ни было, дальше я уже не копался.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4409" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4409" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d256c23599c7ddbb7085ee23f2499f6e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/741/vanchelo" class="user-moderator-N"><span itemprop="name">Брежнев Иван</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4410" href="#C4410">
                <time itemprop="dateCreated" datetime="2013-11-23T11:36:39-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ты сильно не злись на людей, все мы разные и все по разному эмоциональны. Кто-то не сдерживается)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4410" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4410" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4411" href="#C4411">
                <time itemprop="dateCreated" datetime="2013-11-23T12:03:24-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Да я не злюсь на людей. Злюсь только на некоторых, которые много глупостей говорят ;)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4411" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4411" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4412" href="#C4412">
                <time itemprop="dateCreated" datetime="2013-11-23T14:54:16-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>** edited: перепишу ответ покультурнее</p>
<p>Ты,<a href="https://forum.phalcon.io/user/0/aktuba"> @aktuba</a>, сам тролль. Хочешь со мной поспорить?! Иди кури исходники, глупый мальчик. Я с фалконом работаю с 0.9.0, и твоя &quot;проблема&quot; мне отлично известна: Phalcon не любит опциональные сегменты в URL. Ты бы хоть задумался на минутку, тебе ж не с потолка советуют...</p>
<p><a href="https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L155">https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L155</a>
<a href="https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L189">https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L189</a></p>
<p>При генерации ссылки фалкон замещает сегменты заключенные в &quot;(...)&quot; и &quot;{...}&quot; в регулярном выражении на значения. Поэтому из &quot;#^/admin(/([a-zA-Z0-9_-]+)(/([a-zA-Z0-9_-]+)((/.<em>)</em>)?)?)?$#&quot; получается  /adminusers, т.к. слеш во втором &quot;(/([a-zA-Z0-9_-]+)&quot; включен в скобки и замещается вместе со всем сегментом. Вот тебе твоя &quot;бага&quot;, умник. </p>
<p>Это <em>особенность</em> Phalcon: его рауты проще и регулярные выражения используются в основом <em>для валидации сегментов</em> пути, а не их разбора. Внимательней учи матчасть, прежде чем хамить, программист-самородок. Вся твоя затея с мега-ссылкой - вот это глупость и тебе неоднократно на нее указали.</p>
<p>Используй префиксы (по усмотрению) и определи отдельно рауты для /admin, /admin/users и /admin/pages - это решение. Да, это целых +3 строчки кода, зато целые сутки съэкономленного времени. </p>
<p><strong>OFFTOPIC</strong></p>
<p>Альтернативно есть kohana для особо одаренных, но это уже не к нам, а в другой медпункт, там где ты &quot;Я - Наполеон, я - торт!&quot; - это нормально.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4412" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4412" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4413" href="#C4413">
                <time itemprop="dateCreated" datetime="2013-11-24T01:02:10-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><strong> отредактировал, дабы закончить диалог с глупым человеком </strong></p>
<p>Т.е., если роут может разобрать урл, но не может его-же собрать - это <em>особенность</em>. То, что роут правильно определяет вложенность в регулярке при разборе урла, но наглухо не понимает вложенность при генерации урла - <em>особенность</em>. Ну ок. Для <em>нормальных</em> людей - это баг разработчиков.</p>
<p>Это <em>особенность</em>, когда при разборе урла смотрим содержимое сегментов:</p>
<p><a href="https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L322">https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L322</a></p>
<p>а при генерации - нет:</p>
<p><a href="https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L193">https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L193</a>
<a href="https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L35">https://github.com/phalcon/cphalcon/blob/3031810422479bbd3338f5c09dcc683253b95940/ext/kernel/framework/router.c#L35</a></p>
<p>Ну и т.д. Да, это __особенность_фреймворка__, а не кривые руки разработчиков. Ок.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4413" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4413" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4414" href="#C4414">
                <time itemprop="dateCreated" datetime="2013-11-24T02:00:01-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ну с жертвой аборта ты погорячился, у меня прекрасные родители! А вот судя по сыну, твои родители где-то допустили баг... Мда... </p>
<p>И да, я действительно мегаумный (гранд мерси за комплеман) веб девелопмент менеджер в одной из крупнейших зарубежных IT компаний. Я внимательно изучаю свои рабочие инструменты, знаю их слабые и сильные стороны, особенности и умею <em>правильно</em> применять их на практике. </p>
<p>А ты ведешь себя вроде как вчера слез с ветки, получил в голову прилетевшим &quot;PHP для чайников&quot; и (вот они плоды эволюции!!) сидишь-пытаешься впихнуть квадратное в треугольное и возмущаешься что все вокруг дебилы. Мдя...</p>
<p>Я так понимаю, что если разговор перешел с технического вопроса на неконструктивную тему личностей, то &quot;тупому телу&quot; нечего сказать и тема себя исчерпала. </p>
<p>Wrap it up, you naughty boy, don't waste my time!!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4414" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4414" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4415" href="#C4415">
                <time itemprop="dateCreated" datetime="2013-11-24T02:25:59-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Ну значит &quot;веб девелопмент менеджер в одной из крупнейших зарубежных IT компаний&quot; сможет объяснить, почему в одном случае фреймворк знает вложенность, а в другом забывает о ней?)
Я вот, в отличии от тебя, просто не использую (и не даю подчиненным использовать) кривые инструменты. Видимо, &quot;в одной из крупнейших зарубежных IT компаний&quot; это норма, когда используется инструмент, который не может выполнить то, что заявлено в его-же документации: &quot;The regular expression syntax used is the same as the PCRE regular expressions&quot;.</p>
<p>Ах, ну да, это же <em>особенность</em> фреймворка: заявить о фиче, но сделать ее не рабочей). Удачи &quot;мегаумному дебилу&quot;, который в упор не хочет признавать очевидный баг.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4415" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4415" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/14cb5b04cd9512e48a76af3b059e9a4e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/580/cuhuak" class="user-moderator-N"><span itemprop="name">Evgeny Sinitsyn</span></a>        </span>
        <br>

        <span class="karma">269</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4423" href="#C4423">
                <time itemprop="dateCreated" datetime="2013-11-24T08:24:50-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Вы, ребята, оба хороши. Зря вы так друг другу хамите.
Вы столько энергии на эту полемику потратили — давно бы форкнули и исправили.</p>
<p>По сабжу: очевидно, это баг (ну или по кр мере особенность, которая не очевидна).</p>
<p>Мое отношение: я вообще не использую обратные урлы, не понимаю, для чего это нужно. Больше пишешь - выхлоп тот же.
И, да, для админки можно использовать отдельный домен повыше...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4423" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4423" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4426" href="#C4426">
                <time itemprop="dateCreated" datetime="2013-11-24T12:28:44-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Да я сегодня весь день этим занимался. Только что вот стер все, что накодил за день (. Слишком много надо менять. Router-&gt;handle обрабатывает текущий урл, вместо того, чтобы опрашивать объекты Route на валидность переданного урла, поэтому просто подменить регулярки не получилось (.</p>
<p>По поводу обратных урлов - они полезны. Во-первых, позволяют держать все ссылки в едином стиле (например, <a href="http://domain.com/admin">http://domain.com/admin</a> или /admin или //domain.com/admin). Во-вторых, иногда надо передать готовую ссылку куда-либо (в e-mail, например). Если фреймворк не может генерировать ссылки сам, приходится писать что-то наподобии $url = $this-&gt;config-&gt;application-&gt;domain.'/remember'; вместо $url = $this-&gt;url-&gt;route('auth', array('controller'=&gt;'remember'));. Согласись, второе явно приятнее читать и поддерживать.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4426" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4426" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/23f127b8afebc5e0cedb57e4eb524af7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/33/xboston" class="user-moderator-Y"><span itemprop="name">Nikolay Kirsh</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4428" href="#C4428">
                <time itemprop="dateCreated" datetime="2013-11-24T23:42:08-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/aktuba">@aktuba</a> очень прошу не переводить диалог в обсуждение личностей и любые перепалки, тут это не приветствуется.</p>
<p>Если явно виден баг а работе роутера - надо сделать полный пример с его демонстрацией и оформить в <a href="https://github.com/phalcon/cphalcon/issues">https://github.com/phalcon/cphalcon/issues</a></p>
<p>Обратные урлы это вещь хорошая, но то что описывает вся дискуссия - формирование многосегментной ссылки из одного роута - это не считаю оптимальным решением, хотя другие фреймворки это поддерживают - вариант не самый красивый.
Если есть готовый вариант для решения  этой задачи - в тот же issue можно описать и его, с указанием на конкретный фреймворк и код для его реализации.</p>
<p>PS. Если интонаций не изменится - тема будет первой которая будет удалена за превышенный уровень неадеквата. Тут не роисся что бы видеть во всех врагов и считать что все вокруг всем обязаны. Не можешь адекватно объяснять суть проблемы и разбираться в поиске решения - есть 100500 других фреймворков с необходимо правильным реализованым функционалом. Плюс Phalcon без проблем поддерживает любые части и компоненты сторонних фреймворков.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4428" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4428" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4429" href="#C4429">
                <time itemprop="dateCreated" datetime="2013-11-25T00:37:23-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/boston">@boston</a>, я никогда не грубил тем, кто со мной общается культурно. Это можно увидеть и в данной ветке.
Что касается проблемы - она описана досканально тут, включая ссылки и регулярки. Более конкретно описать сложно: роутер в phalcon не поддерживает в полной мере PCRE в части формирования обратных урлов. И да, я считаю что чем меньше роутов - тем стабильнее и быстрее работает приложение. Использовать 2 роута для /admin и /admin/users - вот это не оптимально, лишняя итерация в цикле, лишнее формирование регулярки и пр. Ну и создавать ссылки не очень удобно, постоянно держать в голове отдельный роут для отдельных контроллеров/действий:</p>
<pre><code class="language-php">$this-&gt;url-&gt;get(array('for'=&gt;'backend/default'));
$this-&gt;url-&gt;get(array('for'=&gt;'backend/users'));
$this-&gt;url-&gt;get(array('for'=&gt;'backend/users/new'));
$this-&gt;url-&gt;get(array('for'=&gt;'backend/users/edit', 'id'=&gt;$id));
и т.д.</code></pre>
<p>Все это легко, когда роут работает правильно:</p>
<pre><code class="language-php">$this-&gt;url-&gt;get(array('for'=&gt;'backend'));
$this-&gt;url-&gt;get(array('for'=&gt;'backend', 'controller'=&gt;'users'));
$this-&gt;url-&gt;get(array('for'=&gt;'backend', 'controller'=&gt;'users', 'action'=&gt;'new'));
$this-&gt;url-&gt;get(array('for'=&gt;'backend', 'controller'=&gt;'users', 'action'=&gt;'edit', 'id'=&gt;$id));</code></pre>
<p>Согласись, с подобным проще работать.</p>
<p>Готовый вариант не получилось сделать. Пытался заменить пару методов в Router, Route и Url, но не прокатило - что-нибудь, но отваливается. Из работающих, удобных и простых реализаций могу привести только kohana 3.2:</p>
<p><a href="https://github.com/kohana/core/blob/3.2/develop/classes/kohana/route.php#L227">https://github.com/kohana/core/blob/3.2/develop/classes/kohana/route.php#L227</a>
<a href="https://github.com/kohana/core/blob/3.2/develop/classes/kohana/route.php#L457">https://github.com/kohana/core/blob/3.2/develop/classes/kohana/route.php#L457</a></p>
<p>По поводу PS: честно говоря, мне все-равно, удалена будет тема или нет. Как уже говорил - отвечаю адекватно собеседникам. И тему я начинал с просьбой подсказать, как обойти проблему. Хамить мне в ответ на просьбу - вот где не адекватное поведение.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4429" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4429" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/23f127b8afebc5e0cedb57e4eb524af7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/33/xboston" class="user-moderator-Y"><span itemprop="name">Nikolay Kirsh</span></a>        </span>
        <br>

        <span class="karma">5.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4430" href="#C4430">
                <time itemprop="dateCreated" datetime="2013-11-25T08:53:46-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/aktuba">@aktuba</a>, согласен, выглядит проще. А если сделать отдельный срвис с единственным методом - формирование нужных ссылок, и в нём использовать регулярку из kohana? Т.е. никак не завязываться на существующие классы Phalcon?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4430" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4430" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4431" href="#C4431">
                <time itemprop="dateCreated" datetime="2013-11-25T09:07:49-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>А по сути так и пытался: добавил поле regex в \Phalcon\Mvc\Router\Route, в методе add прописывал в это поле регурялку от коханы и в \Phalcon\Mvc\Url пытался собрать из нее урл. Но, то ли плохо смотрел работу add, то ли уже просто глаз замылился и не видел проблем - приложение переставало работать вообще. По всем роутам выкидывало 404-ю ошибку. Плюс, как-то криво конвертнул код генерации урлов - тоже непонятные траблы были. К вечеру уже сдался и забил на это.</p>
<p>Будет время, посмотрю еще раз на неделе. В теории, можно вообще не трогать класс Route, а в Url брать подходящий роут и из него генерировать регулярку и тут-же ссылку. Но, во-первых это будет сильно медленнее работать, во-вторых нарушается целостность, когда одна сущность отвечает за определенный вид данных. В общем, посмотрю и отпишусь.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4431" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4431" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/177525cf68cabf12fac5fc4c3603ecba?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/114/roman-kulish" class="user-moderator-N"><span itemprop="name">roman-kulish</span></a>        </span>
        <br>

        <span class="karma">5.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4436" href="#C4436">
                <time itemprop="dateCreated" datetime="2013-11-25T16:47:38-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Часть Си компонентов в Phalcon взаимодействует друг с другом через API (экспортируемый в PHP), а часть напрямую на уровне Си кода. Тот же Phalcon\Mvc\Url использует функции ядра Phalcon для генерации ссылок.<a href="https://forum.phalcon.io/user/1/phalcon"> @Phalcon</a>-у не раз на это указывали (сложно наследовать компненты), но его аргумент - в оптимизации операций на уровне Си. Последний раз когда был разговор про Zephir проскальзывала здравая мысль портировать на него основные компоненты Phalcon и тогда или патчи и собирай свой extension или предлагай изменения в основную ветку... Но это будет не скоро.</p>
<p>&lt;off topic&gt;</p>
<p>Давай рассмотрим как работает типичное приложение:</p>
<ol>
<li>инициализация (PHP using exported C components): конфигурация, создание сервисов в Di, запуск Phalcon\Mvc\Application</li>
<li>Dispatch (C components unless extended): перебор routes и если найдено то вытягивание параметров из ссылки и передача управления в нужный Controller</li>
</ol>
<p>Routing в Phalcon похож на используемый в Symfony, Laravel, F3, Slim и т.д. Это надо учитывать. Поддержка PCRE заявлена и работает на этапе разбора ссылок.</p>
<p>Если ты переопределяешь любой из компонентов используемых в диспатчере, твой PHP код будет работать медленнее, чем оптимизированный Си код (он экспортирует в PHP только результат работы). Как минимум на лишний десяток routes которые можно просто добавить.</p>
<p>Проблема: Phalcon\Mvc\Url не работает как хотелось бы при обратной компновке ссылок.</p>
<ol start="3">
<li>Controller action (PHP using exported C components): твоя бизнесс-логика</li>
<li>Компоновка Response и отправка его клиенту (C components using PHP bindings and templates)</li>
</ol>
<hr />
<p>Чисто субъективно, bottleneck из за лишних routes в пункте 2 - это смешно, следом идет самый громоздкий этап работы - бизнесс-логика (если это не Hello World!). В общей картине, проблема не такая уж и большая, правда? </p>
<p>Жизненное предназначение настоящих программистов в создании и решении проблем. Поэтому варианты:</p>
<p>&lt;/off topic&gt;</p>
<ol>
<li>Написать свой Url класс и подменить им стандартный сервис или использовать паралельно, как предложил<a href="https://forum.phalcon.io/user/0/boston"> @boston</a>. Наиболее логичный вариант. Судя по твоим примерам все ссылки у тебя стандартные, так?</li>
</ol>
<p>/:module/:controller/:action/:params
/:module/:controller/:action
/:module/:controller
/:module</p>
<p>Сложно генерировать?</p>
<ol start="2">
<li>Или, использовать стандартный механизм /:module/:controller/:action/:params, <a href="http://docs.phalcon.io/en/latest/reference/routing.html#default-behavior">http://docs.phalcon.io/en/latest/reference/routing.html#default-behavior</a> Еще один логичный вариант.</li>
</ol>
<p>Или прописать дополнительные routes и ...</p>
<ol start="3">
<li>Вынести admin в отдельный поддомен и тогда редко используемые routes совершенно не будут мещать чаще используемым. Или...</li>
<li>Router обрабатывает routes в порядке их добавления, следовательно можно добавить /admin/* routes последними. Пару-тройку милисекунд админ может потерпеть.</li>
</ol>
<p>Я бы советовал не заморачиваться, если проблема не решается в течении одного дня (эта уже тут с пятницы).</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4436" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4436" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4440" href="#C4440">
                <time itemprop="dateCreated" datetime="2013-11-25T22:59:10-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Если ты переопределяешь любой из компонентов используемых в диспатчере, твой PHP код будет работать медленнее, чем оптимизированный Си код (он экспортирует в PHP только результат работы). Как минимум на лишний десяток routes которые можно просто добавить.</p>
</blockquote>
<p>Без сомнения. Но если нужный функционал не работает - приходится идти на подобные издержки.</p>
<blockquote>
<p>Чисто субъективно, bottleneck из за лишних routes в пункте 2 - это смешно, следом идет самый громоздкий этап работы - бизнесс-логика (если это не Hello World!). В общей картине, проблема не такая уж и большая, правда? </p>
</blockquote>
<p>В приложении, которое надо сделать и забыть (читай - во время тестов) - вообще не проблема. В приложении, которое придется поддерживать и, возможно, рефакторить - большая проблема.</p>
<blockquote>
<p>Сложно генерировать?
Или, использовать стандартный механизм /:module/:controller/:action/:params
Вынести admin в отдельный поддомен и тогда редко используемые routes совершенно не будут мещать чаще используемым. Или...</p>
</blockquote>
<p>Вообще не вариант. Ни один более-менее серьезный проект без обратных ссылок я реализовывать не буду. Причина - usecase-ы, с которыми я уже набивал себе шишки:</p>
<ol>
<li>Видоизменить ссылку: domain.com/user/username =&gt; username.domain.com</li>
<li>Изменение порядка параметров в ссылке: domain.com/user/username/edit =&gt; domain.com/username/edit, domain.com/user/username/edit =&gt; domain.com/user/edit</li>
<li>Изменение типов ссылок: domain.com/category/page =&gt; domain.com/category/page.html, domain.com/category/page =&gt; domain.com/page.html</li>
</ol>
<p>И их комбинации. Без правильной генерации ссылок эти действия превращаются в ад, когда можно либо что-то пропустить, либо наоборот заменить лишнее. Не говоря о титаническом ручном труде. Это, мягко говоря, не способствует легкости использования фреймворка.</p>
<blockquote>
<p>Router обрабатывает routes в порядке их добавления, следовательно можно добавить /admin/* routes последними. Пару-тройку милисекунд админ может потерпеть.</p>
</blockquote>
<p>Разве не наоборот? Последние добавленные роуты обрабатываются первыми вроде как: &quot;Since you can add many routes as you need using add(), the order in which routes are added indicate their relevance, lastest routes added have more relevance than first added. Internally, all defined routes are traversed in reverse order until Phalcon\Mvc\Router finds the one that matches the given URI and processes it, while ignoring the rest.&quot;. И это не решает проблему генерации ссылок.</p>
<blockquote>
<p>Я бы советовал не заморачиваться, если проблема не решается в течении одного дня (эта уже тут с пятницы).</p>
</blockquote>
<p>Проблема, в тестовом приложении, была решена моментально, тупыми ссылками (/admin, /admin/users и пр.). Но если не решить проблему на будущее - я не могу использовать фреймворк в реальных проектах.</p>
<p>Как-то так. Я был бы очень рад, если бы ссылки генерировались с помощью c-кода, но... Пока, к сожалению, времени не хватает на реализацию задуманного, как появится - сделаю и покажу в этой ветке. Ну или кто-нибудь другой может сделает к этому времени.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4440" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4440" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0ff0b05acd6b028a0e18f4032c4f345e?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/491/aktuba" class="user-moderator-N"><span itemprop="name">aktuba</span></a>        </span>
        <br>

        <span class="karma">10.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4492" href="#C4492">
                <time itemprop="dateCreated" datetime="2013-11-29T08:02:26-07:00" class="action-date">Nov '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Приглашаю всех обсудить реализацию здесь: <a href="http://forum.phalcon.io/discussion/1262/-url">http://forum.phalcon.io/discussion/1262/-url</a>-</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4492" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4492" data-cf-modified-e897d1cd1c687cd98d64433a-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1230" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>