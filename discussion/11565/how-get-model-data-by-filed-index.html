---
layout: default
title: 'How get model data by filed index - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/2/orm">ORM</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How get model data by filed index</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/888/stanleer" class="user-moderator-N"><span itemprop="name">stanleer</span></a></span>
            <time itemprop="dateCreated" datetime="2016-05-18T05:43:11-07:00">May '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-05-18T05:43:11-07:00">May '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">6</span>
                </td>
                <td>
                    <label>Views</label><br>774</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/a890785d501e4a123bbc60c85840b4fb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/888/stanleer" class="user-moderator-N"><span itemprop="name">stanleer</span></a></span>
                <span class="karma">25.0k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C11565" href="#C11565">
        <time class="action-date">May '16</time>
    </a>
</div>
<div class="post-content"><div><p>i have db table user (user_id, name)</p>
<p>need fetch array [user_id =&gt; name]</p>
<p>how fetch this array use phalcon methods?</p>
<p>in yii there is method indexBy</p>
<p>why it does not have?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-98748089ef209d0ceb64ee9e-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-98748089ef209d0ceb64ee9e-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C34249" href="#C34249">
                <time itemprop="dateCreated" datetime="2016-05-18T09:41:15-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It doesn't have a method like that because honestly, I think the number of times it would be useful are very low.</p>
<p>I think you best chance at doing this would be to just retrieve all the relevant records using <code>find()</code>, then iterating through the results and build your own array.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34249" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34249" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="34285" data-toggle="modal" data-target="#historyModal">
                edited <span>May '16</span>
              </span><br/><a name="C34285" href="#C34285">
                <time itemprop="dateCreated" datetime="2016-05-18T23:20:22-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Honestly i was looking for such solution also, but could not find any. Actually im needing it 2-3 times per project, so i ended up adding a method in my model (like Dylan's suggestion). Something like that you can reuse:</p>
<pre><code class="language-php">public function getAllForSelect()
{
    $lang = $this-&gt;getDI()-&gt;getSession()-&gt;language;
    $items = CategoriesI18n::find([
        'columns' =&gt; ['foreign_key', 'title'],
        'conditions' =&gt; 'lang = :lang:',
        'bind' =&gt; [
            'lang' =&gt; $lang
        ],
        'order' =&gt; 'title ASC',
        'cache' =&gt; ['lifetime' =&gt; 360000, 'key' =&gt; 'categories-all-for-select-'. $lang]
    ]);
    $collection = [];
    foreach ($items as $item) {
        $collection[$item-&gt;foreign_key] = $item-&gt;title;
    }
    return $collection;
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34285" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34285" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a890785d501e4a123bbc60c85840b4fb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/888/stanleer" class="user-moderator-N"><span itemprop="name">stanleer</span></a>        </span>
        <br>

        <span class="karma">25.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="34299" data-toggle="modal" data-target="#historyModal">
                edited <span>May '16</span>
              </span><br/><a name="C34299" href="#C34299">
                <time itemprop="dateCreated" datetime="2016-05-19T02:24:34-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>i use foreach now. but its no good idea when need use many methods with filed index</p>
<p>and its less duplicate code</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34299" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34299" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C34303" href="#C34303">
                <time itemprop="dateCreated" datetime="2016-05-19T03:32:11-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Why not make a generic method in your Main Model and reuse it, this way you wont have repetitive code... you can make it with minimal effort, no need for extra stuff to bloat the framework :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34303" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34303" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a890785d501e4a123bbc60c85840b4fb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/888/stanleer" class="user-moderator-N"><span itemprop="name">stanleer</span></a>        </span>
        <br>

        <span class="karma">25.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C34313" href="#C34313">
                <time itemprop="dateCreated" datetime="2016-05-19T05:13:18-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Мodel may be different.
its the task of the framework and not the developer</p>
<p>toArray()  too, need generic yourself?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34313" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34313" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="34315" data-toggle="modal" data-target="#historyModal">
                edited <span>May '16</span>
              </span><br/><a name="C34315" href="#C34315">
                <time itemprop="dateCreated" datetime="2016-05-19T05:26:59-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">class Users extends BaseModel{}

class BaseModel extends \Phalcon\Mvc\Model {
  public function indexBy($params) {
    // blabla
  }
}</code></pre>
<p>You have the option to overwrite default model methods, also to create new ones, something simple like above.. </p>
<p>Thats the good thing about Phalcon it is not stuffed with useless classes that you may never need.. like email sending class, pdf generator, xls reader or even Stripe payment in Larabel.. who the fuk cares about those ? :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34315" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34315" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a890785d501e4a123bbc60c85840b4fb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/888/stanleer" class="user-moderator-N"><span itemprop="name">stanleer</span></a>        </span>
        <br>

        <span class="karma">25.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C34317" href="#C34317">
                <time itemprop="dateCreated" datetime="2016-05-19T05:38:30-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>toArray() useless method?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34317" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34317" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C34285"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Nikolay Mihaylov                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="34323" data-toggle="modal" data-target="#historyModal">
                edited <span>May '16</span>
              </span><br/><a name="C34323" href="#C34323">
                <time itemprop="dateCreated" datetime="2016-05-19T07:25:10-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Honestly i was looking for such solution also, but could not find any. Actually im needing it 2-3 times per project, so i ended up adding a method in my model (like Dylan's suggestion). Something like that you can reuse:</p>
</blockquote>
<pre><code class="language-php">public function getAllForSelect()
{
    $lang = $this-&gt;getDI()-&gt;getSession()-&gt;language;
    $items = CategoriesI18n::find([
        'columns' =&gt; ['foreign_key', 'title'],
        'conditions' =&gt; 'lang = :lang:',
        'bind' =&gt; [
            'lang' =&gt; $lang
        ],
        'order' =&gt; 'title ASC',
        'cache' =&gt; ['lifetime' =&gt; 360000, 'key' =&gt; 'categories-all-for-select-'. $lang]
    ]);
    $collection = [];
    foreach ($items as $item) {
        $collection[$item-&gt;foreign_key] = $item-&gt;title;
    }
    return $collection;
}</code></pre>
<p>Why does this method build <code>$collection</code>?  If you're iterating through it in your view files, you can iterate through a collection as returned by find() just as easily.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34323" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34323" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6221c81c81cd357c818daec1bb8b17ff?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4153/nikolay-mihaylov" class="user-moderator-N"><span itemprop="name">Nikolay Mihaylov</span></a>        </span>
        <br>

        <span class="karma">93.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C34325" href="#C34325">
                <time itemprop="dateCreated" datetime="2016-05-19T07:30:55-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/Dylan">@Dylan</a>, this was just a mere example. To feed your curiosity i'm using the array for form select values, presentating db values to users (when storing ID in database, but wanna show actual title)... and so on :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34325" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34325" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a890785d501e4a123bbc60c85840b4fb?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/888/stanleer" class="user-moderator-N"><span itemprop="name">stanleer</span></a>        </span>
        <br>

        <span class="karma">25.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C34387" href="#C34387">
                <time itemprop="dateCreated" datetime="2016-05-20T05:33:30-07:00" class="action-date">May '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think adding this method to simplify the life of all.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="34387" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="34387" data-cf-modified-98748089ef209d0ceb64ee9e-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="11565" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>