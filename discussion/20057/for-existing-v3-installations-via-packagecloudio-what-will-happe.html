---
layout: default
title: 'For existing v3 installations via packagecloud.io - what will happen when Phalcon v4 is released? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">For existing v3 installations via packagecloud.io - what will happen when Phalcon v4 is released?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/6301/hi2u" class="user-moderator-N"><span itemprop="name">hi2u</span></a></span>
            <time itemprop="dateCreated" datetime="2019-10-25T06:48:16-07:00">Oct '19</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2019-10-25T06:48:16-07:00">Oct '19</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '19</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>242</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/d658d2289d4d865cd787f8cacdb6b8f6?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/6301/hi2u" class="user-moderator-N"><span itemprop="name">hi2u</span></a></span>
                <span class="karma">3.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C20057" href="#C20057">
        <time class="action-date">Oct '19</time>
    </a>
</div>
<div class="post-content"><div><p>For anybody who has already installed Phalcon v3 in the past, using the first method mentioned at: <a href="https://phalcon.io/en-us/download/linux">https://phalcon.io/en-us/download/linux</a> ... i.e. Phalcon gets installed and upgraded using the standard Debian/Ubuntu apt package manager...</p>
<p>What will happen once Phalcon v4 is released as the main stable version, and we then run our next <code>apt-get upgrade</code> ? (or perhaps <code>unattended-upgrades</code> runs)</p>
<ul>
<li>a) will our installations be upgraded to <code>v4</code> automatically?</li>
<li>b) or, will our installations stick to <code>v3.*</code>?</li>
</ul>
<p>A couple of things imply to me that (a) may be what is going to happen? (but I'm only guessing, as these are common methods used by other applications to avoid auto-upgrades across major versions)...</p>
<ul>
<li>The package name installed on my systems currently is <code>php7.0-phalcon</code> ... i.e. there's no major version number in Phalcon's package name</li>
<li>There is also no version number in the repo URL in the file <code>/etc/apt/sources.list.d/phalcon_stable.list</code> ... <code>deb https://packagecloud.io/phalcon/stable/ubuntu/ xenial main</code></li>
</ul>
<p>If it is (a)... it may cause issues for people if there are any breaking changes between v3 and v4.  Many of us likely won't even immediately realise that v4 has been released, so it could catch people by surprise.  Especially on production servers.</p>
<p>And is there anything else in general us apt users should be wary about when v4 gets released?</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-e1d175975bce46b4d328ca02-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-e1d175975bce46b4d328ca02-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/877a54304e07c8cb38c47b43e1d6b6b3?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2828/sergeyklay" class="user-moderator-Y"><span itemprop="name">Serghei Iakovlev</span></a>        </span>
        <br>

        <span class="karma">39.2k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="61565" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '19</span>
              </span><br/><a name="C61565" href="#C61565">
                <time itemprop="dateCreated" datetime="2019-12-14T02:04:25-07:00" class="action-date">Dec '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><ul>
<li>a) Yes, this will happens after we'll release a stable version</li>
<li>b) No</li>
</ul>
<p>From <code>man 8 apt-mark</code></p>
<blockquote>
<p>apt-mark can be used as a unified front-end to set various settings for a package, such as marking a package as being automatically/manually installed or changing dpkg selections such as <strong>hold</strong>, install, deinstall and purge which are respected e.g. by apt-get dselect-upgrade or aptitude.</p>
</blockquote>
<p>Something like <code>sudo apt-mark hold php7.0-phalcon</code> should do the trick.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="61565" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="61565" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/d658d2289d4d865cd787f8cacdb6b8f6?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/6301/hi2u" class="user-moderator-N"><span itemprop="name">hi2u</span></a>        </span>
        <br>

        <span class="karma">3.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="61567" data-toggle="modal" data-target="#historyModal">
                edited <span>Dec '19</span>
              </span><br/><a name="C61567" href="#C61567">
                <time itemprop="dateCreated" datetime="2019-12-14T02:34:33-07:00" class="action-date">Dec '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks for the info.  I'll be sure to do <code>apt-mark</code> on my servers now.  </p>
<p>Going forward for &quot;v4 to v5&quot; onward... should this maybe be reconsidered?</p>
<p>Seeing that Phalcon uses semver, it's expected that there will possibly be breaking changes between major version numbers, so this current setup seems quite risky for anyone using Phalcon in production.  </p>
<p>And apt/packagecloud is the 1st recommended install method at the top of <a href="https://phalcon.io/en-us/download/linux">https://phalcon.io/en-us/download/linux</a> - so I would think that a lot of people are installing it this way.</p>
<p>This current approach is also atypical of how most software installed via apt works (both standard distro packages, and external apt repos), especially in Debian.  I think it might catch a lot of users by surprise.</p>
<p>Or is there something I'm missing here, and there's a reason that there's no need to worry about all this?</p>
<p>Also I noticed at <a href="https://docs.phalcon.io/4.0/en/upgrade">https://docs.phalcon.io/4.0/en/upgrade</a> that it mentions:</p>
<blockquote>
<p>Phalcon v4 supports only PHP 7.2 and above.</p>
</blockquote>
<p>What will happen on servers that don't have this?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="61567" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="61567" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/877a54304e07c8cb38c47b43e1d6b6b3?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/2828/sergeyklay" class="user-moderator-Y"><span itemprop="name">Serghei Iakovlev</span></a>        </span>
        <br>

        <span class="karma">39.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C61569" href="#C61569">
                <time itemprop="dateCreated" datetime="2019-12-14T03:06:12-07:00" class="action-date">Dec '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Automatic updating will occur only for those users whose systems satisfy the requirements.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="61569" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="61569" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C61583" href="#C61583">
                <time itemprop="dateCreated" datetime="2019-12-16T10:18:06-07:00" class="action-date">Dec '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think<a href="https://forum.phalcon.io/user/6301/hi2u"> @hi2u</a> makes a very good point.  My systems will support v4, but all the apps I've written won't necessarily work in v4.</p>
<p>Does apt have a way to include a confirmation notice when upgrading?  Something like &quot;Phalcon version 4 has breaking changes from version 3.  Install version 4?&quot;</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="61583" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="61583" data-cf-modified-e1d175975bce46b4d328ca02-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="20057" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>