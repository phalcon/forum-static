---
layout: default
title: '&quot;Phalcon Exception: Views directory must be a string or an array&quot;, but it is a string...(?) - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/10/di-ioc">DI/IoC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">&quot;Phalcon Exception: Views directory must be a string or an array&quot;, but it is a string...(?)</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/11573/martijintro" class="user-moderator-N"><span itemprop="name">martijintro</span></a></span>
            <time itemprop="dateCreated" datetime="2019-10-01T05:14:39-07:00">Oct '19</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2019-10-01T05:14:39-07:00">Oct '19</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '19</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>268</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/2b19ca70b24cb7d707fe0400a1ad1190?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/11573/martijintro" class="user-moderator-N"><span itemprop="name">martijintro</span></a></span>
                <span class="karma">1.9k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C20005" href="#C20005">
        <time class="action-date">Oct '19</time>
    </a>
</div>
<div class="post-content"><div><p>Hi there</p>
<p>The &quot;echo&quot; show me <code>C:\Apache24\htdocs\phalcon\app\views</code> on my screen, but phalcon says it's not a string. But it is a string in my opinion!!</p>
<p>$APP_PATH_VIEWS = &quot;&quot;.APP_PATH . SEPARATOR.'views';
echo 'APP_PATH_VIEWS: '.&quot;\r\n&quot;.$APP_PATH_VIEWS.&quot;\r\n\r\n&quot;;</p>
<pre><code>    $di = new Phalcon\DI\FactoryDefault();

    $di-&gt;set('view', function() {
        $view = new \Phalcon\Mvc\View();
        $view-&gt;setViewsDir($APP_PATH_VIEWS);
        return $view;
    });</code></pre>
<p>And that does also not work: <code>$view-&gt;setViewsDir("" . $APP_PATH_VIEWS);</code></p>
<p>Thank you for your feedbacks.</p>
<p>With best regards,
Jan</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-87e68ff6ebcd98936852f825-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-87e68ff6ebcd98936852f825-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2b19ca70b24cb7d707fe0400a1ad1190?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11573/martijintro" class="user-moderator-N"><span itemprop="name">martijintro</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60957" href="#C60957">
                <time itemprop="dateCreated" datetime="2019-10-01T05:15:33-07:00" class="action-date">Oct '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>How to format code on that forum? Can't see any suitable options in the toolbar...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60957" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60957" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2b19ca70b24cb7d707fe0400a1ad1190?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11573/martijintro" class="user-moderator-N"><span itemprop="name">martijintro</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60959" href="#C60959">
                <time itemprop="dateCreated" datetime="2019-10-01T05:17:13-07:00" class="action-date">Oct '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Oh it was that what was missing, so the problem is solved now: <code>global $APP_PATH_VIEWS;</code></p>
<p>Regards, Jan</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60959" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60959" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/746a625a9264a203a6ddf711e0c6b120?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/301/quasipickle" class="user-moderator-Y"><span itemprop="name">Dylan Anderson</span></a>        </span>
        <br>

        <span class="karma">125.7k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="60967" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '19</span>
              </span><br/><a name="C60967" href="#C60967">
                <time itemprop="dateCreated" datetime="2019-10-01T12:42:16-07:00" class="action-date">Oct '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>If an answer (even yours) has been accepted, please click the &quot;Accept Answer&quot; button.  That will update the post title and let others know the problem has been solved.</p>
<p>Using <code>global</code> is generally frowned upon, because doing so provides no insight as to where that variable is defined.  If that variable is defined in the same file and context as the code you posted above, you can use the <code>use</code> directive to import variables from the scope.  For example:</p>
<pre><code class="language-php">$APP_PATH_VIEWS = APP_PATH . SEPARATOR.'views';// removed the leading "", as it's unnecessary.

$di = new Phalcon\DI\FactoryDefault();

$di-&gt;set('view', function() use($APP_PATH_VIEWS) {
        $view = new \Phalcon\Mvc\View();
        $view-&gt;setViewsDir($APP_PATH_VIEWS);
        return $view;
});</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60967" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60967" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2b19ca70b24cb7d707fe0400a1ad1190?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/11573/martijintro" class="user-moderator-N"><span itemprop="name">martijintro</span></a>        </span>
        <br>

        <span class="karma">1.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60975" href="#C60975">
                <time itemprop="dateCreated" datetime="2019-10-01T15:39:12-07:00" class="action-date">Oct '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks!! :-)</p>
<p>Regards, Jan</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60975" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60975" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/8da15621865643112c6e3243f2ce4ebe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/3812/Jurigag" class="user-moderator-Y"><span itemprop="name">Wojciech Åšlawski</span></a>        </span>
        <br>

        <span class="karma">145.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60979" href="#C60979">
                <time itemprop="dateCreated" datetime="2019-10-02T09:16:53-07:00" class="action-date">Oct '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Don't ever use globals, forget this keyword even existis, you better stick to consts for example.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60979" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60979" data-cf-modified-87e68ff6ebcd98936852f825-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="20005" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>