---
layout: default
title: '[solved] Who call the $view-&gt;render() ? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">[solved] Who call the $view-&gt;render() ?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/8837/cosmy81" class="user-moderator-N"><span itemprop="name">Cosimo</span></a></span>
            <time itemprop="dateCreated" datetime="2017-10-05T11:27:37-07:00">Oct '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-10-05T11:27:37-07:00">Oct '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Oct '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>539</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/a2658b5645f7a791cd1fbf709c4eb9b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/8837/cosmy81" class="user-moderator-N"><span itemprop="name">Cosimo</span></a></span>
                <span class="karma">12.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17049" href="#C17049">
        <time class="action-date">Oct '17</time>
    </a>
</div>
<div class="post-content"><div><p>Hi all, I'm experiencing a strange behaviour. If I put a logger inside the render() function of the $view (I've extended it), I see that the render() is called several times.
The final result displayed is ok (I mean the template is not rendered twice), but the function render() is called too many times and it should be called one.
Who's the caller of $view-&gt;render()?
Have you got any ideas about this behaviour?</p>
<p>That's my render() function log extract for only one page view:</p>
<blockquote>
<p>[2017-10-05 19:48:49][local][WARNING] rendering: index, index<br />
[2017-10-05 19:48:49][local][WARNING] rendering: error, show404<br />
[2017-10-05 19:48:50][local][WARNING] rendering: error, show404<br />
[2017-10-05 19:48:50][local][WARNING] rendering: error, show404<br />
[2017-10-05 19:48:50][local][WARNING] rendering: error, show404<br />
[2017-10-05 19:48:50][local][WARNING] rendering: error, show404<br />
[2017-10-05 19:48:51][local][WARNING] rendering: index, index<br />
[2017-10-05 19:48:54][local][WARNING] rendering: index, getcartitemn<br />
[2017-10-05 19:48:54][local][WARNING] rendering: error, show404<br />
[2017-10-05 19:48:56][local][WARNING] rendering: index, index  </p>
</blockquote></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-553fb2ba77289346a9ef7523-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-553fb2ba77289346a9ef7523-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b59fecbff6d1afabf8da316028330df4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2619/emiliodeg" class="user-moderator-N"><span itemprop="name">Emilio Degiovanni</span></a>        </span>
        <br>

        <span class="karma">32.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C51363" href="#C51363">
                <time itemprop="dateCreated" datetime="2017-10-05T17:27:59-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi<a href="https://forum.phalcon.io/user/0/cosmy81"> @cosmy81</a> do you have any redirection? views are rendered even after you call <code>dispatcher-&gt;redirect()</code>. </p>
<p>You must disable a render i.e. using <code>$this-&gt;view-&gt;disable()</code>in your controller</p>
<p>Good luck</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51363" data-cf-modified-553fb2ba77289346a9ef7523-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51363" data-cf-modified-553fb2ba77289346a9ef7523-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a2658b5645f7a791cd1fbf709c4eb9b0?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/8837/cosmy81" class="user-moderator-N"><span itemprop="name">Cosimo</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="51367" data-toggle="modal" data-target="#historyModal">
                edited <span>Oct '17</span>
              </span><br/><a name="C51367" href="#C51367">
                <time itemprop="dateCreated" datetime="2017-10-06T02:50:00-07:00" class="action-date">Oct '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi Emilio, I've found what's the matter with my app. It was my fault.
The frontend module was loaded manually in my Bootstrap so it runs several times, calling the dispatcher many times, and so the view rendering.
But at the very end there were only one response send and the view is displayed once.<br />
wrong code:</p>
<blockquote>
<pre><code>    $application-&gt;registerModules(require BASE_PATH .'/config/modules.php');
    require(APP_FRONTEND_PATH . 'Module.php');
    $module = new App\Frontend\Module(); //sbagliato!! lo lancia in automatico registerModules
    $module-&gt;registerAutoloaders($di); //sbagliato!! lo lancia in automatico registerModules
    $module-&gt;registerServices($di); //sbagliato!! lo lancia in automatico registerModules
    if(PHALCON_DEBUG)
        $this-&gt;initDebug($di);
    $response = $application-&gt;handle();
    $response-&gt;send();</code></pre>
</blockquote>
<p>right code:</p>
<blockquote>
<pre><code>    $application-&gt;registerModules(require BASE_PATH .'/config/modules.php');
    require(APP_FRONTEND_PATH . 'Module.php');
    if(PHALCON_DEBUG)
        $this-&gt;initDebug($di);
    $response = $application-&gt;handle();
    $response-&gt;send();</code></pre>
</blockquote>
<p>So, to reply to my topic question, the dispatcher invoke the view render. And the application invoke the module and the dispatcher (through the handle() module) generating the response. The module register the dispatcher and the view services.<br />
In my case the response is finally sent by the Bootstrap init.</p>
<p>I think that the documentation should contain a graphic flow summary to be immediatly clear. If you want I can do that, even if I think there sre a lot of things that I still don't know.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="51367" data-cf-modified-553fb2ba77289346a9ef7523-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="51367" data-cf-modified-553fb2ba77289346a9ef7523-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17049" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>