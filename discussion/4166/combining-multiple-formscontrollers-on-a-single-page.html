---
layout: default
title: 'Combining multiple forms/controllers on a single page - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Combining multiple forms/controllers on a single page</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/2784/PersyJack" class="user-moderator-N"><span itemprop="name">PersyJack</span></a></span>
            <time itemprop="dateCreated" datetime="2014-12-03T12:04:11-07:00">Dec '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-12-03T12:04:11-07:00">Dec '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>1410</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/2f67ec1aafe93e6591b1e836f6990705?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/2784/PersyJack" class="user-moderator-N"><span itemprop="name">PersyJack</span></a></span>
                <span class="karma">2.4k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C4166" href="#C4166">
        <time class="action-date">Dec '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi guys, I'm trying to learn phalcon by examining the examples. Currently I'm studying Vokura example. </p>
<p>What I want to do is, instead of going to Login and Signup pages seperately, I'd like to have them on one page, say index..</p>
<p>I've looked at <a href="http://docs.phalcon.io/en/latest/reference/views.html#using-partials" title="partials">Partial templates</a> and tried to use:</p>
<pre><code class="language-php">//views&gt;index.volt
&lt;div&gt;{% raw %}{{{% endraw %} partial("session/login") {% raw %}}}{% endraw %}&lt;/div&gt;
&lt;div&gt;{% raw %}{{{% endraw %} partial("session/signup") {% raw %}}}{% endraw %}&lt;/div&gt;</code></pre>
<p>I also included:</p>
<pre><code class="language-php">//controllers&gt;IndexController.php
use Vokuro\Forms\LoginForm;
use Vokuro\Forms\SignUpForm;</code></pre>
<p>However, that threw an error <code>Notice: Undefined variable: form</code></p>
<p>My question is, what do I need to do to include both login and signup forms on the index page without making changes to LoginForm.php, SignupForm.php, SessionController.php so I can also use links to go to the individual login and signup pages.</p>
<p>Hope I'm making any sense, thank you in advance.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-1c3dafcc10db6da87db09f57-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-1c3dafcc10db6da87db09f57-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2f67ec1aafe93e6591b1e836f6990705?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2784/PersyJack" class="user-moderator-N"><span itemprop="name">PersyJack</span></a>        </span>
        <br>

        <span class="karma">2.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13917" href="#C13917">
                <time itemprop="dateCreated" datetime="2014-12-04T16:50:06-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Hello my friend... if you create a user is everything good? i am taking this error
Fatal error: Maximum function nesting level of '100' reached, aborting! in C:\wamp\www\vokuro\app\controllers\SessionController.php on line 37
have you noticed anything?</p>
</blockquote>
<p><a href="https://forum.phalcon.io/user/0/Cboursinos">@Cboursinos</a> by answering my question with an unrelated question, you are taking away the bounty. Your question has nothing to do with this post and contributes nothing to the question. You should open a new discussion and ask your question there so phalcon community can view it and hopefully answer it.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13917" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13917" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/17087ef97dcb9d410032900cce15c9d4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1962/arius86" class="user-moderator-N"><span itemprop="name">Arius</span></a>        </span>
        <br>

        <span class="karma">5.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13960" href="#C13960">
                <time itemprop="dateCreated" datetime="2014-12-07T04:53:00-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi PersyJack,</p>
<p>Did you set those forms as view variable in your action?
You need to do something like:
$this-&gt;view-&gt;form = new MyFormClass();
and only then you will have 'form' variable in you templates/partials.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13960" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13960" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2f67ec1aafe93e6591b1e836f6990705?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2784/PersyJack" class="user-moderator-N"><span itemprop="name">PersyJack</span></a>        </span>
        <br>

        <span class="karma">2.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13962" href="#C13962">
                <time itemprop="dateCreated" datetime="2014-12-07T10:41:52-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi<a href="https://forum.phalcon.io/user/0/Arius"> @Arius</a>. That's setup in the SessionController.
After setting up <code>$form = new LoginForm();</code> it sets up form elements and at the end calls <code>$this-&gt;view-&gt;form = $form</code>
I still haven't figure this out and it seems no one knows how to do that. I think I'll give up on this</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13962" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13962" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/17087ef97dcb9d410032900cce15c9d4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/1962/arius86" class="user-moderator-N"><span itemprop="name">Arius</span></a>        </span>
        <br>

        <span class="karma">5.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C13966" href="#C13966">
                <time itemprop="dateCreated" datetime="2014-12-07T15:27:51-07:00" class="action-date">Dec '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://forum.phalcon.io/user/0/PersyJack">@PersyJack</a> I think you don't fully understand the idea behind MVC in this case. IndexController doesn't have any informations from SessionController. They are separate scopes. IIf you want to have those forms generated in partials you need to initialize them in controller/action where you are showing them or inject those forms in other way.</p>
<p>In your indexController/indexAction you can use:</p>
<p>$signUpForm = new SignUpForm();
$this-&gt;view-&gt;signUpForm = $signUpForm;</p>
<p>and</p>
<p>$loginForm = new LoginForm();
$this-&gt;view-&gt;loginForm = $loginForm;</p>
<p>of course use loginForm and signUpForm variables instead form in your partials.</p>
<p>Or you can create service like:</p>
<p>$di-&gt;set(&quot;loginForm&quot;, function() {
return new Vokuro\Forms\LoginForm();
});</p>
<p>$di-&gt;set(&quot;signUpForm&quot;, function() {
return new Vokuro\Forms\SignUpForm();
});</p>
<p>and use those services in partials instead view variable. Honestly there are more and more ways :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="13966" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="13966" data-cf-modified-1c3dafcc10db6da87db09f57-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="4166" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>