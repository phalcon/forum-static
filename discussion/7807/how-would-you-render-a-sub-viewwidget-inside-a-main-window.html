---
layout: default
title: 'How would you render a sub view/widget inside a main window? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/21/beginners">Beginners</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How would you render a sub view/widget inside a main window?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/4491/ChaoticDalo" class="user-moderator-N"><span itemprop="name">ChaoticDalo</span></a></span>
            <time itemprop="dateCreated" datetime="2015-07-26T14:49:29-07:00">Jul '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-07-26T14:49:29-07:00">Jul '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>725</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/6d1f635e7def33e6aa36a0847ccf41b5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/4491/ChaoticDalo" class="user-moderator-N"><span itemprop="name">ChaoticDalo</span></a></span>
                <span class="karma">840</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C7807" href="#C7807">
        <time class="action-date">Jul '15</time>
    </a>
</div>
<div class="post-content"><div><p>Hello,</p>
<p>I'm very new to Phalcon and excited. I've watched tutorials and get the basics of Phalcon's controllers and view hierarchy but I'm having a hard time wrapping my head around what I would like to achieve.
I currently have a header, footer, side left panel and Main Content all loading using the regular hierarchical rendering mixed with some partials in my DashboardController file. Currently the Main Content area is empty as I'd like my widgets to load in there. In my old php project I have a folder of 'apps' where each app is built from pure php (no frameworks) and I simply include each folder and load the app into a sub view in the Main Content area.</p>
<pre><code>(app folder structure example)
app/todo/index.php 
app/calendar/index.php
app/metrics/index.php</code></pre>
<p>So my questions are:</p>
<ul>
<li>In Phalcon, how can I look into an apps folder, with no phalcon structure just regular php, and load that in my empty Main Content area in my DashboardController?</li>
<li>Eventually I'll convert those apps to all use phalcon controllers and views so how would I then render that app view inside the Main Content area?</li>
</ul>
<p>All in all how do I render an external view within a view?</p>
<p>This may or may not be too complex to answer so any tips, advice or some form of direction would be greatly appreciated. Thanks a bunch.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-69dae7e7a592bc9c4c51c119-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-69dae7e7a592bc9c4c51c119-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/e00a6fdd3e722135512e013b7f1e9693?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3916/zhegwood" class="user-moderator-N"><span itemprop="name">Zach</span></a>        </span>
        <br>

        <span class="karma">17.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C21227" href="#C21227">
                <time itemprop="dateCreated" datetime="2015-07-27T19:32:48-07:00" class="action-date">Jul '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I use custom routing and don't use volt, but you could also solve w/ regular routing and volt in a similar fashion.</p>
<p>I have a main layout file... views/layouts/layout.phtml That contains the shell of the page.</p>
<p>Inside of layout.phtml, I have an echo of content:</p>
<pre><code class="language-php">&lt;?php echo $this-&gt;getContent(); ?&gt;</code></pre>
<p>Inside of my routes file, I have the get:</p>
<pre><code class="language-php">$router-&gt;addGet("/",[
    'controller' =&gt; 'noauth',
    'action' =&gt; 'index'
]);</code></pre>
<p>Then inside the controller, I have:</p>
<pre><code class="language-php">&lt;?php

use Phalcon\Http\Response;

class NoauthController extends ControllerBase {

    public function initialize() {
        $this-&gt;view-&gt;setTemplateAfter('layout');
    }

    public function indexAction() {
        $this-&gt;view-&gt;pick("home");
    }
}</code></pre>
<p>Then I have a file: views/home.phtml that has the content for that route.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="21227" data-cf-modified-69dae7e7a592bc9c4c51c119-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="21227" data-cf-modified-69dae7e7a592bc9c4c51c119-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6d1f635e7def33e6aa36a0847ccf41b5?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4491/ChaoticDalo" class="user-moderator-N"><span itemprop="name">ChaoticDalo</span></a>        </span>
        <br>

        <span class="karma">840</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C21803" href="#C21803">
                <time itemprop="dateCreated" datetime="2015-08-12T15:08:26-07:00" class="action-date">Aug '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks Zach but it's not quite what I'm looking for.
Ok, I feel like I've come close but hit another wall as I just can't seem to get what I'm trying to achieve here. Here's an update from what I've managed to do thus far.</p>
<p>I have a main controller called DashboardController and in the indexAction() I want to run a loop to look at each multi module application and return it's default action/view. This returned view will be stored in an array which will again be looped in the view component to output each module.</p>
<p>As of now I can do this but it only grabs the view, it doesn't go through the controllers at all which means I can't make DB calls that are specific to that module. I've structured my code to be similar to the multi shared views example from here: <a href="https://github.com/phalcon/mvc/tree/master/multiple-shared-views">Multi Shared Views</a></p>
<p>Here's my loop in the DashboardController indexAction() to get a module to render it's view:</p>
<pre><code class="language-php">
public function indexAction()
{
    // ....
    // ....

    $render_array = array();

    // go through the list of modules
    foreach ($this-&gt;config-&gt;apps as $key =&gt; $this_app) {

        // get the view content for each module
        $this_content = $this-&gt;view-&gt;getRender($this-&gt;config-&gt;apps[$key]-&gt;name, 'index', null,

            function ($view) use($key) {

                // Set any extra options here
                $view-&gt;setViewsDir(APP_PATH . '/apps/'. $this-&gt;config-&gt;apps[$key]-&gt;name. '/views/');
                $view-&gt;setRenderLevel(\Phalcon\Mvc\View::LEVEL_LAYOUT);
            }
        );

        array_push($render_array, $this_content);
    }

    $this-&gt;view-&gt;widgets = $render_array;
}
php

In my dashboard/index.phtml file I then loop through $widgets and display.

How in the world can I loop through the multi modules calling each modules default view and have it use it's own controllers to make DB calls and whatever other processing??</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="21803" data-cf-modified-69dae7e7a592bc9c4c51c119-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="21803" data-cf-modified-69dae7e7a592bc9c4c51c119-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="7807" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>