---
layout: default
title: 'Join return Row - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Join return Row</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a></span>
            <time itemprop="dateCreated" datetime="2015-03-24T12:13:55-07:00">Mar '15</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2015-03-24T12:13:55-07:00">Mar '15</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Mar '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>589</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a></span>
                <span class="karma">9.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C6240" href="#C6240">
        <time class="action-date">Mar '15</time>
    </a>
</div>
<div class="post-content"><div><p>Why when i try to make a join, the return class is ROW not the Parceiros class ?
I've tried ....
Thanks</p>
<blockquote>
<pre><code>    $fields = array(
        '\\Apps\\Models\\Parceiros.id',
        '\\Apps\\Models\\Parceiros.url',
        '\\Apps\\Models\\Parceiros.descricao',
        '\\Apps\\Models\\Parceiros.titulo',
        'm.path',
        'm.file'
    );</code></pre>
</blockquote>
<p>Short</p>
<blockquote>
<p>$fields = array(
'\Apps\Models\Parceiros.<em>',
'm.</em>',
);</p>
</blockquote>
<p>SQL</p>
<blockquote>
<p>$select = Parceiros::query()
-&gt;leftJoin('\Apps\Models\Midias', 'm.id = \Apps\Models\Parceiros.id_midias', 'm')
-&gt;columns($fields);</p>
</blockquote>
<p>Return Class</p>
<blockquote>
<p>Phalcon\Mvc\Model\Row</p>
</blockquote></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-723ab5d6919c8dd604096563-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-723ab5d6919c8dd604096563-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16854" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '15</span>
              </span><br/><a name="C16854" href="#C16854">
                <time itemprop="dateCreated" datetime="2015-03-24T12:55:04-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Because you're requesting more than one instance so it's returning a Phalcon\Mvc\Model\Row composed of the requested instances</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16854" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16854" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16855" href="#C16855">
                <time itemprop="dateCreated" datetime="2015-03-24T13:05:34-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>So doing a join it always return Phalcon Row, I cannot set the default or change ??</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16855" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16855" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16907" href="#C16907">
                <time itemprop="dateCreated" datetime="2015-03-26T08:39:35-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Andres, you do not have any alternative to do it ?</p>
<p>Thanks</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16907" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16907" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16908" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '15</span>
              </span><br/><a name="C16908" href="#C16908">
                <time itemprop="dateCreated" datetime="2015-03-26T08:53:21-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This does not happen because of the join but due to: <code>-&gt;columns(array( "\Apps\Models\Parceiros.*", "m.*", ))</code>, you're requesting all fields from two instances which means returns a Phalcon\Mvc\Model\Row with two properties one per instance requested.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16908" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16908" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16910" href="#C16910">
                <time itemprop="dateCreated" datetime="2015-03-26T09:18:49-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>So has some way to access model, without have to do another looping ?
Because i have some functions in model so have some way to access the instance model by the row ?</p>
<p>thanks andres</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16910" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16910" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16933" href="#C16933">
                <time itemprop="dateCreated" datetime="2015-03-27T07:56:14-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>No, you just have to access the property you want:</p>
<pre><code class="language-php">foreach ($result as $row) {
  echo $row-&gt;parceiros-&gt;titulo, '&lt;br&gt;';
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16933" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16933" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16934" href="#C16934">
                <time itemprop="dateCreated" datetime="2015-03-27T08:30:38-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Thanks Andres, the only matter is that use apps\Models\Parceiros so returns a proprerty like it
so i cannot access $row-&gt;parceiros-&gt;titulo or $row-&gt;apps\Models\Parceiros-&gt;titulo it's normal the return object had the full model name include namespace?</p>
<blockquote>
<p>object(Phalcon\Mvc\Model\Row)#121 (4) {
[<strong>&quot;apps\Models\Parceiros&quot;</strong>]=&gt;
object(Apps\Models\Parceiros)#103 (20) {</p>
</blockquote>
<p>Thanks for the attention and the heplp andres!</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16934" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16934" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/2e0bae293948bec8ffec40de279cbe41?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/210/andresgutierrez" class="user-moderator-Y"><span itemprop="name">Andres Gutierrez</span></a>        </span>
        <br>

        <span class="karma">34.6k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16935" href="#C16935">
                <time itemprop="dateCreated" datetime="2015-03-27T08:33:19-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Add an alias to the columns: <code>-&gt;columns(array("parceiros" =&gt; "Apps\Models\Parceiros.*", "midias" =&gt; "m.*"))</code></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16935" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16935" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16936" href="#C16936">
                <time itemprop="dateCreated" datetime="2015-03-27T08:44:33-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Nice solution, but now i have a SQL error</p>
<p>PhalconException: Syntax error, unexpected token AS, near to ' parceiros, m.<em> AS midias FROM [Apps\Models\Parceiros] LEFT JOIN [\Apps\Models\Midias] AS [m] ON m.id = \Apps\Models\Parceiros.id_midias', when parsing: SELECT Apps\Models\Parceiros.</em> AS parceiros, m.* AS midias FROM [Apps\Models\Parceiros] LEFT JOIN [\Apps\Models\Midias] AS [m] ON m.id = \Apps\Models\Parceiros.id_midias (169)</p>
<p><strong>$select = Parceiros::query()
-&gt;leftJoin('\Apps\Models\Midias', 'm.id = \Apps\Models\Parceiros.id_midias', 'm')
-&gt;columns(array(&quot;parceiros&quot; =&gt; &quot;Apps\Models\Parceiros.<em>&quot;, &quot;midias&quot; =&gt; &quot;m.</em>&quot;));</strong></p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16936" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16936" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="16939" data-toggle="modal" data-target="#historyModal">
                edited <span>Mar '15</span>
              </span><br/><a name="C16939" href="#C16939">
                <time itemprop="dateCreated" datetime="2015-03-27T12:33:23-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Andres look like this works
but i get parceiros lost if i defined an Alias was not working the sql so i cannot access proprerty of parceiros unless i use toArray()</p>
<p>$item-&gt;m ( linked to midias, so i can acess the model midias, but model parceiros get lost  )
$item-&gt;\Apps\Models\Parceiros cannot use or access because is not allowed to.</p>
<p>Thanks andres, looks like you are de Phalcon creator thanks for it for sure is the best framework i used for 4 years Zend but phalcon really wins!!
Conglaturations and thanks for the help!!!!!</p>
<blockquote>
<p>$fields = array(
'\Apps\Models\Parceiros.<em>',
'm.</em>',
);</p>
<pre><code>    $select = Parceiros::query()
           -&gt;leftJoin('\\Apps\\Models\\Midias', 'm.id = \\Apps\\Models\\Parceiros.id_midias', 'm')
           -&gt;columns($fields);
        $execute = $select-&gt;execute();
    return ( $row ) ? $execute-&gt;getFirst() : $execute;</code></pre>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16939" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16939" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/3a186db7614d2a33234ca30b9cf058b4?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/3106/tidytrax" class="user-moderator-N"><span itemprop="name">Renato Gabriel</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C16943" href="#C16943">
                <time itemprop="dateCreated" datetime="2015-03-27T12:51:48-07:00" class="action-date">Mar '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This works but only with modelsManager where i can set an Alias.
Andres if you can explain me why? security, bug, to be developed , my mistake ?!</p>
<p>Thanks but a solution has been found!! =)</p>
<blockquote>
<p>$fields = array(
'p.<em>',
'm.</em>',
);</p>
<pre><code>    $select = 
        $this-&gt;getModelsManager()-&gt;createBuilder()
               -&gt;addFrom('\\Apps\\Models\\Parceiros', 'p')
               -&gt;leftJoin('\\Apps\\Models\\Midias', 'm.id = p.id_midias', 'm')
               -&gt;columns($fields);

    $execute = $select-&gt;getQuery()-&gt;execute();
    return ( $row ) ? $execute-&gt;getFirst() : $execute;</code></pre>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="16943" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="16943" data-cf-modified-723ab5d6919c8dd604096563-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="6240" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>