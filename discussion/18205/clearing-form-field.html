---
layout: default
title: 'Clearing form field - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/5/general">General</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Clearing form field</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/6853/Hoet" class="user-moderator-N"><span itemprop="name">Hoet</span></a></span>
            <time itemprop="dateCreated" datetime="2018-05-08T14:14:53-07:00">May '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-05-08T14:14:53-07:00">May '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>May '18</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>374</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/cfe29c6fec2b71ae311c675cdc3d7562?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/6853/Hoet" class="user-moderator-N"><span itemprop="name">Hoet</span></a></span>
                <span class="karma">4.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C18205" href="#C18205">
        <time class="action-date">May '18</time>
    </a>
</div>
<div class="post-content"><div><p>I'am having an issue with clearing a form field before I render the field. In this case I have created a new form element using the $user as entity. When the form is renderd I like the password field to be an empty string instead of the password has that is stored in the $user entity. The clear below is not working.</p>
<pre><code>    public function editAction( $id )
    {
      $user =Users::findFirst( $id );
      $form =new UserForm( $user );

      $form-&gt;clear( 'password' );  // &lt;-- I like for the password field to be empty

      if( $this-&gt;request-&gt;isPost())
      {
        $form-&gt;bind( $this-&gt;request-&gt;getPost(), $user );

        if( $form-&gt;isValid( ))
        {
          $result =$user-&gt;update( );
          if( $result )
          {
            $this-&gt;response-&gt;redirect( '/backend/users/' );
            return false;
          }
          else
          {
            die( 'error1' );
          }
        }
        else
        {
          die( 'error2' );
        }
      }

      $this-&gt;view-&gt;setVar( 'form', $form );
    }</code></pre></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-a528147ac64d1395c2b45dc8-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-a528147ac64d1395c2b45dc8-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5915f25e654c4f9e60fe51700cdee683?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4769/Izopi4a" class="user-moderator-Y"><span itemprop="name">Izo</span></a>        </span>
        <br>

        <span class="karma">85.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C55283" href="#C55283">
                <time itemprop="dateCreated" datetime="2018-05-09T07:52:13-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>i did not know clear method exists, what i do is</p>
<pre><code class="language-php">
$field-&gt;setDefault(null);
</code></pre>
<p>hope that works, haven't being using it much to be honest</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55283" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55283" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c0ce8f5e133750a4dfea4712e533a178?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/15/le51" class="user-moderator-N"><span itemprop="name">le51</span></a>        </span>
        <br>

        <span class="karma">43.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C55295" href="#C55295">
                <time itemprop="dateCreated" datetime="2018-05-09T12:22:11-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p><a href="https://devdocs.io/phalcon~3/api/phalcon_forms_element#clear">https://devdocs.io/phalcon~3/api/phalcon_forms_element#clear</a></p>
<blockquote>
<p>Clears every element in the form to its default value</p>
</blockquote></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55295" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55295" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/cfe29c6fec2b71ae311c675cdc3d7562?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6853/Hoet" class="user-moderator-N"><span itemprop="name">Hoet</span></a>        </span>
        <br>

        <span class="karma">4.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="55325" data-toggle="modal" data-target="#historyModal">
                edited <span>May '18</span>
              </span><br/><a name="C55325" href="#C55325">
                <time itemprop="dateCreated" datetime="2018-05-10T04:06:00-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Sadly I tried to set the password field in the form class, but that doesn't work.</p>
<p>And indeed clear resets the field to it's default value which is in my case an password hash as that is set as default value via the constructor by adding the user entity that should be used to fill the form.</p>
<p>I can change &quot;$form =new UserForm( $user );&quot; into &quot;$form =new UserForm( );&quot; and set all the fields manually in the controller. That would work, but also adds a lot of extra code to the controller I like to prevent.</p>
<p>I need a way to clear the password field to an empty string when I render the edit view for a user. As clear will not work and setting a default value for the field in the form class isn't working. Anyone know of another way ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55325" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55325" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c0ce8f5e133750a4dfea4712e533a178?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/15/le51" class="user-moderator-N"><span itemprop="name">le51</span></a>        </span>
        <br>

        <span class="karma">43.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C55329" href="#C55329">
                <time itemprop="dateCreated" datetime="2018-05-10T04:16:02-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>a dirty client side javascript hack ?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55329" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55329" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/cfe29c6fec2b71ae311c675cdc3d7562?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6853/Hoet" class="user-moderator-N"><span itemprop="name">Hoet</span></a>        </span>
        <br>

        <span class="karma">4.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C55343" href="#C55343">
                <time itemprop="dateCreated" datetime="2018-05-10T08:26:26-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>That might be an solution, but it is not something you want to use if you ask me. I could also extend the password field and add the missing functionality. But is would rather see this as part of the password field itself. I mean I would expect that a password tag can be emptied regarding setting a entity for a form. I mean it is a password field.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55343" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55343" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/c0ce8f5e133750a4dfea4712e533a178?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/15/le51" class="user-moderator-N"><span itemprop="name">le51</span></a>        </span>
        <br>

        <span class="karma">43.9k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C55375" href="#C55375">
                <time itemprop="dateCreated" datetime="2018-05-11T09:28:16-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>$form-&gt;clear( 'password' );  // &lt;-- I like for the password field to be empty</p>
</blockquote>
<p>well, the rendered password field will display dots anyway ...</p>
<p>if you want your given $user to re enter his password while he's filling the form, do not use the &quot;real&quot; password in the form but something like a &quot;passwordConfirmationn&quot; field (set it to null by default and you should have an empty password field in the rendered view ;-))</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55375" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55375" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/cfe29c6fec2b71ae311c675cdc3d7562?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6853/Hoet" class="user-moderator-N"><span itemprop="name">Hoet</span></a>        </span>
        <br>

        <span class="karma">4.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C55395" href="#C55395">
                <time itemprop="dateCreated" datetime="2018-05-12T04:55:23-07:00" class="action-date">May '18</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>That might be an accepted solution. My password hases are nearly 128 chars long so my current password field has a lot of dots in it. And when a user is updated without changing the password will store a new password which is equal to the hased password currently set as value for the password field.</p>
<p>Thanks for the idea</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="55395" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="55395" data-cf-modified-a528147ac64d1395c2b45dc8-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="18205" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>