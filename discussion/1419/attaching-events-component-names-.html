---
layout: default
title: 'Attaching events - Component names? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/11/events-manager">Events</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Attaching events - Component names?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/807/moderndeveloperllc" class="user-moderator-N"><span itemprop="name">Mark Garrett</span></a></span>
            <time itemprop="dateCreated" datetime="2014-01-09T13:42:23-07:00">Jan '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-01-09T13:42:23-07:00">Jan '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jan '14</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>1482</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img  src="https://secure.gravatar.com/avatar/921be5aa7ffcdfa1624b262932738b69?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/807/moderndeveloperllc" class="user-moderator-N"><span itemprop="name">Mark Garrett</span></a></span>
                <span class="karma">5.3k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C1419" href="#C1419">
        <time class="action-date">Jan '14</time>
    </a>
</div>
<div class="post-content"><div><p>I'm trying to get a better understanding of events. One thing I'm unsure of is where we can get the component names of what we want to attach to. For instance:</p>
<pre><code class="language-php">$di-&gt;set('dispatcher', function () use $di {
    $dispatcher = new Dispatcher();
    $dispatcher-&gt;setDefaultNamespace('Vokuro\Controllers');
    return $dispatcher;
});</code></pre>
<p>Even though the service is called &quot;dispatcher&quot; if i want to attach a listener to this component, I need to use:</p>
<pre><code class="language-php">$eventsManager = $di-&gt;getShared('eventsManager');
$listener = new ListenerClass($di);
$eventsManager-&gt;attach('dispatch', $listener);</code></pre>
<p>So how would we know to use &quot;dispatch&quot; for the dispatcher, or &quot;db&quot; for the database component? Is there a list somewhere I'm not seeing of all the event aware components we can set listeners too?</p>
<p>--Mark</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4924" href="#C4924">
                <time itemprop="dateCreated" datetime="2014-01-09T15:17:58-07:00" class="action-date">Jan '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Those were names arbitrary chosen, I'm afraid that there is no list mentioning all these names. Every chapter in the documentation mention how events are dispatched and what prefix is used. It would be great to build one list with all the prefixes.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4924" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4924" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/921be5aa7ffcdfa1624b262932738b69?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/807/moderndeveloperllc" class="user-moderator-N"><span itemprop="name">Mark Garrett</span></a>        </span>
        <br>

        <span class="karma">5.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4927" href="#C4927">
                <time itemprop="dateCreated" datetime="2014-01-09T16:06:32-07:00" class="action-date">Jan '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>In the documentation is good, in the code would be even better. As I'm not a C programmer, I have one question<a href="https://forum.phalcon.io/user/1/phalcon"> @Phalcon</a>. Is it possible, as part of the compilation process, to scan the .c files for class properties? If that's possible without lots of hacks, I was thinking of the following:</p>
<p>In each class that has events, there are two new protected properties:
eventType - The string name of the event prefix used in this class
validEvents - Array of valid events for that can are triggered in that class</p>
<p>At compilation, two protected properties are generated in Phalcon\Events\Manager:
eventTypes - array of class eventType =&gt; className
validEvents - array of [class eventType =&gt; array of class events, ...]</p>
<p>Getters and setters -
getEventTypes(), setEventType() - push onto existing array
getValidEvents(eventType), setValidEvents(eventType, array events) - push onto existing array</p>
<p>Sound good? if so, I'll make an NFR in GitHub</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4927" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4927" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/5d6f567f9109789fd9f702959768e35d?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/1/phalcon" class="user-moderator-Y"><span itemprop="name">Phalcon</span></a>        </span>
        <br>

        <span class="karma">98.9k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4928" href="#C4928">
                <time itemprop="dateCreated" datetime="2014-01-09T16:49:13-07:00" class="action-date">Jan '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>We have more options to do that:</p>
<p>1) Check the Zephir sources out, they can be easily read and they implement the same events and prefixes as 1.2/1.3: <a href="https://github.com/phalcon/cphalcon/tree/2.0.0/phalcon">https://github.com/phalcon/cphalcon/tree/2.0.0/phalcon</a></p>
<p>2) Introduce the methods you said, however, I don't know if we need this level of customization, since this would add more overhead, because we need to get the  right prefix from the property first and then dispatch the event.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4928" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4928" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/921be5aa7ffcdfa1624b262932738b69?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/807/moderndeveloperllc" class="user-moderator-N"><span itemprop="name">Mark Garrett</span></a>        </span>
        <br>

        <span class="karma">5.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4938" href="#C4938">
                <time itemprop="dateCreated" datetime="2014-01-10T07:26:34-07:00" class="action-date">Jan '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>True, that would introduce an extra call. After sleeping on it, I can't think of a situation where, in production code, you would want to access a list like this. You should already know what event you want to listen to. It's most helpful in developing I guess, and we have the docs for that.</p>
<p>[EDIT]<a href="https://forum.phalcon.io/user/0/boston"> @boston</a> has a more complete list</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4938" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4938" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img  src="https://secure.gravatar.com/avatar/23f127b8afebc5e0cedb57e4eb524af7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/33/xboston" class="user-moderator-Y"><span itemprop="name">Nikolay Kirsh</span></a>        </span>
        <br>

        <span class="karma">5.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C4941" href="#C4941">
                <time itemprop="dateCreated" datetime="2014-01-10T08:15:25-07:00" class="action-date">Jan '14</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Also recently made ​​a list of events, only need to select examples and startup options:</p>
<pre><code class="language-php">dispatch:
    beforeDispatchLoop
    beforeDispatch
    beforeNotFoundAction
    beforeExecuteRoute
    afterInitialize
    afterExecuteRoute
    afterDispatch
    afterDispatchLoop
    beforeException

cli:
    dispatch:beforeException

loader:
    beforeCheckClass
    pathFound
    beforeCheckPath
    afterCheckClass

acl:
    beforeCheckAccess
    afterCheckAccess

console:
    beforeStartModule
    afterStartModule
    beforeHandleTask
    afterHandleTask

db:
    beforeQuery
    afterQuery
    beginTransaction
    createSavepoint
    rollbackTransaction
    rollbackSavepoint
    commitTransaction
    releaseSavepoint

application:
    boot
    beforeStartModule
    afterStartModule
    beforeHandleRequest
    afterHandleRequest
    viewRender
    beforeSendResponse

collection:
    beforeValidation
    beforeValidationOnCreate
    beforeValidationOnUpdate
    validation
    onValidationFails
    afterValidationOnCreate
    afterValidationOnUpdate
    afterValidation
    beforeSave
    beforeUpdate
    beforeCreate
    afterUpdate
    afterCreate
    afterSave
    notSave
    notDeleted
    notSaved

micro:
    beforeHandleRoute
    beforeExecuteRoute
    afterExecuteRoute
    beforeNotFound
    afterHandleRoute

model:
    notDeleted
    notSaved
    onValidationFails
    beforeValidation
    beforeValidationOnCreate
    beforeValidationOnUpdate
    afterValidationOnCreate
    afterValidationOnUpdate
    afterValidation
    beforeSave
    beforeUpdate
    beforeCreate
    afterUpdate
    afterCreate
    afterSave
    notSave
    beforeDelete
    afterDelete

view:
    beforeRenderView
    afterRenderView
    notFoundView
    beforeRender
    afterRender

collectionManager:
    afterInitialize

modelsManager:
    afterInitialize

volt:
    compileFunction
    compileFilter
    resolveExpression
    compileStatement</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="4941" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="4941" data-cf-modified-9af549c20e3dfd1207df0dd2-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">3</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="1419" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>