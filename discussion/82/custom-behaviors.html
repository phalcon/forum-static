---
layout: default
title: 'Custom Behaviors - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/1/mvc">MVC</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Custom Behaviors</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/7/odiel" class="user-moderator-N"><span itemprop="name">odiel</span></a></span>
            <time itemprop="dateCreated" datetime="2013-02-25T15:21:50-07:00">Feb '13</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2013-02-25T15:21:50-07:00">Feb '13</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Dec '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>1853</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">2</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/4fbdf4d34dbf4054700053297aed58ac?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/7/odiel" class="user-moderator-N"><span itemprop="name">odiel</span></a></span>
                <span class="karma">12.1k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C82" href="#C82">
        <time class="action-date">Feb '13</time>
    </a>
</div>
<div class="post-content"><div><p>The example here:</p>
<p><a href="https://docs.phalcon.io/en/latest/reference/models.html#creating-your-own-behaviors">https://docs.phalcon.io/en/latest/reference/models.html#creating-your-own-behaviors</a></p>
<p>Says that the $models should be defined as an instance of ModelInterface, I think this is not valid any more for Phalcon version 0.9.1, could you guys check this?</p>
<p>I'm getting this error all the time:</p>
<p>Fatal error: Declaration of Models\Behaviors\Timestampable::notify() must be compatible with that of Phalcon\Mvc\Model\BehaviorInterface::notify() in ..../app/models/Behaviors/Timestampable.php on line 10</p>
<p>Here is the code:</p>
<p>&lt;?php</p>
<p>namespace Models\Behaviors;</p>
<p>use \Phalcon\Mvc\ModelInterface,
\Phalcon\Mvc\Model\Behavior,
\Phalcon\Mvc\Model\BehaviorInterface;</p>
<p>class Timestampable extends Behavior implements BehaviorInterface
{</p>
<pre><code>public function notify($eventType, ModelInterface $model)
{

    var_dump($eventType);die;

    if ($eventType == 'beforeCreate') {
        var_dump($model);die;

        $model-&gt;created = date('Y-m-d');
    }
}</code></pre>
<p>}</p>
<p>as soon as I remove ModelInterface type, the error disappear.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0a4893b2103244c9dfdb6b83dd334d78?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/66/arantir" class="user-moderator-N"><span itemprop="name">arantir</span></a>        </span>
        <br>

        <span class="karma">32.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C344" href="#C344">
                <time itemprop="dateCreated" datetime="2013-02-25T15:29:50-07:00" class="action-date">Feb '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>It's a typo. Look into the <a href="https://docs.phalcon.io/en/latest/api/Phalcon_Mvc_Model_BehaviorInterface.html">https://docs.phalcon.io/en/latest/api/Phalcon_Mvc_Model_BehaviorInterface.html</a>
The second argument should be an instance of Phalcon\Mvc\Model\Behavior, not Phalcon\Mvc\ModelInterface.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="344" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="344" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/4fbdf4d34dbf4054700053297aed58ac?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/7/odiel" class="user-moderator-N"><span itemprop="name">odiel</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C346" href="#C346">
                <time itemprop="dateCreated" datetime="2013-02-25T15:51:11-07:00" class="action-date">Feb '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I think you are wrong, the second argument is the model, and \Phalcon\Mvc\Model (<a href="https://docs.phalcon.io/en/latest/api/Phalcon_Mvc_Model.html">https://docs.phalcon.io/en/latest/api/Phalcon_Mvc_Model.html</a>) do not inherit or implement Phalcon\Mvc\Model\Behavior, maybe the second argument should not have an specific data type, since in my code I'm putting  all the models under namespaces.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="346" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="346" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/0a4893b2103244c9dfdb6b83dd334d78?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/66/arantir" class="user-moderator-N"><span itemprop="name">arantir</span></a>        </span>
        <br>

        <span class="karma">32.5k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C347" href="#C347">
                <time itemprop="dateCreated" datetime="2013-02-25T16:14:26-07:00" class="action-date">Feb '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>If you implement interface, you must create functions with the same signatures. In your example you implement Phalcon\Mvc\ModelInterface. As you can see, the signature of notify() in Phalcon\Mvc\ModelInterface is:</p>
<pre><code class="language-php">public notify (string $type, Phalcon\Mvc\Model\Behavior $model)</code></pre>
<p>but yours is </p>
<pre><code class="language-php">public notify($type, Phalcon\Mvc\ModelInterface $model)</code></pre>
<p>which is not equivalent to needed. And the error says you exactly same as I do.</p>
<p>Docs are written by hand and couldn't be foolproof because of human factor, but API Indice displays actual right structure, because of automatically formed from it. So you should guided by API Indice at first.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="347" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="347" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/4fbdf4d34dbf4054700053297aed58ac?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/7/odiel" class="user-moderator-N"><span itemprop="name">odiel</span></a>        </span>
        <br>

        <span class="karma">12.1k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C357" href="#C357">
                <time itemprop="dateCreated" datetime="2013-02-26T11:32:37-07:00" class="action-date">Feb '13</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I get what you say, and I'm agree with you, but that does not work for me.</p>
<p>Here is the code again, and please correct me if the code is still wrong.</p>
<pre><code class="language-php">&lt;?php

namespace Models\Behaviors;

use \Phalcon\Mvc\Model\Behavior,
    \Phalcon\Mvc\Model\BehaviorInterface;

class Timestampable extends Behavior implements BehaviorInterface
{

    public function notify($eventType, \Phalcon\Mvc\Model\Behavior $model)
    {
        if ($eventType == 'beforeValidation') {
            $model-&gt;created = date('Y-m-d');
        }
    }

}</code></pre>
<p>and I still getting the signature error:</p>
<p>Fatal error: Declaration of Models\Behaviors\Timestampable::notify() must be compatible with that of Phalcon\Mvc\Model\BehaviorInterface::notify() in ......./app/models/Behaviors/Timestampable.php on line 9</p>
<p>as soon as I remove the type of $model, everything works.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="357" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="357" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/b6f05a506b02808107f2dcaca02356ae?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
            <a href="/user/4857/gollomer" class="user-moderator-N"><span itemprop="name">gollomer</span></a>        </span>
        <br>

        <span class="karma">72</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C28241" href="#C28241">
                <time itemprop="dateCreated" datetime="2015-12-24T06:40:46-07:00" class="action-date">Dec '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>This is working for me in Phalcon 2.0.8</p>
<pre><code class="language-php">&lt;?php
use Phalcon\Mvc\ModelInterface;
use Phalcon\Mvc\Model\BehaviorInterface;
use Phalcon\Mvc\Model\Behavior;

class aclBehavior extends Behavior implements BehaviorInterface
{
    /**
     * 
     * @param string $eventType
     * @param Phalcon\Mvc\ModelInterface $model
     * @return mixed
     */
    public function notify($eventType, Phalcon\Mvc\ModelInterface $model)
    {
        if (method_exists($this, $eventType))
        {
            $this-&gt;$eventType($model);
        }
    }
}</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="28241" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="28241" data-cf-modified-46da0a5d601e01dfab0d91ea-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="82" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>