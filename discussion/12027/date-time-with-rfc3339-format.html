---
layout: default
title: 'Date Time with RFC3339 format - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/29/database">Database</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Date Time with RFC3339 format</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/6455/Horki" class="user-moderator-N"><span itemprop="name">Ivan Zvonimir Horvat</span></a></span>
            <time itemprop="dateCreated" datetime="2016-07-04T07:45:42-07:00">Jul '16</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2016-07-04T07:45:42-07:00">Jul '16</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jul '16</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">3</span>
                </td>
                <td>
                    <label>Views</label><br>2611</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/7fb3017f8e1439a8eec28135a2d5731a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/6455/Horki" class="user-moderator-N"><span itemprop="name">Ivan Zvonimir Horvat</span></a></span>
                <span class="karma">15.2k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C12027" href="#C12027">
        <time class="action-date">Jul '16</time>
    </a>
</div>
<div class="post-content"><div><ul>
<li>Storing and retreiving datetime from model by RFC 3339 standard</li>
<li>any suggestion on how to do it Phalcon way?</li>
</ul></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-219fee6a9cc2e621c00cf050-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-219fee6a9cc2e621c00cf050-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/23da2be74a85a811fb4a9f193c0f0b06?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6035/hisorange" class="user-moderator-N"><span itemprop="name">Varga Zsolt</span></a>        </span>
        <br>

        <span class="karma">1.4k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36395" href="#C36395">
                <time itemprop="dateCreated" datetime="2016-07-04T08:22:52-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code>protected $createdAt;

public function getCreatedAt()
{
    return date('Y-m-d\TH:i:sP', $this-&gt;createdAt);
}

public function setCreatedAt($value)
{
    $this-&gt;createdAt = date('YOUR DB FORMAT "U" FOR UNIXTIMESTAMP', strtotime($value));
}</code></pre>
<p>As  long as the property is protected the model will use the public accessors to interact with it, so this will work like a charm:</p>
<pre><code>
echo $robot-&gt;createdAt;
$robot-&gt;createdAt = date('d/m/Y', time() - 86400);</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36395" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36395" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer acceptedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row reply-accepted">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span><div class="accepted-reply">
                <span class="glyphicon glyphicon-ok"></span>
                Accepted<br>answer
            </div></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="36399" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '16</span>
              </span><br/><a name="C36399" href="#C36399">
                <time itemprop="dateCreated" datetime="2016-07-04T08:46:42-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><pre><code class="language-php">DateTime::RFC3339
DATE_RFC3339
    //Same as DATE_ATOM (since PHP 5.1.3) </code></pre>
<p>Working example:</p>
<pre><code class="language-php">$d = new DateTime();
echo $d-&gt;format(DATE_RFC3339); //2016-07-04T17:53:30+02:00</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36399" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36399" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">2</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/7fb3017f8e1439a8eec28135a2d5731a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6455/Horki" class="user-moderator-N"><span itemprop="name">Ivan Zvonimir Horvat</span></a>        </span>
        <br>

        <span class="karma">15.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C36425" href="#C36425">
                <time itemprop="dateCreated" datetime="2016-07-05T07:38:47-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><ul>
<li>set timezone in index.php (and in cli starting page, ...)</li>
<li>in database save always as timestamp(int)</li>
<li>output as RFC-3339, shouldn't a better way then in Model, to put it in Transformer??? (<a href="http://fractal.thephpleague.com/transformers/">http://fractal.thephpleague.com/transformers/</a>)</li>
<li>in what format to fetch a datetime from client?</li>
</ul></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36425" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36425" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/bcb5cc9f3d1e3c3cab87efd5ac1dc9c7?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/4525/stamster" class="user-moderator-N"><span itemprop="name">Jonathan Aaron Steel</span></a>        </span>
        <br>

        <span class="karma">79.0k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="36427" data-toggle="modal" data-target="#historyModal">
                edited <span>Jul '16</span>
              </span><br/><a name="C36427" href="#C36427">
                <time itemprop="dateCreated" datetime="2016-07-05T07:42:54-07:00" class="action-date">Jul '16</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>You set your timezone and anything time zone related stuff in main bootstrap file, and both your web app and CLI app can inhreit that settings. For instance, I keep such settings in <code>config.ini</code> so they can be easily changed by non-developers.</p>
<p>You don't have to save int (timestamp) in a database as such, at least for MySQL/MariaDB since <code>timestamp</code> column will have that by default in a background for you so you can query it with timestamp or with regular human readable date and time. </p>
<p>RFC-3339 provided here is PHP way, so Phalcon can only use that.  You can put it whenever you want, in Models too, why not? The important part is that you can get ouput of the preferred date format in one line.</p>
<p>Fetching datetime from a client is a bad idea IMHO, it's always better to use <code>time()</code> i.e. timestamp on the server side and to present human readable format to the client. </p>
<p>For a database structure, here's what I use:</p>
<pre><code class="language-php">  `request_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
  `response_timestamp` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP</code></pre>
<p>Pozdrav! :)</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="36427" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="36427" data-cf-modified-219fee6a9cc2e621c00cf050-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="12027" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>