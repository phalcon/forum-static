---
layout: default
title: 'How do you supply a list of values to a Volt template? - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/3/volt">Volt</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">How do you supply a list of values to a Volt template?</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a></span>
            <time itemprop="dateCreated" datetime="2017-06-18T05:14:43-07:00">Jun '17</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2017-06-18T05:14:43-07:00">Jun '17</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '17</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">2</span>
                </td>
                <td>
                    <label>Views</label><br>535</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/a4422d89d7bed6763f236da321a1747f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a></span>
                <span class="karma">9.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C16347" href="#C16347">
        <time class="action-date">Jun '17</time>
    </a>
</div>
<div class="post-content"><div><p>I tried Phalcon Volt addExtension to extend the variables available to a Volt template run through the Volt compiler. I tested several combinations of code without success. I then tested addFunction. addFunction appears to create a PHP format string in the template. What should I try next?</p>
<p>The following code adds &lt;?= \x\y::listNames() ?&gt; to the compiled template.
$this-&gt;volt-&gt;addFunction('listNames', '\x\y::listNames');</p>
<p>What I actially want to do is execute the function and return an array in the compiled template.</p>
<p>I switched to the following code. It puts the list of values in the compiled template as a list created at compile time, not execution time.
$this-&gt;volt-&gt;addFunction('listNames', function () { return $this-&gt;listNames(); });</p>
<p>Finally I used the following line.
$this-&gt;volt-&gt;addFunction('listNames', function () { return '$names = \x\y::listNames();'; });
This produced the following line in the compiled code.
&lt; ?= $names = \x\y::listNames(); ?&gt;</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-3d44dc59e0cfd734b730c378-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-3d44dc59e0cfd734b730c378-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a4422d89d7bed6763f236da321a1747f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="48825" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '17</span>
              </span><br/><a name="C48825" href="#C48825">
                <time itemprop="dateCreated" datetime="2017-06-18T05:35:40-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Part of the problem is Volt generating short strings, &lt; ?=, instead of &lt; ?php. Volt generates the proper PHP wrapper for for loops but not for assignments.   Is there a way to make Volt generate proper PHP wrappers.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48825" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48825" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a4422d89d7bed6763f236da321a1747f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48827" href="#C48827">
                <time itemprop="dateCreated" datetime="2017-06-18T06:25:21-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I found a way to make the extension work. I had to look through the compiler code to find what is expected as input to addExtension and what is expected as output. The class summary page is misleading.</p>
<p>I found a way to get arround the short tags for the assignments. Messy but it works.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48827" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48827" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/325389e30f40490e5bb113f1bf8f81e8?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6985/jakzodiac" class="user-moderator-N"><span itemprop="name">David A. Bell</span></a>        </span>
        <br>

        <span class="karma">1.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="48831" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '17</span>
              </span><br/><a name="C48831" href="#C48831">
                <time itemprop="dateCreated" datetime="2017-06-18T08:55:16-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'll be honest, whenever I try to make use of public static methods, I just use PHP code directly in the volt template. Something usually similar to this:</p>
<blockquote>
<p>&lt;?php echo Project\Namespace\Class::SomeMethod(); ?&gt;</p>
</blockquote>
<p>It works just as intented.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48831" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48831" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a4422d89d7bed6763f236da321a1747f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48837" href="#C48837">
                <time itemprop="dateCreated" datetime="2017-06-18T17:55:25-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hello Jak,
I want to limit/prevent the use of PHP in templates. It might be ok for experienced administrators but not in templates edited by content authors.</p>
<p>I have the following code working to add an extension prior to compilation. The extension could be varied depending on the user editng the content.</p>
<p>$this-&gt;volt-&gt;addExtension($this-&gt;getVoltCompileExtension());</p>
<p>The extension contains code similar to the following. I can then supply only what is needed and is authorrised. $abc could be the admin version or the content author version.</p>
<pre><code>public function compileFunction($name, $arguments, $funcArguments)
    {
    if ($name == 'abc')
        {
        return '$junk ?&gt;' . "\n"
            . '&lt;?php $abc = new \Ab\C();';
        }</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48837" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48837" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a4422d89d7bed6763f236da321a1747f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48839" href="#C48839">
                <time itemprop="dateCreated" datetime="2017-06-18T17:56:45-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Your mention of PHP code in templates produces the question: How do you stop people inserting PHP code in a template?</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48839" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48839" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/325389e30f40490e5bb113f1bf8f81e8?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/6985/jakzodiac" class="user-moderator-N"><span itemprop="name">David A. Bell</span></a>        </span>
        <br>

        <span class="karma">1.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48875" href="#C48875">
                <time itemprop="dateCreated" datetime="2017-06-19T09:54:57-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hi Peter, I don't honestly know how to limit PHP code within the template withou building that functionality from scratch. The templates themselves compile directly into PHP and are stored in the cache, so I don't see why you would go out of your way to block PHP in the views. </p>
<p>That said, it sounds to me like you need to separate your areas of concern just a little more. You really should have your Controller handle this and pass it as a variables. Ideally, the view should not &quot;compile&quot; anything just format and fill based upon templating functions.</p>
<p>I suppose you could build a plugin that checks your volt files before they are compiled... your know like a strpos() looking for things like (&quot;&lt;?&quot;, &quot;&lt;?php&quot;). That might be easiest. Unless of course someone else knows a better way.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48875" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48875" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/a4422d89d7bed6763f236da321a1747f?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/9683/petermoo" class="user-moderator-N"><span itemprop="name">Peter</span></a>        </span>
        <br>

        <span class="karma">9.7k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C48893" href="#C48893">
                <time itemprop="dateCreated" datetime="2017-06-19T16:42:26-07:00" class="action-date">Jun '17</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Hello Jak, I am not using a view for the user edited templates. They are things like email templates. The editor can access what they are authorised to access. introducing PHP in the template could let them bypass the restrictions. The editors cannot access the compiled templates. The restriction on PHP would be applied on input to the compile.</p>
<p>I am experimenting with addExtension. I can add extra functions to Volt based on the editor's access level. The generated PHP could also check the access level for whoever uses the compiled template. For example, an editor might be authorised to see all users. the user sending the email through a template might be only able to see their connected users.</p>
<p>I will convert to Phalcon 3.2 then revisit the compiler controls.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="48893" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="48893" data-cf-modified-3d44dc59e0cfd734b730c378-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="16347" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>