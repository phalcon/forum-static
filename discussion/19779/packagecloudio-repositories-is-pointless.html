---
layout: default
title: 'packagecloud.io repositories is pointless - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">packagecloud.io repositories is pointless</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/10425/PutinVladimir" class="user-moderator-N"><span itemprop="name">PutinVladimir</span></a></span>
            <time itemprop="dateCreated" datetime="2019-06-19T21:41:20-07:00">Jun '19</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2019-06-19T21:41:20-07:00">Jun '19</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jun '19</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">4</span>
                </td>
                <td>
                    <label>Views</label><br>433</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">0</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/5c0fe80328afed6315c17001144dbd2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/10425/PutinVladimir" class="user-moderator-N"><span itemprop="name">PutinVladimir</span></a></span>
                <span class="karma">1.5k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C19779" href="#C19779">
        <time class="action-date">Jun '19</time>
    </a>
</div>
<div class="post-content"><div><p>Since v4 depends on &quot;PSR PHP extension&quot; repo is pointless. You should pack PSR-extension and add it as depends for phalcon4 package.</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
        <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/877a54304e07c8cb38c47b43e1d6b6b3?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2828/sergeyklay" class="user-moderator-Y"><span itemprop="name">Serghei Iakovlev</span></a>        </span>
        <br>

        <span class="karma">39.2k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60131" href="#C60131">
                <time itemprop="dateCreated" datetime="2019-06-20T06:27:19-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>Question: Phalcon depends on mbstring, pdo, mysql, json, gd, imagic, apc, memcached, etc. Should we pack all them into DEB/PRM packages? In other hand there is no official PSR package thus we can't add it to <code>depends</code> section on Phalcon package build stage. IMO It is PSR maintainr responsibility to create package for PSR extension. As for now the better way to install PSR extension is:</p>
<pre><code class="language-bash">pecl install psr</code></pre></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60131" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60131" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5c0fe80328afed6315c17001144dbd2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10425/PutinVladimir" class="user-moderator-N"><span itemprop="name">PutinVladimir</span></a>        </span>
        <br>

        <span class="karma">1.5k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60131"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/877a54304e07c8cb38c47b43e1d6b6b3?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Serghei Iakovlev                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="60133" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '19</span>
              </span><br/><a name="C60133" href="#C60133">
                <time itemprop="dateCreated" datetime="2019-06-20T06:44:14-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>Question: Phalcon depends on mbstring, pdo, mysql, json, gd, imagic, apc, memcached, etc. Should we pack all them into DEB/PRM packages?</p>
</blockquote>
<p>All packages you wrote is optional for phalcon and must be added as recomended\optional dependencies.</p>
<p>But If phalcon don't work without it and it is not standard package in distributive YES you should pack them all.</p>
<blockquote>
<p>In other hand there is no official PSR package thus we can't add it to <code>depends</code> section on Phalcon package build stage. IMO It is PSR maintainr responsibility to create package for PSR extension.</p>
</blockquote>
<p>Phalcon developers do phalcon depends on PSR extension so they should add this dependency in debian package. And next they can deliver package for PSR or Not doing this, then phalcon package can't be installed. It is will be much better against install and not working like now.</p>
<blockquote>
<p>As for now the better way to install PSR extension is:
pecl install psr</p>
</blockquote>
<p>Worst way. There is only two choices: developers doing packages for distr and it is working or not doing anything and it is better then doing broken package.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60133" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60133" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="60135" data-toggle="modal" data-target="#historyModal">
                edited <span>Jan '20</span>
              </span><br/><a name="C60135" href="#C60135">
                <time itemprop="dateCreated" datetime="2019-06-20T07:00:57-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>The PSR extension is required only by components that are utilizing those interfaces. Examples: Logger, Http\Message etc. If you install Phalcon and never use those packages then it works just fine.</p>
<p>Packaging someone else's code as Serghei mentioned is always a bad idea because we will have to maintain the &quot;link&quot; between the two extensions. </p>
<p>Sorry but I do not see a problem with issuing </p>
<pre><code>pecl install psr</code></pre>
<p>before Phalcon to be such a great issue.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60135" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60135" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5c0fe80328afed6315c17001144dbd2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10425/PutinVladimir" class="user-moderator-N"><span itemprop="name">PutinVladimir</span></a>        </span>
        <br>

        <span class="karma">1.5k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60135"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Nikolaos Dimopoulos                    </a>
                </div><div class="posts-buttons" align="right"><a name="C60137" href="#C60137">
                <time itemprop="dateCreated" datetime="2019-06-20T07:13:35-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>The PSR extension is required only by components that are utilizing those interfaces. Examples: <code>Logger</code>, <code>Http\Message</code> etc. If you install Phalcon and never use those packages then it works just fine.</p>
</blockquote>
<p>You are mistaken. Php7.3+Phalcon4 is not working. When php loads phalcon.so it is core dump with somethings like &quot;PHP Fatal error:  Class 'psr\http\message\streaminterface' not found in Unknown on line 0
Segmentation fault&quot;.</p>
<blockquote>
<p>Packaging someone else's code as Serghei mentioned is always a bad idea because we will have to maintain the &quot;link&quot; between the two extensions. </p>
</blockquote>
<p>It is was choice before hardly depend on not common extension.</p>
<blockquote>
<p>Sorry but I do not see a problem with issuging </p>
</blockquote>
<p>Problem is Sergey provide now package which break down php. If I compiling something I also can compile phalcon.so too....</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60137" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60137" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60139" href="#C60139">
                <time itemprop="dateCreated" datetime="2019-06-20T07:48:18-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<p>You are mistaken. Php7.3+Phalcon4 is not working. When php loads phalcon.so it is core dump with somethings like &quot;PHP Fatal error:  Class 'psr\http\message\streaminterface' not found in Unknown on line 0
Segmentation fault&quot;.</p>
</blockquote>
<p>I stand corrected then</p>
<blockquote>
<p>It is was choice before hardly depend on not common extension.</p>
</blockquote>
<p>PSR has been a standard for years now. The difference is that any other framework just uses composer which in turn pulls the package down and the developer does not even notice the package. Since Phalcon is an extension it will nto work with a composer based installation of PSR and thus PSR has to be loaded as an extension before that. </p>
<p>The same thing happens with PDO. PDO has to be loaded before Phalcon and that has been a requirement since v2. Honestly I do not see the problem here. The packagist packages offered do not come with PDO either. The developer installs PDO before Phalcon and the same thing will happen in v4 with PSR.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60139" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60139" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/5c0fe80328afed6315c17001144dbd2a?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/10425/PutinVladimir" class="user-moderator-N"><span itemprop="name">PutinVladimir</span></a>        </span>
        <br>

        <span class="karma">1.5k</span></div>
    <div class="col-md-11"><div class="in-reply-to">
                    <a href="#C60139"><span class="glyphicon glyphicon-chevron-up"></span> in reply to
                        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" width="24" height="24" />                        Nikolaos Dimopoulos                    </a>
                </div><div class="posts-buttons" align="right"><span class="action-date action-reply-edit" data-id="60141" data-toggle="modal" data-target="#historyModal">
                edited <span>Jun '19</span>
              </span><br/><a name="C60141" href="#C60141">
                <time itemprop="dateCreated" datetime="2019-06-20T08:04:59-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><blockquote>
<blockquote>
<p>You are mistaken. Php7.3+Phalcon4 is not working. When php loads phalcon.so it is core dump with somethings like &quot;PHP Fatal error:  Class 'psr\http\message\streaminterface' not found in Unknown on line 0
Segmentation fault&quot;.</p>
</blockquote>
<p>I stand corrected then</p>
<blockquote>
<p>It is was choice before hardly depend on not common extension.</p>
</blockquote>
<p>PSR has been a standard for years now.</p>
</blockquote>
<p>I meant not PSR I mean not commonly used php extension.</p>
<blockquote>
<p>The difference is that any other framework just uses composer which in turn pulls the package down and the developer does not even notice the package. Since Phalcon is an extension it will nto work with a composer based installation of PSR and thus PSR has to be loaded as an extension before that.</p>
</blockquote>
<p>So this is work for distro package manager.</p>
<blockquote>
<p>The same thing happens with PDO. PDO has to be loaded before Phalcon and that has been a requirement since v2.</p>
</blockquote>
<p>PDO extension is standart package in any distro with php. But if php core dumps when load phalcon.so without pdo.so it should be in package depends too.</p>
<blockquote>
<p>Honestly I do not see the problem here. The packagist packages offered do not come with PDO either.</p>
</blockquote>
<p>PDO extension available in distro.</p>
<blockquote>
<p>The developer installs PDO before Phalcon and the same thing will happen in v4 with PSR.</p>
</blockquote>
<p>Yes install PDO using distro package manager and mainly it is install not for phalcon only. And as I say if phalcon coredumped when apt-get install phalcon then should install pdo as dependency too if it steel not installed...</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60141" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60141" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/1eb2415bda000b22fd1f801bb9e8c003?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2/niden" class="user-moderator-Y"><span itemprop="name">Nikolaos Dimopoulos</span></a>        </span>
        <br>

        <span class="karma">39.3k</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C60147" href="#C60147">
                <time itemprop="dateCreated" datetime="2019-06-20T09:33:07-07:00" class="action-date">Jun '19</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I understand where you are coming from and hope that I made it clear what our approach is.</p>
<p>If you feel that this process can be enhanced or become better, by all means we welcome pull requests.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="60147" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="60147" data-cf-modified-d76873c806d1c28b45b0c1c4-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="19779" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>