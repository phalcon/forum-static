---
layout: default
title: 'phalcon-compose 503 Service Unavailable - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="https://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/6/installation">Installation</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">phalcon-compose 503 Service Unavailable</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="/user/10921/OverBIK" class="user-moderator-N"><span itemprop="name">OverBIK</span></a></span>
            <time itemprop="dateCreated" datetime="2018-03-14T05:16:18-07:00">Mar '18</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2018-03-14T05:16:18-07:00">Mar '18</time>
                </td>
                <td>
                    <label>Last Reply</label><br>None</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">0</span>
                </td>
                <td>
                    <label>Views</label><br>512</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/e7f1cd2180ea1fe3a975b4060b9694fe?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="https://schema.org/Person" class="avatar-name"><a href="/user/10921/OverBIK" class="user-moderator-N"><span itemprop="name">OverBIK</span></a></span>
                <span class="karma">581</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C17913" href="#C17913">
        <time class="action-date">Mar '18</time>
    </a>
</div>
<div class="post-content"><div><p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="671214021527040209130814">[email&#160;protected]</a> ~]$ <strong>git clone <a href="https://github.com/phalcon/phalcon-compose">https://github.com/phalcon/phalcon-compose</a> phalcon</strong></p>
<p>Cloning into 'phalcon'...</p>
<p>remote: Counting objects: 759, done.</p>
<p>remote: Total 759 (delta 0), reused 0 (delta 0), pack-reused 759</p>
<p>Receiving objects: 100% (759/759), 165.43 KiB | 444.00 KiB/s, done.</p>
<p>Resolving deltas: 100% (387/387), done.</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="14616771665477717a607b67">[email&#160;protected]</a> ~]$ cd phalcon/</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="52272137201231373c263d21">[email&#160;protected]</a> phalcon]$ ll</p>
<p>total 96K</p>
<p>drwxr-xr-x. 10 user user 4.0K Mar 14 20:55 .</p>
<p>drwx------.  5 user user 4.0K Mar 14 20:55 ..</p>
<p>drwxr-xr-x.  2 user user 4.0K Mar 14 20:55 bin</p>
<p>drwxr-xr-x.  2 user user 4.0K Mar 14 20:55 cache</p>
<p>-rw-r--r--.  1 user user 1.4K Mar 14 20:55 composer.json</p>
<p>drwxr-xr-x.  4 user user 4.0K Mar 14 20:55 conf</p>
<p>drwxr-xr-x.  3 user user 4.0K Mar 14 20:55 data</p>
<p>drwxr-xr-x.  3 user user 4.0K Mar 14 20:55 docker</p>
<p>-rw-r--r--.  1 user user 2.3K Mar 14 20:55 docker-compose.yml</p>
<p>-rw-r--r--.  1 user user  378 Mar 14 20:55 .editorconfig</p>
<p>-rw-r--r--.  1 user user  312 Mar 14 20:55 Gemfile</p>
<p>-rw-r--r--.  1 user user 1.2K Mar 14 20:55 Gemfile.lock</p>
<p>drwxr-xr-x.  8 user user 4.0K Mar 14 20:55 .git</p>
<p>-rw-r--r--.  1 user user  106 Mar 14 20:55 .gitattributes</p>
<p>-rw-r--r--.  1 user user  407 Mar 14 20:55 .gitignore</p>
<p>-rw-r--r--.  1 user user 1.1K Mar 14 20:55 LICENSE.txt</p>
<p>drwxr-xr-x.  2 user user 4.0K Mar 14 20:55 logs</p>
<p>-rw-r--r--.  1 user user 3.2K Mar 14 20:55 Makefile</p>
<p>-rw-r--r--.  1 user user  685 Mar 14 20:55 Rakefile</p>
<p>-rw-r--r--.  1 user user 1.4K Mar 14 20:55 README.md</p>
<p>-rw-r--r--.  1 user user   31 Mar 14 20:55 .rspec</p>
<p>drwxr-xr-x.  3 user user 4.0K Mar 14 20:55 spec</p>
<p>-rw-r--r--.  1 user user 1.1K Mar 14 20:55 .travis.yml</p>
<p>-rw-r--r--.  1 user user  990 Mar 14 20:55 variables.env.example</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d4a1a7b1a694b7b1baa0bba7">[email&#160;protected]</a> phalcon]$ <strong>cp variables.env.example variables.env</strong></p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="89fcfaecfbc9eaece7fde6fa">[email&#160;protected]</a> phalcon]$ <strong>docker-compose build</strong></p>
<p>mysql uses an image, skipping</p>
<p>Building app</p>
<p>Step 1/5 : FROM phalconphp/php-apache:ubuntu-16.04</p>
<p>ubuntu-16.04: Pulling from phalconphp/php-apache</p>
<p>50aff78429b1: Extracting [=================================&gt;                 ]   28.9MB/42.74MB</p>
<p>f6d82e297bce: Pull complete</p>
<p>275abb2c8a6f: Pull complete</p>
<p>9f15a39356d6: Pull complete</p>
<p>fc0342a94c89: Pull complete</p>
<p>bd285114816e: Pull complete</p>
<p>00783529147d: Pull complete</p>
<p>eef9321c141c: Pull complete</p>
<p>6550209004c0: Pull complete</p>
<p>cbf97f04c200: Pull complete</p>
<p>52468f0294cc: Pull complete</p>
<p>19d6bf313571: Pull complete</p>
<p>bce5c0bac6bf: Pull complete</p>
<p>ee25109c0e9a: Pull complete</p>
<p>3bb98286a7ab: Pull complete</p>
<p>c0fb70f592e0: Pull complete</p>
<p>45d9e3f1cd1c: Pull complete</p>
<p>2db7c78b673d: Pull complete</p>
<p>705b0d5b53b6: Pull complete</p>
<p>ea9f3511d755: Pull complete</p>
<p>78a2e910e7c7: Pull complete</p>
<p>cdebb2b81f7b: Pull complete</p>
<p>32867ae27dfc: Pull complete</p>
<p>877562230694: Pull complete</p>
<p>Digest: sha256:a96dc62d654908d3988cc3063ce39560b3b5a4e85eaf6f1a2df75582620527ce</p>
<p>Status: Downloaded newer image for phalconphp/php-apache:ubuntu-16.04</p>
<p>---&gt; 2743a216fc05</p>
<p>Step 2/5 : MAINTAINER Serghei Iakovlev <a href="/cdn-cgi/l/email-protection#d9aabcabbeb1bcb099a9b1b8b5bab6b7f7b0b6"><span class="__cf_email__" data-cfemail="22514750454a474b62524a434e414d4c0c4b4d">[email&#160;protected]</span></a></p>
<p>---&gt; Running in 2770926d1545</p>
<p>Removing intermediate container 2770926d1545</p>
<p>---&gt; f08626be5008</p>
<p>Step 3/5 : ENV PROVISION_CONTEXT &quot;development&quot;</p>
<p>---&gt; Running in e61de62eed6f</p>
<p>Removing intermediate container e61de62eed6f</p>
<p>---&gt; 13674e0ebacf</p>
<p>Step 4/5 : COPY bin/*.sh /opt/docker/provision/entrypoint.d/</p>
<p>---&gt; 91d94d46d18b</p>
<p>Step 5/5 : RUN mkdir -p /vendor     &amp;&amp; composer --working-dir=/vendor require ph<br />
alcon/devtools     &amp;&amp; ln -s /vendor/vendor/phalcon/devtools/phalcon.php /usr/loc<br />
al/bin/phalcon     &amp;&amp; chmod ugo+x /usr/local/bin/phalcon     &amp;&amp; chmod +x /opt/do<br />
cker/provision/entrypoint.d/*.sh</p>
<p>---&gt; Running in b004d6a80831</p>
<p>Using version ^3.2 for phalcon/devtools</p>
<p>./composer.json has been created</p>
<p>Loading composer repositories with package information</p>
<p>Updating dependencies (including require-dev)</p>
<p>Package operations: 11 installs, 0 updates, 0 removals</p>
<ul>
<li>
<p>Installing jakub-onderka/php-console-color (0.1): Downloading (100%)                                                                                                                                     </p>
</li>
<li>
<p>Installing jakub-onderka/php-console-highlighter (v0.3.2): Downloading (100%)</p>
</li>
<li>
<p>Installing dnoegel/php-xdg-base-dir (0.1): Downloading (100%)</p>
</li>
<li>
<p>Installing nikic/php-parser (v3.1.5): Downloading (100%)</p>
</li>
<li>
<p>Installing symfony/polyfill-mbstring (v1.7.0): Downloading (100%)</p>
</li>
<li>
<p>Installing symfony/var-dumper (v3.4.6): Downloading (100%)</p>
</li>
<li>
<p>Installing psr/log (1.0.2): Downloading (100%)</p>
</li>
<li>
<p>Installing symfony/debug (v3.4.6): Downloading (100%)</p>
<ul>
<li>
<p>Installing symfony/console (v3.4.6): Downloading (100%)</p>
</li>
<li>
<p>Installing psy/psysh (v0.8.17): Downloading (100%)</p>
</li>
<li>Installing phalcon/devtools (v3.2.12): Downloading (100%)</li>
</ul>
</li>
</ul>
<p>symfony/var-dumper suggests installing ext-symfony_debug ()</p>
<p>symfony/console suggests installing symfony/event-dispatcher ()</p>
<p>symfony/console suggests installing symfony/lock ()</p>
<p>symfony/console suggests installing symfony/process ()</p>
<p>psy/psysh suggests installing ext-pdo-sqlite (The doc command requires SQLite to work.)</p>
<p>psy/psysh suggests installing hoa/console (A pure PHP readline implementation. You'll want this if your PHP install doesn't already support readline or libedit.)</p>
<p>Writing lock file</p>
<p>Generating autoload files</p>
<p>Removing intermediate container b004d6a80831</p>
<p>---&gt; b13f78c20c21</p>
<p>Successfully built b13f78c20c21</p>
<p>Successfully tagged phalcon_app:latest</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b0c5c3d5c2f0d3d5dec4dfc3">[email&#160;protected]</a> phalcon]$ docker-compose up -d</p>
<p>Creating network &quot;phalcon_default&quot; with the default driver</p>
<p>Creating volume &quot;phalcon_mysql&quot; with local driver</p>
<p>Pulling mysql (mysql:5.7)...</p>
<p>5.7: Pulling from library/mysql</p>
<p>2a72cbf407d6: Pull complete</p>
<p>38680a9b47a8: Pull complete</p>
<p>4c732aa0eb1b: Pull complete</p>
<p>c5317a34eddd: Pull complete</p>
<p>f92be680366c: Pull complete</p>
<p>e8ecd8bec5ab: Pull complete</p>
<p>2a650284a6a8: Pull complete</p>
<p>5b5108d08c6d: Pull complete</p>
<p>beaff1261757: Pull complete</p>
<p>c1a55c6375b5: Pull complete</p>
<p>8181cde51c65: Pull complete</p>
<p>Digest: sha256:691c55aabb3c4e3b89b953dd2f022f7ea845e5443954767d321d5f5fa394e28c</p>
<p>Creating phalcon_mysql_1 ... done</p>
<p>Creating phalcon_mysql_1 ...</p>
<p>Creating phalcon_app_1   ... done</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f580869087b596909b819a86">[email&#160;protected]</a> phalcon]$ ll</p>
<p>total 100K</p>
<p>drwxr-xr-x. 10 user user 4.0K Mar 14 20:56 .</p>
<p>drwx------.  5 user user 4.0K Mar 14 20:55 ..</p>
<p>drwxr-xr-x.  2 user user 4.0K Mar 14 20:55 bin</p>
<p>drwxr-xr-x.  2 user user 4.0K Mar 14 20:55 cache</p>
<p>-rw-r--r--.  1 user user 1.4K Mar 14 20:55 composer.json</p>
<p>drwxr-xr-x.  4 user user 4.0K Mar 14 20:55 conf</p>
<p>drwxr-xr-x.  3 user user 4.0K Mar 14 20:55 data</p>
<p>drwxr-xr-x.  3 user user 4.0K Mar 14 20:55 docker</p>
<p>-rwxrw-rw-.  1 user user  700 Mar 14 20:57 docker-compose.yml</p>
<p>-rw-r--r--.  1 user user  378 Mar 14 20:55 .editorconfig</p>
<p>-rw-r--r--.  1 user user  312 Mar 14 20:55 Gemfile</p>
<p>-rw-r--r--.  1 user user 1.2K Mar 14 20:55 Gemfile.lock</p>
<p>drwxr-xr-x.  8 user user 4.0K Mar 14 20:55 .git</p>
<p>-rw-r--r--.  1 user user  106 Mar 14 20:55 .gitattributes</p>
<p>-rw-r--r--.  1 user user  407 Mar 14 20:55 .gitignore</p>
<p>-rw-r--r--.  1 user user 1.1K Mar 14 20:55 LICENSE.txt</p>
<p>drwxr-xr-x.  2 user user 4.0K Mar 14 20:55 logs</p>
<p>-rw-r--r--.  1 user user 3.2K Mar 14 20:55 Makefile</p>
<p>-rw-r--r--.  1 user user  685 Mar 14 20:55 Rakefile</p>
<p>-rw-r--r--.  1 user user 1.4K Mar 14 20:55 README.md</p>
<p>-rw-r--r--.  1 user user   31 Mar 14 20:55 .rspec</p>
<p>drwxr-xr-x.  3 user user 4.0K Mar 14 20:55 spec</p>
<p>-rw-r--r--.  1 user user 1.1K Mar 14 20:55 .travis.yml</p>
<p>-rwxrw-rw-.  1 user user  769 Mar 14 20:56 variables.env</p>
<p>-rw-r--r--.  1 user user  990 Mar 14 20:55 variables.env.example</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f580869087b596909b819a86">[email&#160;protected]</a> phalcon]$ <strong>docker ps -a</strong></p>
<p>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                                NAMES</p>
<p>7f24f0ceccb6        phalcon_app         &quot;/entrypoint supervi…&quot;   18 seconds ago      Up 13 seconds       0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 9000/tcp<br />
phalcon_app_1</p>
<p>58fa96c9cc6e        mysql:5.7           &quot;docker-entrypoint.s…&quot;   19 seconds ago      Up 17 seconds       0.0.0.0:3306-&gt;3306/tcp<br />
phalcon_mysql_1</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d5a0a6b0a795b6b0bba1baa6">[email&#160;protected]</a> phalcon]$ <strong>docker exec -it phalcon_app_1 phalcon project application simple</strong></p>
<p>Phalcon DevTools (3.2.12)</p>
<p>Success: Controller &quot;index&quot; was successfully created.</p>
<p>/project/application/app/controllers/IndexController.php</p>
<p>Success: Project 'application' was successfully created.</p>
<p>Please choose a password and username to use Database connection. Used default:'root' without password.</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6c3c5d3c4f6d5d3d8c2d9c5">[email&#160;protected]</a> phalcon]$ <strong>cat variables.env</strong></p>
<h1>MySQL settings</h1>
<p>MYSQL_ROOT_PASSWORD=votmdnjem</p>
<p>MYSQL_DATABASE=cube</p>
<p>MYSQL_USER=cube</p>
<p>MYSQL_PASSWORD=gozj</p>
<h1>Application</h1>
<p>WEB_DOCUMENT_ROOT=/project/application/public</p>
<p>WEB_ALIAS_DOMAIN=phalcon.local</p>
<p>APPLICATION_CACHE=/project/cache</p>
<p>APPLICATION_LOGS=/project/logs</p>
<h1>production | development | staging | testing</h1>
<p>APPLICATION_ENV=development</p>
<h1>Debug</h1>
<h1>Note: For debugging purposes you have to setup Xdebug by passing required parameters</h1>
<p>PHP_DEBUGGER=xdebug</p>
<h1>Please provide your host (local machine IP) instead of 192.168.1.129</h1>
<p>XDEBUG_REMOTE_HOST=192.168.1.129</p>
<h1>php.ini value for xdebug.remote_port</h1>
<p>XDEBUG_REMOTE_PORT=9000</p>
<h1>php.ini value for xdebug.remote_autostart</h1>
<h1>XDEBUG_REMOTE_AUTOSTART=0</h1>
<h1>php.ini value for xdebug.remote_connect_back</h1>
<p>XDEBUG_REMOTE_CONNECT_BACK=0</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0c797f697e4c6f696278637f">[email&#160;protected]</a> phalcon]$ <strong>cat docker-compose.yml</strong></p>
<p>version: '2'</p>
<p>services:</p>
<p>mysql:</p>
<p>restart: always</p>
<p>image: mysql:5.7</p>
<p>expose:</p>
<ul>
<li>&quot;3306&quot;</li>
</ul>
<p>ports:</p>
<ul>
<li>&quot;3306:3306&quot;</li>
</ul>
<p>volumes:</p>
<ul>
<li>
<p>./data/mysql:/docker-entrypoint-initdb.d</p>
</li>
<li>
<p>mysql:/var/lib/mysql</p>
</li>
<li>./conf/mysql/my.cnf:/etc/mysql/conf.d/my.cnf</li>
</ul>
<p>env_file:</p>
<ul>
<li>variables.env</li>
</ul>
<p>app:</p>
<p>build: docker/app</p>
<p>restart: always</p>
<p>working_dir: /project</p>
<p>ports:</p>
<ul>
<li>
<p>&quot;80:80&quot;</p>
</li>
<li>&quot;443:443&quot;</li>
</ul>
<p>volumes:</p>
<ul>
<li>
<p>.:/project</p>
</li>
<li>
<p>./conf/php/cli.ini:/etc/php/7.0/cli/conf.d/99-custom.ini</p>
</li>
<li>./conf/php/fpm.ini:/etc/php/7.0/fpm/conf.d/99-custom.ini</li>
</ul>
<p>depends_on:</p>
<ul>
<li>mysql</li>
</ul>
<p>env_file:</p>
<ul>
<li>variables.env</li>
</ul>
<p>volumes:</p>
<p>mysql:</p>
<p>driver: local</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="90e5e3f5e2d0f3f5fee4ffe3">[email&#160;protected]</a> phalcon]$ <strong>docker --version</strong></p>
<p>Docker version 17.12.1-ce, build 7390fc6</p>
<p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="44313721360427212a302b37">[email&#160;protected]</a> phalcon]$ <strong>docker-compose --version</strong></p>
<p>docker-compose version 1.19.0, build 9e633ef</p>
<p>i use centos and ubuntu in docker... same 503 error...</p>
<p>but not use docker no have error...</p>
<p>plz help me!</p>
<p>Service Unavailable</p>
<p>The server is temporarily unable to service your request due to maintenance downtime or capacity problems. Please try again later.</p>
<p>Apache/2.4.18 (Ubuntu) Server at 192.168.0.6 Port 80</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-bfa829a249444b1ac3988347-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-bfa829a249444b1ac3988347-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="17913" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>