---
layout: default
title: 'Dev Tools Migrations / phalcon DBO and timestamps in schemas - Discussion'
---

    <div class="container">
        {% include warning.html %}


<div itemscope itemtype="http://schema.org/Question"><ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/category/12/developer-tools">Developer Tools</a></li>
</ol>
<div class="row table-title">
    <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 wrapper-author">
        <h1 class="" itemprop="name">Dev Tools Migrations / phalcon DBO and timestamps in schemas</h1>
        <div class="visible-xs-block mobile-author">
            <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/user/1788/runningbush" class="user-moderator-N"><span itemprop="name">runningbush</span></a></span>
            <time itemprop="dateCreated" datetime="2014-06-10T23:46:37-07:00">Jun '14</time>
        </div>
    </div>
    <div class="col-lg-4 col-md-5 col-sm-6 hidden-xs text-right wrapper-stats">
        <table class="table-stats" width="100%">
            <tr style="vertical-align: top;">
                <td>
                    <label>Created</label><br>
                    <time itemprop="dateCreated" datetime="2014-06-10T23:46:37-07:00">Jun '14</time>
                </td>
                <td>
                    <label>Last Reply</label><br>Jan '15</td>
                <td>
                    <label>Replies</label><br>
                    <span itemprop="answerCount">1</span>
                </td>
                <td>
                    <label>Views</label><br>871</td>
                <td>
                    <label>Votes</label><br>
                    <span itemprop="upvoteCount">1</span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="discussion">
        <div class="row reply-block">
            <div class="col-md-1 col-sm-1 hidden-xs text-center">
                <img src="https://secure.gravatar.com/avatar/247a743e816f30b04a5db29599d48a3b?s=48&amp;r=pg&amp;d=identicon" class="img-rounded avatar" /><br>
                <span itemprop="author" itemscope itemtype="http://schema.org/Person" class="avatar-name"><a href="/user/1788/runningbush" class="user-moderator-N"><span itemprop="name">runningbush</span></a></span>
                <span class="karma">2.7k</span>
            </div>
            <div class="col-md-11 col-sm-11 col-xs-12 post-body"><div class="posts-date hidden-xs" align="right">
        <a name="C2523" href="#C2523">
        <time class="action-date">Jun '14</time>
    </a>
</div>
<div class="post-content"><div><p>Hi all,</p>
<p>I'm fairly new to Phalcon but I'm building a multi-module app with a fairly involved database.</p>
<p>I was excited to see that phalcon dev-tools had functions to generate database migrations and manage version control but I'm having some trouble getting the functionality I'd like out of it and the documentation seems a little limited.</p>
<p>Question #1 - When I run a migration on a database table that I have a column setup as a timestamp and update to current timestamp on, the devtools migration produces a class with code that doesn't reflect the mysql schema. The column ends up as type 'date'. In fact there seems to be no TIMESTAMP attribute for type of column in migrations or in db/pdo/mysql. I was hoping to generate table structure with createtable of pdo/mysql and keep track of it with migrations - but it seems the code won't allow for timestamp columns (or other special attributes?) in the schema?</p>
<p>Am I missing something here?</p>
<p>Question #2 - Assuming that I get migrations sorted - is it possible to set WHICH database to migrate to? By that I mean what if an app has several databases on the same server (separate clients). Migrations seem to just go with the default config db connection and there doesn't appear to be a way to set this with a comand line option. Is this possible with the config fle option in the command line? And what would the syntax look like?</p>
<p>Thanks for any help on either of these 2 questions!</p>
<p>-Matt</p></div>                </div>

                <div class="posts-buttons text-right"><a href="#"  class="btn btn-danger btn-xs" data-cf-modified-53f200f7c76dd6669bf21999-="">
        <span class="glyphicon glyphicon-thumbs-down"></span></a>
    <a href="#"  class="btn btn-success btn-xs" data-cf-modified-53f200f7c76dd6669bf21999-="">
        <span class="glyphicon glyphicon-thumbs-up"></span><span itemprop="upvoteCount">1</span></a></div>
            </div>
        </div><div itemprop="suggestedAnswer" itemscope itemtype="http://schema.org/Answer" class="reply-block row">
    <div class="col-md-1 small" align="center">
        <img src="https://secure.gravatar.com/avatar/6935b795a9de2def9a565818e2f63420?s=48&amp;r=pg&amp;d=identicon" class="img-rounded" />        <br>

        <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a href="/user/2234/mrthebob" class="user-moderator-N"><span itemprop="name">Mike B</span></a>        </span>
        <br>

        <span class="karma">100</span></div>
    <div class="col-md-11"><div class="posts-buttons" align="right"><a name="C15110" href="#C15110">
                <time itemprop="dateCreated" datetime="2015-01-20T13:40:11-07:00" class="action-date">Jan '15</time>
            </a>
        </div>
        <div class="post-content"><div itemprop="text"><p>I'd like to know the same thing.  I'm actually using Percona 5.6, so I would like to take it one step further and have a column that could take CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP.</p></div></div>
        <div class="posts-buttons" align="right"><a href="#"  class="btn btn-danger btn-xs vote-login" data-id="15110" data-cf-modified-53f200f7c76dd6669bf21999-="">
                    <span class="glyphicon glyphicon-thumbs-down"></span></a>
                <a href="#"  class="btn btn-success btn-xs vote-login" data-id="15110" data-cf-modified-53f200f7c76dd6669bf21999-="">
                    <span class="glyphicon glyphicon-thumbs-up"></span></a></div>
    </div>
</div>
<div class="row"><div class="col-md-1 small" align="center"></div>
        <div class="col-md-11 login-comment">
            
        </div></div>
</div><input type="hidden" id="post-id" name="post-id" value="2523" /><div id="suggested-posts"></div>
    <div id="sticky-progress" style='display:none'></div>
</div>
    </div>